webpackJsonp([4],[function(e,t,n){"use strict";n(134),n(135),n(4),n(133),n(213),n(50),n(603),n(602),n(371),n(372)},function(e,t){(function(e){"use strict";function scheduleMicroTask(e){Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function getTypeNameForDebugging(e){return e.name?e.name:typeof e}function lockMode(){a=!0}function enableProdMode(){if(a)throw"Cannot enable prod mode after platform setup.";o=!1}function assertionsEnabled(){return o}function CONST_EXPR(e){return e}function CONST(){return function(e){return e}}function isPresent(e){return void 0!==e&&null!==e}function isBlank(e){return void 0===e||null===e}function isBoolean(e){return"boolean"==typeof e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isFunction(e){return"function"==typeof e}function isType(e){return isFunction(e)}function isStringMap(e){return"object"==typeof e&&null!==e}function isPromise(e){return e instanceof i.Promise}function isArray(e){return Array.isArray(e)}function isDate(e){return e instanceof t.Date&&!isNaN(e.valueOf())}function noop(){}function stringify(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.name)return e.name;if(e.overriddenName)return e.overriddenName;var t=e.toString(),n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function serializeEnum(e){return e}function deserializeEnum(e,t){return e}function resolveEnumToken(e,t){return e[t]}function looseIdentical(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function getMapKey(e){return e}function normalizeBlank(e){return isBlank(e)?null:e}function normalizeBool(e){return isBlank(e)?!1:e}function isJsObject(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function print(e){console.log(e)}function setValueOnPath(e,t,n){for(var r=t.split("."),i=e;r.length>1;){var o=r.shift();i=i.hasOwnProperty(o)&&isPresent(i[o])?i[o]:i[o]={}}void 0!==i&&null!==i||(i={}),i[r.shift()]=n}function getSymbolIterator(){if(isBlank(y))if(isPresent(Symbol)&&isPresent(Symbol.iterator))y=Symbol.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),t=0;t<e.length;++t){var n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(y=n)}return y}function evalExpression(e,t,n,r){var i=n+"\nreturn "+t+"\n//# sourceURL="+e,o=[],a=[];for(var s in r)o.push(s),a.push(r[s]);return(new(Function.bind.apply(Function,[void 0].concat(o.concat(i))))).apply(void 0,a)}function isPrimitive(e){return!isJsObject(e)}function hasConstructor(e,t){return e.constructor===t}function bitWiseOr(e){return e.reduce(function(e,t){return e|t})}function bitWiseAnd(e){return e.reduce(function(e,t){return e&t})}function escape(e){return i.encodeURI(e)}var n,r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)};n="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:e:window,t.scheduleMicroTask=scheduleMicroTask,t.IS_DART=!1;var i=n;t.global=i,t.Type=Function,t.getTypeNameForDebugging=getTypeNameForDebugging,t.Math=i.Math,t.Date=i.Date;var o=!0,a=!1;t.lockMode=lockMode,t.enableProdMode=enableProdMode,t.assertionsEnabled=assertionsEnabled,i.assert=function(e){},t.CONST_EXPR=CONST_EXPR,t.CONST=CONST,t.isPresent=isPresent,t.isBlank=isBlank,t.isBoolean=isBoolean,t.isNumber=isNumber,t.isString=isString,t.isFunction=isFunction,t.isType=isType,t.isStringMap=isStringMap,t.isPromise=isPromise,t.isArray=isArray,t.isDate=isDate,t.noop=noop,t.stringify=stringify,t.serializeEnum=serializeEnum,t.deserializeEnum=deserializeEnum,t.resolveEnumToken=resolveEnumToken;var s=function(){function StringWrapper(){}return StringWrapper.fromCharCode=function(e){return String.fromCharCode(e)},StringWrapper.charCodeAt=function(e,t){return e.charCodeAt(t)},StringWrapper.split=function(e,t){return e.split(t)},StringWrapper.equals=function(e,t){return e===t},StringWrapper.stripLeft=function(e,t){if(e&&e.length){for(var n=0,r=0;r<e.length&&e[r]==t;r++)n++;e=e.substring(n)}return e},StringWrapper.stripRight=function(e,t){if(e&&e.length){for(var n=e.length,r=e.length-1;r>=0&&e[r]==t;r--)n--;e=e.substring(0,n)}return e},StringWrapper.replace=function(e,t,n){return e.replace(t,n)},StringWrapper.replaceAll=function(e,t,n){return e.replace(t,n)},StringWrapper.slice=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=null),e.slice(t,null===n?void 0:n)},StringWrapper.replaceAllMapped=function(e,t,n){return e.replace(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.splice(-2,2),n(e)})},StringWrapper.contains=function(e,t){return-1!=e.indexOf(t)},StringWrapper.compare=function(e,t){return t>e?-1:e>t?1:0},StringWrapper}();t.StringWrapper=s;var c=function(){function StringJoiner(e){void 0===e&&(e=[]),this.parts=e}return StringJoiner.prototype.add=function(e){this.parts.push(e)},StringJoiner.prototype.toString=function(){return this.parts.join("")},StringJoiner}();t.StringJoiner=c;var u=function(e){function NumberParseError(t){e.call(this),this.message=t}return r(NumberParseError,e),NumberParseError.prototype.toString=function(){return this.message},NumberParseError}(Error);t.NumberParseError=u;var l=function(){function NumberWrapper(){}return NumberWrapper.toFixed=function(e,t){return e.toFixed(t)},NumberWrapper.equal=function(e,t){return e===t},NumberWrapper.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new u("Invalid integer literal when parsing "+e);return t},NumberWrapper.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t)}else if(16==t){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t)}else{var n=parseInt(e,t);if(!isNaN(n))return n}throw new u("Invalid integer literal when parsing "+e+" in base "+t)},NumberWrapper.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(NumberWrapper,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),NumberWrapper.isNaN=function(e){return isNaN(e)},NumberWrapper.isInteger=function(e){return Number.isInteger(e)},NumberWrapper}();t.NumberWrapper=l,t.RegExp=i.RegExp;var p=function(){function RegExpWrapper(){}return RegExpWrapper.create=function(e,t){return void 0===t&&(t=""),t=t.replace(/g/g,""),new i.RegExp(e,t+"g")},RegExpWrapper.firstMatch=function(e,t){return e.lastIndex=0,e.exec(t)},RegExpWrapper.test=function(e,t){return e.lastIndex=0,e.test(t)},RegExpWrapper.matcher=function(e,t){return e.lastIndex=0,{re:e,input:t}},RegExpWrapper.replaceAll=function(e,t,n){var r=e.exec(t),i="";e.lastIndex=0;for(var o=0;r;)i+=t.substring(o,r.index),i+=n(r),o=r.index+r[0].length,e.lastIndex=o,r=e.exec(t);return i+=t.substring(o)},RegExpWrapper}();t.RegExpWrapper=p;var f=function(){function RegExpMatcherWrapper(){}return RegExpMatcherWrapper.next=function(e){return e.re.exec(e.input)},RegExpMatcherWrapper}();t.RegExpMatcherWrapper=f;var h=function(){function FunctionWrapper(){}return FunctionWrapper.apply=function(e,t){return e.apply(null,t)},FunctionWrapper}();t.FunctionWrapper=h,t.looseIdentical=looseIdentical,t.getMapKey=getMapKey,t.normalizeBlank=normalizeBlank,t.normalizeBool=normalizeBool,t.isJsObject=isJsObject,t.print=print;var d=function(){function Json(){}return Json.parse=function(e){return i.JSON.parse(e)},Json.stringify=function(e){return i.JSON.stringify(e,null,2)},Json}();t.Json=d;var g=function(){function DateWrapper(){}return DateWrapper.create=function(e,n,r,i,o,a,s){return void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),new t.Date(e,n-1,r,i,o,a,s)},DateWrapper.fromISOString=function(e){return new t.Date(e)},DateWrapper.fromMillis=function(e){return new t.Date(e)},DateWrapper.toMillis=function(e){return e.getTime()},DateWrapper.now=function(){return new t.Date},DateWrapper.toJson=function(e){return e.toJSON()},DateWrapper}();t.DateWrapper=g,t.setValueOnPath=setValueOnPath;var y=null;t.getSymbolIterator=getSymbolIterator,t.evalExpression=evalExpression,t.isPrimitive=isPrimitive,t.hasConstructor=hasConstructor,t.bitWiseOr=bitWiseOr,t.bitWiseAnd=bitWiseAnd,t.escape=escape}).call(t,function(){return this}())},,function(e,t,n){"use strict";function isListLikeIterable(e){return r.isJsObject(e)?r.isArray(e)||!(e instanceof t.Map)&&r.getSymbolIterator()in e:!1}function areIterablesEqual(e,t,n){for(var i=e[r.getSymbolIterator()](),o=t[r.getSymbolIterator()]();;){var a=i.next(),s=o.next();if(a.done&&s.done)return!0;if(a.done||s.done)return!1;if(!n(a.value,s.value))return!1}}function iterateListLike(e,t){if(r.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var i,o=e[r.getSymbolIterator()]();!(i=o.next()).done;)t(i.value)}var r=n(1);t.Map=r.global.Map,t.Set=r.global.Set;var i=function(){try{if(1===new t.Map([[1,2]]).size)return function(e){return new t.Map(e)}}catch(e){}return function(e){for(var n=new t.Map,r=0;r<e.length;r++){var i=e[r];n.set(i[0],i[1])}return n}}(),o=function(){try{if(new t.Map(new t.Map))return function(e){return new t.Map(e)}}catch(e){}return function(e){var n=new t.Map;return e.forEach(function(e,t){n.set(t,e)}),n}}(),a=function(){return(new t.Map).keys().next?function(e){for(var t,n=e.keys();!(t=n.next()).done;)e.set(t.value,null)}:function(e){e.forEach(function(t,n){e.set(n,null)})}}(),s=function(){try{if((new t.Map).values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(e){}return function(e,t){var n=l.createFixedSize(e.size),r=0;return e.forEach(function(e,i){n[r]=t?e:i,r++}),n}}(),c=function(){function MapWrapper(){}return MapWrapper.clone=function(e){return o(e)},MapWrapper.createFromStringMap=function(e){var n=new t.Map;for(var r in e)n.set(r,e[r]);return n},MapWrapper.toStringMap=function(e){var t={};return e.forEach(function(e,n){return t[n]=e}),t},MapWrapper.createFromPairs=function(e){return i(e)},MapWrapper.clearValues=function(e){a(e)},MapWrapper.iterable=function(e){return e},MapWrapper.keys=function(e){return s(e,!1)},MapWrapper.values=function(e){return s(e,!0)},MapWrapper}();t.MapWrapper=c;var u=function(){function StringMapWrapper(){}return StringMapWrapper.create=function(){return{}},StringMapWrapper.contains=function(e,t){return e.hasOwnProperty(t)},StringMapWrapper.get=function(e,t){return e.hasOwnProperty(t)?e[t]:void 0},StringMapWrapper.set=function(e,t,n){e[t]=n},StringMapWrapper.keys=function(e){return Object.keys(e)},StringMapWrapper.values=function(e){return Object.keys(e).reduce(function(t,n){return t.push(e[n]),t},[])},StringMapWrapper.isEmpty=function(e){for(var t in e)return!1;return!0},StringMapWrapper.delete=function(e,t){delete e[t]},StringMapWrapper.forEach=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},StringMapWrapper.merge=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},StringMapWrapper.equals=function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i,o=0;o<n.length;o++)if(i=n[o],e[i]!==t[i])return!1;return!0},StringMapWrapper}();t.StringMapWrapper=u;var l=function(){function ListWrapper(){}return ListWrapper.createFixedSize=function(e){return new Array(e)},ListWrapper.createGrowableSize=function(e){return new Array(e)},ListWrapper.clone=function(e){return e.slice(0)},ListWrapper.forEachWithIndex=function(e,t){for(var n=0;n<e.length;n++)t(e[n],n)},ListWrapper.first=function(e){return e?e[0]:null},ListWrapper.last=function(e){return e&&0!=e.length?e[e.length-1]:null},ListWrapper.indexOf=function(e,t,n){return void 0===n&&(n=0),e.indexOf(t,n)},ListWrapper.contains=function(e,t){return-1!==e.indexOf(t)},ListWrapper.reversed=function(e){var t=ListWrapper.clone(e);return t.reverse()},ListWrapper.concat=function(e,t){return e.concat(t)},ListWrapper.insert=function(e,t,n){e.splice(t,0,n)},ListWrapper.removeAt=function(e,t){var n=e[t];return e.splice(t,1),n},ListWrapper.removeAll=function(e,t){for(var n=0;n<t.length;++n){var r=e.indexOf(t[n]);e.splice(r,1)}},ListWrapper.remove=function(e,t){var n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1},ListWrapper.clear=function(e){e.length=0},ListWrapper.isEmpty=function(e){return 0==e.length},ListWrapper.fill=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=null),e.fill(t,n,null===r?e.length:r)},ListWrapper.equals=function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},ListWrapper.slice=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=null),e.slice(t,null===n?void 0:n)},ListWrapper.splice=function(e,t,n){return e.splice(t,n)},ListWrapper.sort=function(e,t){r.isPresent(t)?e.sort(t):e.sort()},ListWrapper.toString=function(e){return e.toString()},ListWrapper.toJSON=function(e){return JSON.stringify(e)},ListWrapper.maximum=function(e,t){if(0==e.length)return null;for(var n=null,i=-(1/0),o=0;o<e.length;o++){var a=e[o];if(!r.isBlank(a)){var s=t(a);s>i&&(n=a,i=s)}}return n},ListWrapper.flatten=function(e){var t=[];return e.forEach(function(e){return t=t.concat(e)}),t},ListWrapper}();t.ListWrapper=l,t.isListLikeIterable=isListLikeIterable,t.areIterablesEqual=areIterablesEqual,t.iterateListLike=iterateListLike;var p=function(){var e=new t.Set([1,2,3]);return 3===e.size?function(e){return new t.Set(e)}:function(e){var n=new t.Set(e);if(n.size!==e.length)for(var r=0;r<e.length;r++)n.add(e[r]);return n}}(),f=function(){function SetWrapper(){}return SetWrapper.createFromList=function(e){return p(e)},SetWrapper.has=function(e,t){return e.has(t)},SetWrapper.delete=function(e,t){e.delete(t)},SetWrapper}();t.SetWrapper=f},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(112)),__export(n(425)),__export(n(420)),__export(n(6)),__export(n(428));var r=n(1);t.enableProdMode=r.enableProdMode;var i=n(242);t.platform=i.platform,t.createNgZone=i.createNgZone,t.PlatformRef=i.PlatformRef,t.ApplicationRef=i.ApplicationRef;var o=n(80);t.APP_ID=o.APP_ID,t.APP_COMPONENT=o.APP_COMPONENT,t.APP_INITIALIZER=o.APP_INITIALIZER,t.PACKAGE_ROOT_URL=o.PACKAGE_ROOT_URL,t.PLATFORM_INITIALIZER=o.PLATFORM_INITIALIZER,__export(n(426)),__export(n(423)),__export(n(417));var a=n(158);t.DebugElement=a.DebugElement,t.DebugNode=a.DebugNode,t.asNativeElements=a.asNativeElements,__export(n(114)),__export(n(243)),__export(n(168)),__export(n(419)),__export(n(406)),__export(n(18))},function(e,t,n){"use strict";function makeTypeError(e){return new TypeError(e)}function unimplemented(){throw new s("unimplemented")}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(267),o=n(170),a=n(170);t.ExceptionHandler=a.ExceptionHandler;var s=function(e){function BaseException(t){void 0===t&&(t="--"),e.call(this,t),this.message=t,this.stack=new Error(t).stack}return r(BaseException,e),BaseException.prototype.toString=function(){return this.message},BaseException}(Error);t.BaseException=s;var c=function(e){function WrappedException(t,n,r,i){e.call(this,t),this._wrapperMessage=t,this._originalException=n,this._originalStack=r,this._context=i,this._wrapperStack=new Error(t).stack}return r(WrappedException,e),Object.defineProperty(WrappedException.prototype,"wrapperMessage",{get:function(){return this._wrapperMessage},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"wrapperStack",{get:function(){return this._wrapperStack},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"originalException",{get:function(){return this._originalException},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"originalStack",{get:function(){return this._originalStack},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"message",{get:function(){return o.ExceptionHandler.exceptionToString(this)},enumerable:!0,configurable:!0}),WrappedException.prototype.toString=function(){return this.message},WrappedException}(i.BaseWrappedException);t.WrappedException=c,t.makeTypeError=makeTypeError,t.unimplemented=unimplemented},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var r=n(68);t.InjectMetadata=r.InjectMetadata,t.OptionalMetadata=r.OptionalMetadata,t.InjectableMetadata=r.InjectableMetadata,t.SelfMetadata=r.SelfMetadata,t.HostMetadata=r.HostMetadata,t.SkipSelfMetadata=r.SkipSelfMetadata,t.DependencyMetadata=r.DependencyMetadata,__export(n(159));var i=n(161);t.forwardRef=i.forwardRef,t.resolveForwardRef=i.resolveForwardRef;var o=n(258);t.Injector=o.Injector;var a=n(82);t.Binding=a.Binding,t.ProviderBuilder=a.ProviderBuilder,t.ResolvedFactory=a.ResolvedFactory,t.Dependency=a.Dependency,t.bind=a.bind,t.Provider=a.Provider,t.provide=a.provide;var s=n(162);t.Key=s.Key;var c=n(160);t.NoProviderError=c.NoProviderError,t.AbstractProviderError=c.AbstractProviderError,t.CyclicDependencyError=c.CyclicDependencyError,t.InstantiationError=c.InstantiationError,t.InvalidProviderError=c.InvalidProviderError,t.NoAnnotationError=c.NoAnnotationError,t.OutOfBoundsError=c.OutOfBoundsError;var u=n(416);t.OpaqueToken=u.OpaqueToken},,,function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(1),o=n(70);t.PromiseWrapper=o.PromiseWrapper,t.PromiseCompleter=o.PromiseCompleter;var a=n(207),s=n(373),c=n(376),u=n(40);t.Observable=u.Observable;var l=n(207);t.Subject=l.Subject;var p=function(){function TimerWrapper(){}return TimerWrapper.setTimeout=function(e,t){return i.global.setTimeout(e,t)},TimerWrapper.clearTimeout=function(e){i.global.clearTimeout(e)},TimerWrapper.setInterval=function(e,t){return i.global.setInterval(e,t)},TimerWrapper.clearInterval=function(e){i.global.clearInterval(e)},TimerWrapper}();t.TimerWrapper=p;var f=function(){function ObservableWrapper(){}return ObservableWrapper.subscribe=function(e,t,n,r){return void 0===r&&(r=function(){}),n="function"==typeof n&&n||i.noop,r="function"==typeof r&&r||i.noop,e.subscribe({next:t,error:n,complete:r})},ObservableWrapper.isObservable=function(e){return!!e.subscribe},ObservableWrapper.hasSubscribers=function(e){return e.observers.length>0},ObservableWrapper.dispose=function(e){e.unsubscribe()},ObservableWrapper.callNext=function(e,t){e.next(t)},ObservableWrapper.callEmit=function(e,t){e.emit(t)},ObservableWrapper.callError=function(e,t){e.error(t)},ObservableWrapper.callComplete=function(e){e.complete()},ObservableWrapper.fromPromise=function(e){return s.PromiseObservable.create(e)},ObservableWrapper.toPromise=function(e){return c.toPromise.call(e)},ObservableWrapper}();t.ObservableWrapper=f;var h=function(e){function EventEmitter(t){void 0===t&&(t=!0),e.call(this),this._isAsync=t}return r(EventEmitter,e),EventEmitter.prototype.emit=function(t){e.prototype.next.call(this,t)},EventEmitter.prototype.next=function(t){e.prototype.next.call(this,t)},EventEmitter.prototype.subscribe=function(t,n,r){var i,o=function(e){return null},a=function(){return null};return t&&"object"==typeof t?(i=this._isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this._isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this._isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this._isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},n&&(o=this._isAsync?function(e){setTimeout(function(){return n(e)})}:function(e){n(e)}),r&&(a=this._isAsync?function(){setTimeout(function(){return r()})}:function(){r()})),e.prototype.subscribe.call(this,i,o,a)},EventEmitter}(a.Subject);t.EventEmitter=h},,,,,function(e,t,n){"use strict";function setRootDomAdapter(e){r.isBlank(t.DOM)&&(t.DOM=e)}var r=n(1);t.DOM=null,t.setRootDomAdapter=setRootDomAdapter;var i=function(){function DomAdapter(){}return Object.defineProperty(DomAdapter.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e},enumerable:!0,configurable:!0}),DomAdapter}();t.DomAdapter=i},,,,function(e,t,n){"use strict";var r=n(265),i=n(265);t.Reflector=i.Reflector,t.ReflectionInfo=i.ReflectionInfo;var o=n(264);t.reflector=new r.Reflector(new o.ReflectionCapabilities)},,,,,function(e,t,n){"use strict";var r=n(250),i=n(248),o=n(251),a=n(249),s=n(1),c=n(249);t.DefaultKeyValueDifferFactory=c.DefaultKeyValueDifferFactory,t.KeyValueChangeRecord=c.KeyValueChangeRecord;var u=n(248);t.DefaultIterableDifferFactory=u.DefaultIterableDifferFactory,t.CollectionChangeRecord=u.CollectionChangeRecord;var l=n(106);t.ASTWithSource=l.ASTWithSource,t.AST=l.AST,t.AstTransformer=l.AstTransformer,t.PropertyRead=l.PropertyRead,t.LiteralArray=l.LiteralArray,t.ImplicitReceiver=l.ImplicitReceiver;var p=n(254);t.Lexer=p.Lexer;var f=n(412);t.Parser=f.Parser;var h=n(255);t.Locals=h.Locals;var d=n(253);t.DehydratedException=d.DehydratedException,t.ExpressionChangedAfterItHasBeenCheckedException=d.ExpressionChangedAfterItHasBeenCheckedException,t.ChangeDetectionError=d.ChangeDetectionError;var g=n(157);t.ChangeDetectorDefinition=g.ChangeDetectorDefinition,t.DebugContext=g.DebugContext,t.ChangeDetectorGenConfig=g.ChangeDetectorGenConfig;var y=n(42);t.ChangeDetectionStrategy=y.ChangeDetectionStrategy,t.CHANGE_DETECTION_STRATEGY_VALUES=y.CHANGE_DETECTION_STRATEGY_VALUES;var m=n(256);t.DynamicProtoChangeDetector=m.DynamicProtoChangeDetector;var _=n(411);t.JitProtoChangeDetector=_.JitProtoChangeDetector;var v=n(244);t.BindingRecord=v.BindingRecord,t.BindingTarget=v.BindingTarget;var b=n(156);t.DirectiveIndex=b.DirectiveIndex,t.DirectiveRecord=b.DirectiveRecord;var C=n(252);t.DynamicChangeDetector=C.DynamicChangeDetector;var P=n(246);t.ChangeDetectorRef=P.ChangeDetectorRef;var R=n(250);t.IterableDiffers=R.IterableDiffers;var w=n(251);t.KeyValueDiffers=w.KeyValueDiffers;var E=n(67);t.WrappedValue=E.WrappedValue,t.SimpleChange=E.SimpleChange,t.keyValDiff=s.CONST_EXPR([s.CONST_EXPR(new a.DefaultKeyValueDifferFactory)]),t.iterableDiff=s.CONST_EXPR([s.CONST_EXPR(new i.DefaultIterableDifferFactory)]),t.defaultIterableDiffers=s.CONST_EXPR(new r.IterableDiffers(t.iterableDiff)),t.defaultKeyValueDiffers=s.CONST_EXPR(new o.KeyValueDiffers(t.keyValDiff))},,,,,,,function(e,t,n){"use strict";var r=n(4),i=n(1);t.NG_VALUE_ACCESSOR=i.CONST_EXPR(new r.OpaqueToken("NgValueAccessor"))},function(e,t,n){"use strict";function _convertToPromise(e){return i.PromiseWrapper.isPromise(e)?e:o.ObservableWrapper.toPromise(e)}function _executeValidators(e,t){return t.map(function(t){return t(e)})}function _executeAsyncValidators(e,t){return t.map(function(t){return t(e)})}function _mergeErrors(e){var t=e.reduce(function(e,t){return r.isPresent(t)?a.StringMapWrapper.merge(e,t):e},{});return a.StringMapWrapper.isEmpty(t)?null:t}var r=n(1),i=n(70),o=n(9),a=n(3),s=n(4);t.NG_VALIDATORS=r.CONST_EXPR(new s.OpaqueToken("NgValidators")),t.NG_ASYNC_VALIDATORS=r.CONST_EXPR(new s.OpaqueToken("NgAsyncValidators"));var c=function(){function Validators(){}return Validators.required=function(e){return r.isBlank(e.value)||r.isString(e.value)&&""==e.value?{required:!0}:null},Validators.minLength=function(e){return function(t){if(r.isPresent(Validators.required(t)))return null;var n=t.value;return n.length<e?{minlength:{requiredLength:e,actualLength:n.length}}:null}},Validators.maxLength=function(e){return function(t){if(r.isPresent(Validators.required(t)))return null;var n=t.value;return n.length>e?{maxlength:{requiredLength:e,actualLength:n.length}}:null}},Validators.pattern=function(e){return function(t){if(r.isPresent(Validators.required(t)))return null;var n=new RegExp("^"+e+"$"),i=t.value;return n.test(i)?null:{pattern:{requiredPattern:"^"+e+"$",actualValue:i}}}},Validators.nullValidator=function(e){return null},Validators.compose=function(e){if(r.isBlank(e))return null;var t=e.filter(r.isPresent);return 0==t.length?null:function(e){return _mergeErrors(_executeValidators(e,t))}},Validators.composeAsync=function(e){if(r.isBlank(e))return null;var t=e.filter(r.isPresent);return 0==t.length?null:function(e){var n=_executeAsyncValidators(e,t).map(_convertToPromise);return i.PromiseWrapper.all(n).then(_mergeErrors)}},Validators}();t.Validators=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(1),o=n(5),a=function(e){function InvalidPipeArgumentException(t,n){e.call(this,"Invalid argument '"+n+"' for pipe '"+i.stringify(t)+"'")}return r(InvalidPipeArgumentException,e),InvalidPipeArgumentException}(o.BaseException);t.InvalidPipeArgumentException=a},,,,,,,,function(e,t,n){"use strict";var r=n(49),i=n(208),o=n(384),a=function(){function Observable(e){this._isScalar=!1,e&&(this._subscribe=e)}return Observable.prototype.lift=function(e){var t=new Observable;return t.source=this,t.operator=e,t},Observable.prototype.subscribe=function(e,t,n){var r=this.operator,i=o.toSubscriber(e,t,n),a=r&&r.call(i)||i;a!==i&&i.add(a);var s=this._subscribe(a);if(s!==i&&i.add(s),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},Observable.prototype.forEach=function(e,t){var n=this;if(t||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?t=r.root.Rx.config.Promise:r.root.Promise&&(t=r.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var i=n.subscribe(function(t){if(i)try{e(t)}catch(n){r(n),i.unsubscribe()}else e(t)},r,t)})},Observable.prototype._subscribe=function(e){return this.source.subscribe(e)},Observable.prototype[i.$$observable]=function(){return this},Observable.create=function(e){return new Observable(e)},Observable}();t.Observable=a},function(e,t,n){"use strict";function camelCaseToDashCase(e){return r.StringWrapper.replaceAllMapped(e,i,function(e){return"-"+e[1].toLowerCase()})}function dashCaseToCamelCase(e){return r.StringWrapper.replaceAllMapped(e,o,function(e){return e[1].toUpperCase()})}function escapeSingleQuoteString(e){return r.isBlank(e)?null:"'"+escapeString(e,a)+"'"}function escapeDoubleQuoteString(e){return r.isBlank(e)?null:'"'+escapeString(e,s)+'"'}function escapeString(e,t){return r.StringWrapper.replaceAllMapped(e,t,function(e){return"$"==e[0]?r.IS_DART?"\\$":"$":"\n"==e[0]?"\\n":"\r"==e[0]?"\\r":"\\"+e[0]})}function codeGenExportVariable(e){return r.IS_DART?"const "+e+" = ":"var "+e+" = exports['"+e+"'] = "}function codeGenConstConstructorCall(e){return r.IS_DART?"const "+e:"new "+e}function codeGenValueFn(e,t,n){return void 0===n&&(n=""),r.IS_DART?codeGenFnHeader(e,n)+" => "+t:codeGenFnHeader(e,n)+" { return "+t+"; }"}function codeGenFnHeader(e,t){return void 0===t&&(t=""),r.IS_DART?t+"("+e.join(",")+")":"function "+t+"("+e.join(",")+")"}function codeGenToString(e){return r.IS_DART?"'${"+e+"}'":e}function splitAtColon(e,t){var n=r.StringWrapper.split(e.trim(),/\s*:\s*/g);return n.length>1?n:t}function escapeValue(e){return e instanceof u?e.expression:r.isString(e)?escapeSingleQuoteString(e):r.isBlank(e)?"null":""+e}function codeGenArray(e){return"["+e.map(escapeValue).join(",")+"]"}function codeGenFlatArray(e){for(var t="([",n=!0,i=r.IS_DART?".addAll":"concat",o=0;o<e.length;o++){var a=e[o];a instanceof u&&a.isArray?(t+="])."+i+"("+a.expression+")."+i+"([",n=!0):(n||(t+=","),n=!1,t+=escapeValue(a))}return t+="])"}function codeGenStringMap(e){return"{"+e.map(codeGenKeyValue).join(",")+"}"}function codeGenKeyValue(e){return escapeValue(e[0])+":"+escapeValue(e[1])}function addAll(e,t){for(var n=0;n<e.length;n++)t.push(e[n])}function flattenArray(e,t){if(r.isPresent(e))for(var n=0;n<e.length;n++){var i=e[n];r.isArray(i)?flattenArray(i,t):t.push(i)}return t}var r=n(1),i=/([A-Z])/g,o=/-([a-z])/g,a=/'|\\|\n|\r|\$/g,s=/"|\\|\n|\r|\$/g;t.MODULE_SUFFIX=r.IS_DART?".dart":".js",t.CONST_VAR=r.IS_DART?"const":"var",t.camelCaseToDashCase=camelCaseToDashCase,t.dashCaseToCamelCase=dashCaseToCamelCase,t.escapeSingleQuoteString=escapeSingleQuoteString,t.escapeDoubleQuoteString=escapeDoubleQuoteString,t.codeGenExportVariable=codeGenExportVariable,t.codeGenConstConstructorCall=codeGenConstConstructorCall,t.codeGenValueFn=codeGenValueFn,t.codeGenFnHeader=codeGenFnHeader,t.codeGenToString=codeGenToString,t.splitAtColon=splitAtColon;var c=function(){function Statement(e){this.statement=e}return Statement}();t.Statement=c;var u=function(){function Expression(e,t){void 0===t&&(t=!1),this.expression=e,this.isArray=t}return Expression}();t.Expression=u,t.escapeValue=escapeValue,t.codeGenArray=codeGenArray,t.codeGenFlatArray=codeGenFlatArray,t.codeGenStringMap=codeGenStringMap,t.addAll=addAll,t.flattenArray=flattenArray},function(e,t,n){"use strict";function isDefaultChangeDetectionStrategy(e){return r.isBlank(e)||e===o.Default}var r=n(1);!function(e){e[e.NeverChecked=0]="NeverChecked",e[e.CheckedBefore=1]="CheckedBefore",e[e.Errored=2]="Errored"}(t.ChangeDetectorState||(t.ChangeDetectorState={}));var i=t.ChangeDetectorState;!function(e){e[e.CheckOnce=0]="CheckOnce",e[e.Checked=1]="Checked",e[e.CheckAlways=2]="CheckAlways",e[e.Detached=3]="Detached",e[e.OnPush=4]="OnPush",e[e.Default=5]="Default"}(t.ChangeDetectionStrategy||(t.ChangeDetectionStrategy={}));var o=t.ChangeDetectionStrategy;t.CHANGE_DETECTION_STRATEGY_VALUES=[o.CheckOnce,o.Checked,o.CheckAlways,o.Detached,o.OnPush,o.Default],t.CHANGE_DETECTOR_STATE_VALUES=[i.NeverChecked,i.CheckedBefore,i.Errored],t.isDefaultChangeDetectionStrategy=isDefaultChangeDetectionStrategy},,,,,,,function(e,t,n){(function(e,n){"use strict";var r={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};t.root=r[typeof self]&&self||r[typeof window]&&window;var i=(r[typeof t]&&t&&!t.nodeType&&t,r[typeof e]&&e&&!e.nodeType&&e,r[typeof n]&&n);!i||i.global!==i&&i.window!==i||(t.root=i)}).call(t,n(318)(e),function(){return this}())},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var r=n(121);t.Router=r.Router;var i=n(282);t.RouterOutlet=i.RouterOutlet;var o=n(281);t.RouterLink=o.RouterLink;var a=n(54);t.RouteParams=a.RouteParams,t.RouteData=a.RouteData;var s=n(92);t.PlatformLocation=s.PlatformLocation;var c=n(178);t.RouteRegistry=c.RouteRegistry,t.ROUTER_PRIMARY_COMPONENT=c.ROUTER_PRIMARY_COMPONENT;var u=n(91);t.LocationStrategy=u.LocationStrategy,t.APP_BASE_HREF=u.APP_BASE_HREF;var l=n(440);t.HashLocationStrategy=l.HashLocationStrategy;var p=n(285);t.PathLocationStrategy=p.PathLocationStrategy;var f=n(119);t.Location=f.Location,__export(n(286));var h=n(283);t.CanActivate=h.CanActivate;var d=n(54);t.Instruction=d.Instruction,t.ComponentInstruction=d.ComponentInstruction;var g=n(4);t.OpaqueToken=g.OpaqueToken;var y=n(287);t.ROUTER_PROVIDERS_COMMON=y.ROUTER_PROVIDERS_COMMON;var m=n(442);t.ROUTER_PROVIDERS=m.ROUTER_PROVIDERS,t.ROUTER_BINDINGS=m.ROUTER_BINDINGS;var _=n(282),v=n(281),b=n(1);t.ROUTER_DIRECTIVES=b.CONST_EXPR([_.RouterOutlet,v.RouterLink])},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(137),o=n(5),a=function(e){function NgControl(){e.apply(this,arguments),this.name=null,this.valueAccessor=null}return r(NgControl,e),Object.defineProperty(NgControl.prototype,"validator",{get:function(){return o.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(NgControl.prototype,"asyncValidator",{get:function(){
return o.unimplemented()},enumerable:!0,configurable:!0}),NgControl}(i.AbstractControlDirective);t.NgControl=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(1);!function(e){e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None"}(t.ViewEncapsulation||(t.ViewEncapsulation={}));var a=t.ViewEncapsulation;t.VIEW_ENCAPSULATION_VALUES=[a.Emulated,a.Native,a.None];var s=function(){function ViewMetadata(e){var t=void 0===e?{}:e,n=t.templateUrl,r=t.template,i=t.directives,o=t.pipes,a=t.encapsulation,s=t.styles,c=t.styleUrls;this.templateUrl=n,this.template=r,this.styleUrls=c,this.styles=s,this.directives=i,this.pipes=o,this.encapsulation=a}return ViewMetadata=r([o.CONST(),i("design:paramtypes",[Object])],ViewMetadata)}();t.ViewMetadata=s},function(e,t){"use strict";!function(e){e[e.Get=0]="Get",e[e.Post=1]="Post",e[e.Put=2]="Put",e[e.Delete=3]="Delete",e[e.Options=4]="Options",e[e.Head=5]="Head",e[e.Patch=6]="Patch"}(t.RequestMethod||(t.RequestMethod={}));t.RequestMethod;!function(e){e[e.Unsent=0]="Unsent",e[e.Open=1]="Open",e[e.HeadersReceived=2]="HeadersReceived",e[e.Loading=3]="Loading",e[e.Done=4]="Done",e[e.Cancelled=5]="Cancelled"}(t.ReadyState||(t.ReadyState={}));t.ReadyState;!function(e){e[e.Basic=0]="Basic",e[e.Cors=1]="Cors",e[e.Default=2]="Default",e[e.Error=3]="Error",e[e.Opaque=4]="Opaque"}(t.ResponseType||(t.ResponseType={}));t.ResponseType},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(3),o=n(1),a=n(9),s=function(){function RouteParams(e){this.params=e}return RouteParams.prototype.get=function(e){return o.normalizeBlank(i.StringMapWrapper.get(this.params,e))},RouteParams}();t.RouteParams=s;var c=function(){function RouteData(e){void 0===e&&(e=o.CONST_EXPR({})),this.data=e}return RouteData.prototype.get=function(e){return o.normalizeBlank(i.StringMapWrapper.get(this.data,e))},RouteData}();t.RouteData=c,t.BLANK_ROUTE_DATA=new c;var u=function(){function Instruction(e,t,n){this.component=e,this.child=t,this.auxInstruction=n}return Object.defineProperty(Instruction.prototype,"urlPath",{get:function(){return o.isPresent(this.component)?this.component.urlPath:""},enumerable:!0,configurable:!0}),Object.defineProperty(Instruction.prototype,"urlParams",{get:function(){return o.isPresent(this.component)?this.component.urlParams:[]},enumerable:!0,configurable:!0}),Object.defineProperty(Instruction.prototype,"specificity",{get:function(){var e="";return o.isPresent(this.component)&&(e+=this.component.specificity),o.isPresent(this.child)&&(e+=this.child.specificity),e},enumerable:!0,configurable:!0}),Instruction.prototype.toRootUrl=function(){return this.toUrlPath()+this.toUrlQuery()},Instruction.prototype._toNonRootUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(o.isPresent(this.child)?this.child._toNonRootUrl():"")},Instruction.prototype.toUrlQuery=function(){return this.urlParams.length>0?"?"+this.urlParams.join("&"):""},Instruction.prototype.replaceChild=function(e){return new l(this.component,e,this.auxInstruction)},Instruction.prototype.toUrlPath=function(){return this.urlPath+this._stringifyAux()+(o.isPresent(this.child)?this.child._toNonRootUrl():"")},Instruction.prototype.toLinkUrl=function(){return this.urlPath+this._stringifyAux()+(o.isPresent(this.child)?this.child._toLinkUrl():"")+this.toUrlQuery()},Instruction.prototype._toLinkUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(o.isPresent(this.child)?this.child._toLinkUrl():"")},Instruction.prototype._stringifyPathMatrixAuxPrefixed=function(){var e=this._stringifyPathMatrixAux();return e.length>0&&(e="/"+e),e},Instruction.prototype._stringifyMatrixParams=function(){return this.urlParams.length>0?";"+this.urlParams.join(";"):""},Instruction.prototype._stringifyPathMatrixAux=function(){return o.isBlank(this.component)?"":this.urlPath+this._stringifyMatrixParams()+this._stringifyAux()},Instruction.prototype._stringifyAux=function(){var e=[];return i.StringMapWrapper.forEach(this.auxInstruction,function(t,n){e.push(t._stringifyPathMatrixAux())}),e.length>0?"("+e.join("//")+")":""},Instruction}();t.Instruction=u;var l=function(e){function ResolvedInstruction(t,n,r){e.call(this,t,n,r)}return r(ResolvedInstruction,e),ResolvedInstruction.prototype.resolveComponent=function(){return a.PromiseWrapper.resolve(this.component)},ResolvedInstruction}(u);t.ResolvedInstruction=l;var p=function(e){function DefaultInstruction(t,n){e.call(this,t,n,{})}return r(DefaultInstruction,e),DefaultInstruction.prototype.toLinkUrl=function(){return""},DefaultInstruction.prototype._toLinkUrl=function(){return""},DefaultInstruction}(l);t.DefaultInstruction=p;var f=function(e){function UnresolvedInstruction(t,n,r){void 0===n&&(n=""),void 0===r&&(r=o.CONST_EXPR([])),e.call(this,null,null,{}),this._resolver=t,this._urlPath=n,this._urlParams=r}return r(UnresolvedInstruction,e),Object.defineProperty(UnresolvedInstruction.prototype,"urlPath",{get:function(){return o.isPresent(this.component)?this.component.urlPath:o.isPresent(this._urlPath)?this._urlPath:""},enumerable:!0,configurable:!0}),Object.defineProperty(UnresolvedInstruction.prototype,"urlParams",{get:function(){return o.isPresent(this.component)?this.component.urlParams:o.isPresent(this._urlParams)?this._urlParams:[]},enumerable:!0,configurable:!0}),UnresolvedInstruction.prototype.resolveComponent=function(){var e=this;return o.isPresent(this.component)?a.PromiseWrapper.resolve(this.component):this._resolver().then(function(t){return e.child=o.isPresent(t)?t.child:null,e.component=o.isPresent(t)?t.component:null})},UnresolvedInstruction}(u);t.UnresolvedInstruction=f;var h=function(e){function RedirectInstruction(t,n,r,i){e.call(this,t,n,r),this._specificity=i}return r(RedirectInstruction,e),Object.defineProperty(RedirectInstruction.prototype,"specificity",{get:function(){return this._specificity},enumerable:!0,configurable:!0}),RedirectInstruction}(l);t.RedirectInstruction=h;var d=function(){function ComponentInstruction(e,n,r,i,a,s,c,u){void 0===c&&(c=null),this.urlPath=e,this.urlParams=n,this.componentType=i,this.terminal=a,this.specificity=s,this.params=c,this.routeName=u,this.reuse=!1,this.routeData=o.isPresent(r)?r:t.BLANK_ROUTE_DATA}return ComponentInstruction}();t.ComponentInstruction=d},,,,,,,,,function(e,t,n){"use strict";function controlPath(e,t){var n=r.ListWrapper.clone(t.path);return n.push(e),n}function setUpControl(e,t){i.isBlank(e)&&_throwError(t,"Cannot find control"),i.isBlank(t.valueAccessor)&&_throwError(t,"No value accessor for"),e.validator=a.Validators.compose([e.validator,t.validator]),e.asyncValidator=a.Validators.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),t.valueAccessor.registerOnChange(function(n){t.viewToModelUpdate(n),e.updateValue(n,{emitModelToViewChange:!1}),e.markAsDirty()}),e.registerOnChange(function(e){return t.valueAccessor.writeValue(e)}),t.valueAccessor.registerOnTouched(function(){return e.markAsTouched()})}function setUpControlGroup(e,t){i.isBlank(e)&&_throwError(t,"Cannot find control"),e.validator=a.Validators.compose([e.validator,t.validator]),e.asyncValidator=a.Validators.composeAsync([e.asyncValidator,t.asyncValidator])}function _throwError(e,t){var n=e.path.join(" -> ");throw new o.BaseException(t+" '"+n+"'")}function composeValidators(e){return i.isPresent(e)?a.Validators.compose(e.map(f.normalizeValidator)):null}function composeAsyncValidators(e){return i.isPresent(e)?a.Validators.composeAsync(e.map(f.normalizeAsyncValidator)):null}function isPropertyUpdated(e,t){if(!r.StringMapWrapper.contains(e,"model"))return!1;var n=e.model;return n.isFirstChange()?!0:!i.looseIdentical(t,n.currentValue)}function selectValueAccessor(e,t){if(i.isBlank(t))return null;var n,r,o;return t.forEach(function(t){i.hasConstructor(t,s.DefaultValueAccessor)?n=t:i.hasConstructor(t,u.CheckboxControlValueAccessor)||i.hasConstructor(t,c.NumberValueAccessor)||i.hasConstructor(t,l.SelectControlValueAccessor)||i.hasConstructor(t,p.RadioControlValueAccessor)?(i.isPresent(r)&&_throwError(e,"More than one built-in value accessor matches"),r=t):(i.isPresent(o)&&_throwError(e,"More than one custom value accessor matches"),o=t)}),i.isPresent(o)?o:i.isPresent(r)?r:i.isPresent(n)?n:(_throwError(e,"No valid value accessor for"),null)}var r=n(3),i=n(1),o=n(5),a=n(31),s=n(101),c=n(145),u=n(100),l=n(103),p=n(102),f=n(396);t.controlPath=controlPath,t.setUpControl=setUpControl,t.setUpControlGroup=setUpControlGroup,t.composeValidators=composeValidators,t.composeAsyncValidators=composeAsyncValidators,t.isPropertyUpdated=isPropertyUpdated,t.selectValueAccessor=selectValueAccessor},function(e,t,n){"use strict";function moduleRef(e){return"#MODULE["+e+"]"}var r=n(1),i=/#MODULE\[([^\]]*)\]/g;t.moduleRef=moduleRef;var o=function(){function SourceModule(e,t){this.moduleUrl=e,this.sourceWithModuleRefs=t}return SourceModule.getSourceWithoutImports=function(e){return r.StringWrapper.replaceAllMapped(e,i,function(e){return""})},SourceModule.prototype.getSourceWithImports=function(){var e=this,t={},n=[],o=r.StringWrapper.replaceAllMapped(this.sourceWithModuleRefs,i,function(i){var o=i[1],a=t[o];return r.isBlank(a)&&(o==e.moduleUrl?a="":(a="import"+n.length,n.push([o,a])),t[o]=a),a.length>0?a+".":""});return new c(o,n)},SourceModule}();t.SourceModule=o;var a=function(){function SourceExpression(e,t){this.declarations=e,this.expression=t}return SourceExpression}();t.SourceExpression=a;var s=function(){function SourceExpressions(e,t){this.declarations=e,this.expressions=t}return SourceExpressions}();t.SourceExpressions=s;var c=function(){function SourceWithImports(e,t){this.source=e,this.imports=t}return SourceWithImports}();t.SourceWithImports=c},function(e,t,n){"use strict";function templateVisitAll(e,t,n){void 0===n&&(n=null);var i=[];return t.forEach(function(t){var o=t.visit(e,n);r.isPresent(o)&&i.push(o)}),i}var r=n(1),i=function(){function TextAst(e,t,n){this.value=e,this.ngContentIndex=t,this.sourceSpan=n}return TextAst.prototype.visit=function(e,t){return e.visitText(this,t)},TextAst}();t.TextAst=i;var o=function(){function BoundTextAst(e,t,n){this.value=e,this.ngContentIndex=t,this.sourceSpan=n}return BoundTextAst.prototype.visit=function(e,t){return e.visitBoundText(this,t)},BoundTextAst}();t.BoundTextAst=o;var a=function(){function AttrAst(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}return AttrAst.prototype.visit=function(e,t){return e.visitAttr(this,t)},AttrAst}();t.AttrAst=a;var s=function(){function BoundElementPropertyAst(e,t,n,r,i){this.name=e,this.type=t,this.value=n,this.unit=r,this.sourceSpan=i}return BoundElementPropertyAst.prototype.visit=function(e,t){return e.visitElementProperty(this,t)},BoundElementPropertyAst}();t.BoundElementPropertyAst=s;var c=function(){function BoundEventAst(e,t,n,r){this.name=e,this.target=t,this.handler=n,this.sourceSpan=r}return BoundEventAst.prototype.visit=function(e,t){return e.visitEvent(this,t)},Object.defineProperty(BoundEventAst.prototype,"fullName",{get:function(){return r.isPresent(this.target)?this.target+":"+this.name:this.name},enumerable:!0,configurable:!0}),BoundEventAst}();t.BoundEventAst=c;var u=function(){function VariableAst(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}return VariableAst.prototype.visit=function(e,t){return e.visitVariable(this,t)},VariableAst}();t.VariableAst=u;var l=function(){function ElementAst(e,t,n,r,i,o,a,s,c){this.name=e,this.attrs=t,this.inputs=n,this.outputs=r,this.exportAsVars=i,this.directives=o,this.children=a,this.ngContentIndex=s,this.sourceSpan=c}return ElementAst.prototype.visit=function(e,t){return e.visitElement(this,t)},ElementAst.prototype.isBound=function(){return this.inputs.length>0||this.outputs.length>0||this.exportAsVars.length>0||this.directives.length>0},ElementAst.prototype.getComponent=function(){return this.directives.length>0&&this.directives[0].directive.isComponent?this.directives[0].directive:null},ElementAst}();t.ElementAst=l;var p=function(){function EmbeddedTemplateAst(e,t,n,r,i,o,a){this.attrs=e,this.outputs=t,this.vars=n,this.directives=r,this.children=i,this.ngContentIndex=o,this.sourceSpan=a}return EmbeddedTemplateAst.prototype.visit=function(e,t){return e.visitEmbeddedTemplate(this,t)},EmbeddedTemplateAst}();t.EmbeddedTemplateAst=p;var f=function(){function BoundDirectivePropertyAst(e,t,n,r){this.directiveName=e,this.templateName=t,this.value=n,this.sourceSpan=r}return BoundDirectivePropertyAst.prototype.visit=function(e,t){return e.visitDirectiveProperty(this,t)},BoundDirectivePropertyAst}();t.BoundDirectivePropertyAst=f;var h=function(){function DirectiveAst(e,t,n,r,i,o){this.directive=e,this.inputs=t,this.hostProperties=n,this.hostEvents=r,this.exportAsVars=i,this.sourceSpan=o}return DirectiveAst.prototype.visit=function(e,t){return e.visitDirective(this,t)},DirectiveAst}();t.DirectiveAst=h;var d=function(){function NgContentAst(e,t,n){this.index=e,this.ngContentIndex=t,this.sourceSpan=n}return NgContentAst.prototype.visit=function(e,t){return e.visitNgContent(this,t)},NgContentAst}();t.NgContentAst=d,function(e){e[e.Property=0]="Property",e[e.Attribute=1]="Attribute",e[e.Class=2]="Class",e[e.Style=3]="Style"}(t.PropertyBindingType||(t.PropertyBindingType={}));t.PropertyBindingType;t.templateVisitAll=templateVisitAll},function(e,t){"use strict";var n=function(){function XHR(){}return XHR.prototype.get=function(e){return null},XHR}();t.XHR=n},function(e,t,n){"use strict";function _simpleChange(e,t){return new h(e,t)}var r=n(1),i=n(5),o=n(3),a=n(42),s=n(413),c=n(244),u=n(156),l=function(){function WrappedValue(e){this.wrapped=e}return WrappedValue.wrap=function(e){var t=p[f++%5];return t.wrapped=e,t},WrappedValue}();t.WrappedValue=l;var p=[new l(null),new l(null),new l(null),new l(null),new l(null)],f=0,h=function(){function SimpleChange(e,t){this.previousValue=e,this.currentValue=t}return SimpleChange.prototype.isFirstChange=function(){return this.previousValue===d.uninitialized},SimpleChange}();t.SimpleChange=h;var d=function(){function ChangeDetectionUtil(){}return ChangeDetectionUtil.arrayFn0=function(){return[]},ChangeDetectionUtil.arrayFn1=function(e){return[e]},ChangeDetectionUtil.arrayFn2=function(e,t){return[e,t]},ChangeDetectionUtil.arrayFn3=function(e,t,n){return[e,t,n]},ChangeDetectionUtil.arrayFn4=function(e,t,n,r){return[e,t,n,r]},ChangeDetectionUtil.arrayFn5=function(e,t,n,r,i){return[e,t,n,r,i]},ChangeDetectionUtil.arrayFn6=function(e,t,n,r,i,o){return[e,t,n,r,i,o]},ChangeDetectionUtil.arrayFn7=function(e,t,n,r,i,o,a){return[e,t,n,r,i,o,a]},ChangeDetectionUtil.arrayFn8=function(e,t,n,r,i,o,a,s){return[e,t,n,r,i,o,a,s]},ChangeDetectionUtil.arrayFn9=function(e,t,n,r,i,o,a,s,c){return[e,t,n,r,i,o,a,s,c]},ChangeDetectionUtil.operation_negate=function(e){return!e},ChangeDetectionUtil.operation_add=function(e,t){return e+t},ChangeDetectionUtil.operation_subtract=function(e,t){return e-t},ChangeDetectionUtil.operation_multiply=function(e,t){return e*t},ChangeDetectionUtil.operation_divide=function(e,t){return e/t},ChangeDetectionUtil.operation_remainder=function(e,t){return e%t},ChangeDetectionUtil.operation_equals=function(e,t){return e==t},ChangeDetectionUtil.operation_not_equals=function(e,t){return e!=t},ChangeDetectionUtil.operation_identical=function(e,t){return e===t},ChangeDetectionUtil.operation_not_identical=function(e,t){return e!==t},ChangeDetectionUtil.operation_less_then=function(e,t){return t>e},ChangeDetectionUtil.operation_greater_then=function(e,t){return e>t},ChangeDetectionUtil.operation_less_or_equals_then=function(e,t){return t>=e},ChangeDetectionUtil.operation_greater_or_equals_then=function(e,t){return e>=t},ChangeDetectionUtil.cond=function(e,t,n){return e?t:n},ChangeDetectionUtil.mapFn=function(e){function buildMap(t){for(var n=o.StringMapWrapper.create(),r=0;r<e.length;++r)o.StringMapWrapper.set(n,e[r],t[r]);return n}switch(e.length){case 0:return function(){return[]};case 1:return function(e){return buildMap([e])};case 2:return function(e,t){return buildMap([e,t])};case 3:return function(e,t,n){return buildMap([e,t,n])};case 4:return function(e,t,n,r){return buildMap([e,t,n,r])};case 5:return function(e,t,n,r,i){return buildMap([e,t,n,r,i])};case 6:return function(e,t,n,r,i,o){return buildMap([e,t,n,r,i,o])};case 7:return function(e,t,n,r,i,o,a){return buildMap([e,t,n,r,i,o,a])};case 8:return function(e,t,n,r,i,o,a,s){return buildMap([e,t,n,r,i,o,a,s])};case 9:return function(e,t,n,r,i,o,a,s,c){return buildMap([e,t,n,r,i,o,a,s,c])};default:throw new i.BaseException("Does not support literal maps with more than 9 elements")}},ChangeDetectionUtil.keyedAccess=function(e,t){return e[t[0]]},ChangeDetectionUtil.unwrapValue=function(e){return e instanceof l?e.wrapped:e},ChangeDetectionUtil.changeDetectionMode=function(e){return a.isDefaultChangeDetectionStrategy(e)?a.ChangeDetectionStrategy.CheckAlways:a.ChangeDetectionStrategy.CheckOnce},ChangeDetectionUtil.simpleChange=function(e,t){return _simpleChange(e,t)},ChangeDetectionUtil.isValueBlank=function(e){return r.isBlank(e)},ChangeDetectionUtil.s=function(e){return r.isPresent(e)?""+e:""},ChangeDetectionUtil.protoByIndex=function(e,t){return 1>t?null:e[t-1]},ChangeDetectionUtil.callPipeOnDestroy=function(e){s.implementsOnDestroy(e.pipe)&&e.pipe.ngOnDestroy()},ChangeDetectionUtil.bindingTarget=function(e,t,n,r,i){return new c.BindingTarget(e,t,n,r,i)},ChangeDetectionUtil.directiveIndex=function(e,t){return new u.DirectiveIndex(e,t)},ChangeDetectionUtil.looseNotIdentical=function(e,t){return!r.looseIdentical(e,t)},ChangeDetectionUtil.devModeEqual=function(e,t){return o.isListLikeIterable(e)&&o.isListLikeIterable(t)?o.areIterablesEqual(e,t,ChangeDetectionUtil.devModeEqual):o.isListLikeIterable(e)||r.isPrimitive(e)||o.isListLikeIterable(t)||r.isPrimitive(t)?r.looseIdentical(e,t):!0},ChangeDetectionUtil.uninitialized=r.CONST_EXPR(new Object),ChangeDetectionUtil}();t.ChangeDetectionUtil=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(1),a=function(){function InjectMetadata(e){this.token=e}return InjectMetadata.prototype.toString=function(){return"@Inject("+o.stringify(this.token)+")"},InjectMetadata=r([o.CONST(),i("design:paramtypes",[Object])],InjectMetadata)}();t.InjectMetadata=a;var s=function(){function OptionalMetadata(){}return OptionalMetadata.prototype.toString=function(){return"@Optional()"},OptionalMetadata=r([o.CONST(),i("design:paramtypes",[])],OptionalMetadata)}();t.OptionalMetadata=s;var c=function(){function DependencyMetadata(){}return Object.defineProperty(DependencyMetadata.prototype,"token",{get:function(){return null},enumerable:!0,configurable:!0}),DependencyMetadata=r([o.CONST(),i("design:paramtypes",[])],DependencyMetadata)}();t.DependencyMetadata=c;var u=function(){function InjectableMetadata(){}return InjectableMetadata=r([o.CONST(),i("design:paramtypes",[])],InjectableMetadata)}();t.InjectableMetadata=u;var l=function(){function SelfMetadata(){}return SelfMetadata.prototype.toString=function(){return"@Self()"},SelfMetadata=r([o.CONST(),i("design:paramtypes",[])],SelfMetadata)}();t.SelfMetadata=l;var p=function(){function SkipSelfMetadata(){}return SkipSelfMetadata.prototype.toString=function(){return"@SkipSelf()"},SkipSelfMetadata=r([o.CONST(),i("design:paramtypes",[])],SkipSelfMetadata)}();t.SkipSelfMetadata=p;var f=function(){function HostMetadata(){}return HostMetadata.prototype.toString=function(){return"@Host()"},HostMetadata=r([o.CONST(),i("design:paramtypes",[])],HostMetadata)}();t.HostMetadata=f},function(e,t,n){"use strict";function isHostViewFactory(e){return e instanceof p.HostViewFactory}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(6),s=n(1),c=n(5),u=n(9),l=n(18),p=n(84),f=n(111),h=function(){function Compiler(){}return Compiler}();t.Compiler=h;var d=function(e){function Compiler_(){e.apply(this,arguments)}return r(Compiler_,e),Compiler_.prototype.compileInHost=function(e){var t=l.reflector.annotations(e),n=t.find(isHostViewFactory);if(s.isBlank(n))throw new c.BaseException("No precompiled component "+s.stringify(e)+" found");return u.PromiseWrapper.resolve(new f.HostViewFactoryRef_(n))},Compiler_.prototype.clearCache=function(){},Compiler_=i([a.Injectable(),o("design:paramtypes",[])],Compiler_)}(h);t.Compiler_=d},function(e,t){"use strict";var n=function(){function PromiseCompleter(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return PromiseCompleter}();t.PromiseCompleter=n;var r=function(){function PromiseWrapper(){}return PromiseWrapper.resolve=function(e){return Promise.resolve(e)},PromiseWrapper.reject=function(e,t){return Promise.reject(e)},PromiseWrapper.catchError=function(e,t){return e.catch(t)},PromiseWrapper.all=function(e){return 0==e.length?Promise.resolve([]):Promise.all(e)},PromiseWrapper.then=function(e,t,n){return e.then(t,n)},PromiseWrapper.wrap=function(e){return new Promise(function(t,n){try{t(e())}catch(r){n(r)}})},PromiseWrapper.scheduleMicrotask=function(e){PromiseWrapper.then(PromiseWrapper.resolve(null),e,function(e){})},PromiseWrapper.isPromise=function(e){return e instanceof Promise},PromiseWrapper.completer=function(){return new n},PromiseWrapper}();t.PromiseWrapper=r},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(1),s=n(5),c=n(6),u=n(115),l=n(3);t.EVENT_MANAGER_PLUGINS=a.CONST_EXPR(new c.OpaqueToken("EventManagerPlugins"));var p=function(){function EventManager(e,t){var n=this;this._zone=t,e.forEach(function(e){return e.manager=n}),this._plugins=l.ListWrapper.reversed(e)}return EventManager.prototype.addEventListener=function(e,t,n){var r=this._findPluginFor(t);return r.addEventListener(e,t,n)},EventManager.prototype.addGlobalEventListener=function(e,t,n){var r=this._findPluginFor(t);return r.addGlobalEventListener(e,t,n)},EventManager.prototype.getZone=function(){return this._zone},EventManager.prototype._findPluginFor=function(e){for(var t=this._plugins,n=0;n<t.length;n++){var r=t[n];if(r.supports(e))return r}throw new s.BaseException("No event manager plugin found for event "+e)},EventManager=r([c.Injectable(),o(0,c.Inject(t.EVENT_MANAGER_PLUGINS)),i("design:paramtypes",[Array,u.NgZone])],EventManager)}();t.EventManager=p;var f=function(){function EventManagerPlugin(){}return EventManagerPlugin.prototype.supports=function(e){return!1},EventManagerPlugin.prototype.addEventListener=function(e,t,n){throw"not implemented"},EventManagerPlugin.prototype.addGlobalEventListener=function(e,t,n){throw"not implemented"},EventManagerPlugin}();t.EventManagerPlugin=f},,,,,function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(211),o=n(131),a=n(132),s=n(369),c=function(e){function Subscriber(t,n,r){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!t){this.destination=s.empty;break}if("object"==typeof t){t instanceof Subscriber?this.destination=t:(this.syncErrorThrowable=!0,this.destination=new u(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,n,r)}}return r(Subscriber,e),Subscriber.create=function(e,t,n){var r=new Subscriber(e,t,n);return r.syncErrorThrowable=!1,r},Subscriber.prototype.next=function(e){this.isStopped||this._next(e)},Subscriber.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},Subscriber.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},Subscriber.prototype.unsubscribe=function(){this.isUnsubscribed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},Subscriber.prototype._next=function(e){this.destination.next(e)},Subscriber.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},Subscriber.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},Subscriber.prototype[a.$$rxSubscriber]=function(){return this},Subscriber}(o.Subscription);t.Subscriber=c;var u=function(e){function SafeSubscriber(t,n,r,o){e.call(this),this._parent=t;var a,s=this;i.isFunction(n)?a=n:n&&(s=n,a=n.next,r=n.error,o=n.complete,i.isFunction(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this)),this._context=s,this._next=a,this._error=r,this._complete=o}return r(SafeSubscriber,e),SafeSubscriber.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parent;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},SafeSubscriber.prototype.error=function(e){if(!this.isStopped){var t=this._parent;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},SafeSubscriber.prototype.complete=function(){if(!this.isStopped){var e=this._parent;this._complete?e.syncErrorThrowable?(this.__tryOrSetError(e,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},SafeSubscriber.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){throw this.unsubscribe(),n}},SafeSubscriber.prototype.__tryOrSetError=function(e,t,n){try{t.call(this._context,n)}catch(r){return e.syncErrorValue=r,e.syncErrorThrown=!0,!0}return!1},SafeSubscriber.prototype._unsubscribe=function(){var e=this._parent;this._context=null,this._parent=null,e.unsubscribe()},SafeSubscriber}(c)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(137),o=function(e){function ControlContainer(){e.apply(this,arguments)}return r(ControlContainer,e),Object.defineProperty(ControlContainer.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(ControlContainer.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),ControlContainer}(i.AbstractControlDirective);t.ControlContainer=o},function(e,t,n){"use strict";function getHtmlTagDefinition(e){var t=a[e.toLowerCase()];return r.isPresent(t)?t:s}function splitNsName(e){if("@"!=e[0])return[null,e];var t=r.RegExpWrapper.firstMatch(c,e);return[t[1],t[2]]}function getNsPrefix(e){return splitNsName(e)[0]}function mergeNsAndName(e,t){return r.isPresent(e)?"@"+e+":"+t:t}var r=n(1);t.NAMED_ENTITIES=r.CONST_EXPR({Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",alefsym:"ℵ",Alpha:"Α",alpha:"α",amp:"&",and:"∧",ang:"∠",apos:"'",Aring:"Å",aring:"å",asymp:"≈",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",bdquo:"„",Beta:"Β",beta:"β",brvbar:"¦",bull:"•",cap:"∩",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",Chi:"Χ",chi:"χ",circ:"ˆ",clubs:"♣",cong:"≅",copy:"©",crarr:"↵",cup:"∪",curren:"¤",dagger:"†",Dagger:"‡",darr:"↓",dArr:"⇓",deg:"°",Delta:"Δ",delta:"δ",diams:"♦",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",empty:"∅",emsp:" ",ensp:" ",Epsilon:"Ε",epsilon:"ε",equiv:"≡",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",exist:"∃",fnof:"ƒ",forall:"∀",frac12:"½",frac14:"¼",frac34:"¾",frasl:"⁄",Gamma:"Γ",gamma:"γ",ge:"≥",gt:">",harr:"↔",hArr:"⇔",hearts:"♥",hellip:"…",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",image:"ℑ",infin:"∞","int":"∫",Iota:"Ι",iota:"ι",iquest:"¿",isin:"∈",Iuml:"Ï",iuml:"ï",Kappa:"Κ",kappa:"κ",Lambda:"Λ",lambda:"λ",lang:"⟨",laquo:"«",larr:"←",lArr:"⇐",lceil:"⌈",ldquo:"“",le:"≤",lfloor:"⌊",lowast:"∗",loz:"◊",lrm:"‎",lsaquo:"‹",lsquo:"‘",lt:"<",macr:"¯",mdash:"—",micro:"µ",middot:"·",minus:"−",Mu:"Μ",mu:"μ",nabla:"∇",nbsp:" ",ndash:"–",ne:"≠",ni:"∋",not:"¬",notin:"∉",nsub:"⊄",Ntilde:"Ñ",ntilde:"ñ",Nu:"Ν",nu:"ν",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",OElig:"Œ",oelig:"œ",Ograve:"Ò",ograve:"ò",oline:"‾",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",oplus:"⊕",or:"∨",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",otimes:"⊗",Ouml:"Ö",ouml:"ö",para:"¶",permil:"‰",perp:"⊥",Phi:"Φ",phi:"φ",Pi:"Π",pi:"π",piv:"ϖ",plusmn:"±",pound:"£",prime:"′",Prime:"″",prod:"∏",prop:"∝",Psi:"Ψ",psi:"ψ",quot:'"',radic:"√",rang:"⟩",raquo:"»",rarr:"→",rArr:"⇒",rceil:"⌉",rdquo:"”",real:"ℜ",reg:"®",rfloor:"⌋",Rho:"Ρ",rho:"ρ",rlm:"‏",rsaquo:"›",rsquo:"’",sbquo:"‚",Scaron:"Š",scaron:"š",sdot:"⋅",sect:"§",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sim:"∼",spades:"♠",sub:"⊂",sube:"⊆",sum:"∑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supe:"⊇",szlig:"ß",Tau:"Τ",tau:"τ",there4:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thinsp:" ",THORN:"Þ",thorn:"þ",tilde:"˜",times:"×",trade:"™",Uacute:"Ú",uacute:"ú",uarr:"↑",uArr:"⇑",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",Uuml:"Ü",uuml:"ü",weierp:"℘",Xi:"Ξ",xi:"ξ",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ",Yuml:"Ÿ",Zeta:"Ζ",zeta:"ζ",zwj:"‍",zwnj:"‌"}),function(e){e[e.RAW_TEXT=0]="RAW_TEXT",e[e.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",e[e.PARSABLE_DATA=2]="PARSABLE_DATA"}(t.HtmlTagContentType||(t.HtmlTagContentType={}));var i=t.HtmlTagContentType,o=function(){function HtmlTagDefinition(e){var t=this,n=void 0===e?{}:e,o=n.closedByChildren,a=n.requiredParents,s=n.implicitNamespacePrefix,c=n.contentType,u=n.closedByParent,l=n.isVoid,p=n.ignoreFirstLf;this.closedByChildren={},this.closedByParent=!1,r.isPresent(o)&&o.length>0&&o.forEach(function(e){return t.closedByChildren[e]=!0}),this.isVoid=r.normalizeBool(l),this.closedByParent=r.normalizeBool(u)||this.isVoid,r.isPresent(a)&&a.length>0&&(this.requiredParents={},
this.parentToAdd=a[0],a.forEach(function(e){return t.requiredParents[e]=!0})),this.implicitNamespacePrefix=s,this.contentType=r.isPresent(c)?c:i.PARSABLE_DATA,this.ignoreFirstLf=r.normalizeBool(p)}return HtmlTagDefinition.prototype.requireExtraParent=function(e){if(r.isBlank(this.requiredParents))return!1;if(r.isBlank(e))return!0;var t=e.toLowerCase();return 1!=this.requiredParents[t]&&"template"!=t},HtmlTagDefinition.prototype.isClosedByChild=function(e){return this.isVoid||r.normalizeBool(this.closedByChildren[e.toLowerCase()])},HtmlTagDefinition}();t.HtmlTagDefinition=o;var a={base:new o({isVoid:!0}),meta:new o({isVoid:!0}),area:new o({isVoid:!0}),embed:new o({isVoid:!0}),link:new o({isVoid:!0}),img:new o({isVoid:!0}),input:new o({isVoid:!0}),param:new o({isVoid:!0}),hr:new o({isVoid:!0}),br:new o({isVoid:!0}),source:new o({isVoid:!0}),track:new o({isVoid:!0}),wbr:new o({isVoid:!0}),p:new o({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new o({closedByChildren:["tbody","tfoot"]}),tbody:new o({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new o({closedByChildren:["tbody"],closedByParent:!0}),tr:new o({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new o({closedByChildren:["td","th"],closedByParent:!0}),th:new o({closedByChildren:["td","th"],closedByParent:!0}),col:new o({requiredParents:["colgroup"],isVoid:!0}),svg:new o({implicitNamespacePrefix:"svg"}),math:new o({implicitNamespacePrefix:"math"}),li:new o({closedByChildren:["li"],closedByParent:!0}),dt:new o({closedByChildren:["dt","dd"]}),dd:new o({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new o({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new o({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new o({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new o({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new o({closedByChildren:["optgroup"],closedByParent:!0}),option:new o({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new o({ignoreFirstLf:!0}),listing:new o({ignoreFirstLf:!0}),style:new o({contentType:i.RAW_TEXT}),script:new o({contentType:i.RAW_TEXT}),title:new o({contentType:i.ESCAPABLE_RAW_TEXT}),textarea:new o({contentType:i.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})},s=new o;t.getHtmlTagDefinition=getHtmlTagDefinition;var c=/^@([^:]+):(.+)/g;t.splitNsName=splitNsName,t.getNsPrefix=getNsPrefix,t.mergeNsAndName=mergeNsAndName},function(e,t,n){"use strict";function createWithoutPackagePrefix(){return new l}function getUrlScheme(e){var t=_split(e);return t&&t[p.Scheme]||""}function _buildFromEncodedParts(e,t,n,r,i,o,a){var c=[];return s.isPresent(e)&&c.push(e+":"),s.isPresent(n)&&(c.push("//"),s.isPresent(t)&&c.push(t+"@"),c.push(n),s.isPresent(r)&&c.push(":"+r)),s.isPresent(i)&&c.push(i),s.isPresent(o)&&c.push("?"+o),s.isPresent(a)&&c.push("#"+a),c.join("")}function _split(e){return s.RegExpWrapper.firstMatch(f,e)}function _removeDotSegments(e){if("/"==e)return"/";for(var t="/"==e[0]?"/":"",n="/"===e[e.length-1]?"/":"",r=e.split("/"),i=[],o=0,a=0;a<r.length;a++){var s=r[a];switch(s){case"":case".":break;case"..":i.length>0?i.pop():o++;break;default:i.push(s)}}if(""==t){for(;o-- >0;)i.unshift("..");0===i.length&&i.push(".")}return t+i.join("/")+n}function _joinAndCanonicalizePath(e){var t=e[p.Path];return t=s.isBlank(t)?"":_removeDotSegments(t),e[p.Path]=t,_buildFromEncodedParts(e[p.Scheme],e[p.UserInfo],e[p.Domain],e[p.Port],t,e[p.QueryData],e[p.Fragment])}function _resolveUrl(e,t){var n=_split(encodeURI(t)),r=_split(e);if(s.isPresent(n[p.Scheme]))return _joinAndCanonicalizePath(n);n[p.Scheme]=r[p.Scheme];for(var i=p.Scheme;i<=p.Port;i++)s.isBlank(n[i])&&(n[i]=r[i]);if("/"==n[p.Path][0])return _joinAndCanonicalizePath(n);var o=r[p.Path];s.isBlank(o)&&(o="/");var a=o.lastIndexOf("/");return o=o.substring(0,a+1)+n[p.Path],n[p.Path]=o,_joinAndCanonicalizePath(n)}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(6),s=n(1),c=n(80),u=n(6);t.createWithoutPackagePrefix=createWithoutPackagePrefix,t.DEFAULT_PACKAGE_URL_PROVIDER=new u.Provider(c.PACKAGE_ROOT_URL,{useValue:"/"});var l=function(){function UrlResolver(e){void 0===e&&(e=null),s.isPresent(e)&&(this._packagePrefix=s.StringWrapper.stripRight(e,"/")+"/")}return UrlResolver.prototype.resolve=function(e,t){var n=t;return s.isPresent(e)&&e.length>0&&(n=_resolveUrl(e,n)),s.isPresent(this._packagePrefix)&&"package"==getUrlScheme(n)&&(n=n.replace("package:",this._packagePrefix)),n},UrlResolver=r([a.Injectable(),o(0,a.Inject(c.PACKAGE_ROOT_URL)),i("design:paramtypes",[String])],UrlResolver)}();t.UrlResolver=l,t.getUrlScheme=getUrlScheme;var p,f=s.RegExpWrapper.create("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");!function(e){e[e.Scheme=1]="Scheme",e[e.UserInfo=2]="UserInfo",e[e.Domain=3]="Domain",e[e.Port=4]="Port",e[e.Path=5]="Path",e[e.QueryData=6]="QueryData",e[e.Fragment=7]="Fragment"}(p||(p={}))},function(e,t,n){"use strict";function _appIdRandomProviderFactory(){return""+_randomChar()+_randomChar()+_randomChar()}function _randomChar(){return i.StringWrapper.fromCharCode(97+i.Math.floor(25*i.Math.random()))}var r=n(6),i=n(1);t.APP_COMPONENT_REF_PROMISE=i.CONST_EXPR(new r.OpaqueToken("Promise<ComponentRef>")),t.APP_COMPONENT=i.CONST_EXPR(new r.OpaqueToken("AppComponent")),t.APP_ID=i.CONST_EXPR(new r.OpaqueToken("AppId")),t.APP_ID_RANDOM_PROVIDER=i.CONST_EXPR(new r.Provider(t.APP_ID,{useFactory:_appIdRandomProviderFactory,deps:[]})),t.PLATFORM_INITIALIZER=i.CONST_EXPR(new r.OpaqueToken("Platform Initializer")),t.APP_INITIALIZER=i.CONST_EXPR(new r.OpaqueToken("Application Initializer")),t.PACKAGE_ROOT_URL=i.CONST_EXPR(new r.OpaqueToken("Application Packages Root URL"))},function(e,t){"use strict";!function(e){e[e.Self=0]="Self",e[e.Const=1]="Const",e[e.PrimitiveOp=2]="PrimitiveOp",e[e.PropertyRead=3]="PropertyRead",e[e.PropertyWrite=4]="PropertyWrite",e[e.Local=5]="Local",e[e.InvokeMethod=6]="InvokeMethod",e[e.InvokeClosure=7]="InvokeClosure",e[e.KeyedRead=8]="KeyedRead",e[e.KeyedWrite=9]="KeyedWrite",e[e.Pipe=10]="Pipe",e[e.Interpolate=11]="Interpolate",e[e.SafeProperty=12]="SafeProperty",e[e.CollectionLiteral=13]="CollectionLiteral",e[e.SafeMethodInvoke=14]="SafeMethodInvoke",e[e.DirectiveLifecycle=15]="DirectiveLifecycle",e[e.Chain=16]="Chain",e[e.SkipRecordsIf=17]="SkipRecordsIf",e[e.SkipRecordsIfNot=18]="SkipRecordsIfNot",e[e.SkipRecords=19]="SkipRecords"}(t.RecordType||(t.RecordType={}));var n=t.RecordType,r=function(){function ProtoRecord(e,t,n,r,i,o,a,s,c,u,l,p,f,h){this.mode=e,this.name=t,this.funcOrValue=n,this.args=r,this.fixedArgs=i,this.contextIndex=o,this.directiveIndex=a,this.selfIndex=s,this.bindingRecord=c,this.lastInBinding=u,this.lastInDirective=l,this.argumentToPureFunction=p,this.referencedBySelf=f,this.propertyBindingIndex=h}return ProtoRecord.prototype.isPureFunction=function(){return this.mode===n.Interpolate||this.mode===n.CollectionLiteral},ProtoRecord.prototype.isUsedByOtherRecord=function(){return!this.lastInBinding||this.referencedBySelf},ProtoRecord.prototype.shouldBeChecked=function(){return this.argumentToPureFunction||this.lastInBinding||this.isPureFunction()||this.isPipeRecord()},ProtoRecord.prototype.isPipeRecord=function(){return this.mode===n.Pipe},ProtoRecord.prototype.isConditionalSkipRecord=function(){return this.mode===n.SkipRecordsIfNot||this.mode===n.SkipRecordsIf},ProtoRecord.prototype.isUnconditionalSkipRecord=function(){return this.mode===n.SkipRecords},ProtoRecord.prototype.isSkipRecord=function(){return this.isConditionalSkipRecord()||this.isUnconditionalSkipRecord()},ProtoRecord.prototype.isLifeCycleRecord=function(){return this.mode===n.DirectiveLifecycle},ProtoRecord}();t.ProtoRecord=r},function(e,t,n){"use strict";function bind(e){return new b(e)}function provide(e,t){var n=t.useClass,r=t.useValue,i=t.useExisting,o=t.useFactory,a=t.deps,s=t.multi;return new y(e,{useClass:n,useValue:r,useExisting:i,useFactory:o,deps:a,multi:s})}function resolveFactory(e){var t,n;if(a.isPresent(e.useClass)){var r=h.resolveForwardRef(e.useClass);t=u.reflector.factory(r),n=_dependenciesFor(r)}else a.isPresent(e.useExisting)?(t=function(e){return e},n=[d.fromKey(l.Key.get(e.useExisting))]):a.isPresent(e.useFactory)?(t=e.useFactory,n=_constructDependencies(e.useFactory,e.dependencies)):(t=function(){return e.useValue},n=g);return new v(t,n)}function resolveProvider(e){return new _(l.Key.get(e.token),[resolveFactory(e)],e.multi)}function resolveProviders(e){var t=_normalizeProviders(e,[]),n=t.map(resolveProvider);return c.MapWrapper.values(mergeResolvedProviders(n,new Map))}function mergeResolvedProviders(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=t.get(r.key.id);if(a.isPresent(i)){if(r.multiProvider!==i.multiProvider)throw new f.MixingMultiProvidersWithRegularProvidersError(i,r);if(r.multiProvider)for(var o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else t.set(r.key.id,r)}else{var s;s=r.multiProvider?new _(r.key,c.ListWrapper.clone(r.resolvedFactories),r.multiProvider):r,t.set(r.key.id,s)}}return t}function _normalizeProviders(e,t){return e.forEach(function(e){if(e instanceof a.Type)t.push(provide(e,{useClass:e}));else if(e instanceof y)t.push(e);else{if(!(e instanceof Array))throw e instanceof b?new f.InvalidProviderError(e.token):new f.InvalidProviderError(e);_normalizeProviders(e,t)}}),t}function _constructDependencies(e,t){if(a.isBlank(t))return _dependenciesFor(e);var n=t.map(function(e){return[e]});return t.map(function(t){return _extractToken(e,t,n)})}function _dependenciesFor(e){var t=u.reflector.parameters(e);if(a.isBlank(t))return[];if(t.some(a.isBlank))throw new f.NoAnnotationError(e,t);return t.map(function(n){return _extractToken(e,n,t)})}function _extractToken(e,t,n){var r=[],i=null,o=!1;if(!a.isArray(t))return t instanceof p.InjectMetadata?_createDependency(t.token,o,null,null,r):_createDependency(t,o,null,null,r);for(var s=null,c=null,u=0;u<t.length;++u){var l=t[u];l instanceof a.Type?i=l:l instanceof p.InjectMetadata?i=l.token:l instanceof p.OptionalMetadata?o=!0:l instanceof p.SelfMetadata?c=l:l instanceof p.HostMetadata?c=l:l instanceof p.SkipSelfMetadata?s=l:l instanceof p.DependencyMetadata&&(a.isPresent(l.token)&&(i=l.token),r.push(l))}if(i=h.resolveForwardRef(i),a.isPresent(i))return _createDependency(i,o,s,c,r);throw new f.NoAnnotationError(e,n)}function _createDependency(e,t,n,r,i){return new d(l.Key.get(e),t,n,r,i)}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(1),s=n(5),c=n(3),u=n(18),l=n(162),p=n(68),f=n(160),h=n(161),d=function(){function Dependency(e,t,n,r,i){this.key=e,this.optional=t,this.lowerBoundVisibility=n,this.upperBoundVisibility=r,this.properties=i}return Dependency.fromKey=function(e){return new Dependency(e,!1,null,null,[])},Dependency}();t.Dependency=d;var g=a.CONST_EXPR([]),y=function(){function Provider(e,t){var n=t.useClass,r=t.useValue,i=t.useExisting,o=t.useFactory,a=t.deps,s=t.multi;this.token=e,this.useClass=n,this.useValue=r,this.useExisting=i,this.useFactory=o,this.dependencies=a,this._multi=s}return Object.defineProperty(Provider.prototype,"multi",{get:function(){return a.normalizeBool(this._multi)},enumerable:!0,configurable:!0}),Provider=i([a.CONST(),o("design:paramtypes",[Object,Object])],Provider)}();t.Provider=y;var m=function(e){function Binding(t,n){var r=n.toClass,i=n.toValue,o=n.toAlias,a=n.toFactory,s=n.deps,c=n.multi;e.call(this,t,{useClass:r,useValue:i,useExisting:o,useFactory:a,deps:s,multi:c})}return r(Binding,e),Object.defineProperty(Binding.prototype,"toClass",{get:function(){return this.useClass},enumerable:!0,configurable:!0}),Object.defineProperty(Binding.prototype,"toAlias",{get:function(){return this.useExisting},enumerable:!0,configurable:!0}),Object.defineProperty(Binding.prototype,"toFactory",{get:function(){return this.useFactory},enumerable:!0,configurable:!0}),Object.defineProperty(Binding.prototype,"toValue",{get:function(){return this.useValue},enumerable:!0,configurable:!0}),Binding=i([a.CONST(),o("design:paramtypes",[Object,Object])],Binding)}(y);t.Binding=m;var _=function(){function ResolvedProvider_(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n}return Object.defineProperty(ResolvedProvider_.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),ResolvedProvider_}();t.ResolvedProvider_=_;var v=function(){function ResolvedFactory(e,t){this.factory=e,this.dependencies=t}return ResolvedFactory}();t.ResolvedFactory=v,t.bind=bind,t.provide=provide;var b=function(){function ProviderBuilder(e){this.token=e}return ProviderBuilder.prototype.toClass=function(e){if(!a.isType(e))throw new s.BaseException('Trying to create a class provider but "'+a.stringify(e)+'" is not a class!');return new y(this.token,{useClass:e})},ProviderBuilder.prototype.toValue=function(e){return new y(this.token,{useValue:e})},ProviderBuilder.prototype.toAlias=function(e){if(a.isBlank(e))throw new s.BaseException("Can not alias "+a.stringify(this.token)+" to a blank value!");return new y(this.token,{useExisting:e})},ProviderBuilder.prototype.toFactory=function(e,t){if(!a.isFunction(e))throw new s.BaseException('Trying to create a factory provider but "'+a.stringify(e)+'" is not a function!');return new y(this.token,{useFactory:e,deps:t})},ProviderBuilder}();t.ProviderBuilder=b,t.resolveFactory=resolveFactory,t.resolveProvider=resolveProvider,t.resolveProviders=resolveProviders,t.mergeResolvedProviders=mergeResolvedProviders},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(6),s=n(69),c=n(1),u=n(110),l=function(){function ComponentRef(){}return Object.defineProperty(ComponentRef.prototype,"hostView",{get:function(){return this.location.internalElement.parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef.prototype,"hostComponent",{get:function(){return this.instance},enumerable:!0,configurable:!0}),ComponentRef}();t.ComponentRef=l;var p=function(e){function ComponentRef_(t,n,r,i,o){e.call(this),this._dispose=o,this.location=t,this.instance=n,this.componentType=r,this.injector=i}return r(ComponentRef_,e),Object.defineProperty(ComponentRef_.prototype,"hostComponentType",{get:function(){return this.componentType},enumerable:!0,configurable:!0}),ComponentRef_.prototype.dispose=function(){this._dispose()},ComponentRef_}(l);t.ComponentRef_=p;var f=function(){function DynamicComponentLoader(){}return DynamicComponentLoader}();t.DynamicComponentLoader=f;var h=function(e){function DynamicComponentLoader_(t,n){e.call(this),this._compiler=t,this._viewManager=n}return r(DynamicComponentLoader_,e),DynamicComponentLoader_.prototype.loadAsRoot=function(e,t,n,r,i){var o=this;return this._compiler.compileInHost(e).then(function(a){var s=o._viewManager.createRootHostView(a,t,n,i),u=o._viewManager.getHostElement(s),l=o._viewManager.getComponent(u),f=function(){c.isPresent(r)&&r(),o._viewManager.destroyRootHostView(s)};return new p(u,l,e,n,f)})},DynamicComponentLoader_.prototype.loadIntoLocation=function(e,t,n,r,i){return void 0===r&&(r=null),void 0===i&&(i=null),this.loadNextToLocation(e,this._viewManager.getNamedElementInComponentView(t,n),r,i)},DynamicComponentLoader_.prototype.loadNextToLocation=function(e,t,n,r){var i=this;return void 0===n&&(n=null),void 0===r&&(r=null),this._compiler.compileInHost(e).then(function(o){var a=i._viewManager.getViewContainer(t),s=a.createHostView(o,a.length,n,r),c=i._viewManager.getHostElement(s),u=i._viewManager.getComponent(c),l=function(){var e=a.indexOf(s);s.destroyed||-1===e||a.remove(e)};return new p(c,u,e,null,l)})},DynamicComponentLoader_=i([a.Injectable(),o("design:paramtypes",[s.Compiler,u.AppViewManager])],DynamicComponentLoader_)}(f);t.DynamicComponentLoader_=h},function(e,t,n){"use strict";function _localsToStringMap(e){for(var t={},n=e;u.isPresent(n);)t=o.StringMapWrapper.merge(t,o.MapWrapper.toStringMap(n.current)),n=n.parent;return t}function flattenNestedViewRenderNodes(e){return _flattenNestedViewRenderNodes(e,[])}function _flattenNestedViewRenderNodes(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r instanceof c.AppElement){var i=r;if(t.push(i.nativeElement),u.isPresent(i.nestedViews))for(var o=0;o<i.nestedViews.length;o++)_flattenNestedViewRenderNodes(i.nestedViews[o].rootNodesOrAppElements,t)}else t.push(r)}return t}function findLastRenderNode(e){var t;if(e instanceof c.AppElement){var n=e;if(t=n.nativeElement,u.isPresent(n.nestedViews))for(var r=n.nestedViews.length-1;r>=0;r--){var i=n.nestedViews[r];i.rootNodesOrAppElements.length>0&&(t=findLastRenderNode(i.rootNodesOrAppElements[i.rootNodesOrAppElements.length-1]))}}else t=e;return t}function checkSlotCount(e,t,n){var r=u.isPresent(n)?n.length:0;if(t>r)throw new l.BaseException("The component "+e+" has "+t+" <ng-content> elements,"+(" but only "+r+" slots were provided."))}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(3),a=n(23),s=n(157),c=n(108),u=n(1),l=n(5),p=n(113),f=n(111),h=n(263),d=n(424),g=n(157);t.DebugContext=g.DebugContext;var y=n(263),m=n(85),_="ng-reflect-",v=u.CONST_EXPR(new Object),b=function(){function AppView(e,t,n,r,i,o,a,s){this.proto=e,this.renderer=t,this.viewManager=n,this.projectableNodes=r,this.containerAppElement=i,this.changeDetector=s,this.context=null,this.destroyed=!1,this.ref=new f.ViewRef_(this);var u=c.AppElement.getViewParentInjector(this.proto.type,i,o,a);this.parentInjector=u.injector,this.hostInjectorBoundary=u.hostInjectorBoundary;var l,p;switch(e.type){case m.ViewType.COMPONENT:l=new y.Pipes(e.protoPipes,i.getInjector()),p=i.getComponent();break;case m.ViewType.EMBEDDED:l=i.parentView.pipes,p=i.parentView.context;break;case m.ViewType.HOST:l=null,p=v}this.pipes=l,this.context=p}return AppView.prototype.init=function(e,t,n,r){this.rootNodesOrAppElements=e,this.allNodes=t,this.disposables=n,this.appElements=r;var i=new o.Map;o.StringMapWrapper.forEach(this.proto.templateVariableBindings,function(e,t){i.set(e,null)});for(var s=0;s<r.length;s++){var c=r[s],l=[];if(u.isPresent(c.proto.protoInjector))for(var f=0;f<c.proto.protoInjector.numberOfProviders;f++)l.push(c.proto.protoInjector.getProviderAtIndex(f).key.token);o.StringMapWrapper.forEach(c.proto.directiveVariableBindings,function(e,t){u.isBlank(e)?i.set(t,c.nativeElement):i.set(t,c.getDirectiveAtIndex(e))}),this.renderer.setElementDebugInfo(c.nativeElement,new p.RenderDebugInfo(c.getInjector(),c.getComponent(),l,i))}var h=null;this.proto.type!==m.ViewType.COMPONENT&&(h=u.isPresent(this.containerAppElement)?this.containerAppElement.parentView.locals:null),this.proto.type===m.ViewType.COMPONENT&&(this.containerAppElement.attachComponentView(this),this.containerAppElement.parentView.changeDetector.addViewChild(this.changeDetector)),this.locals=new a.Locals(h,i),this.changeDetector.hydrate(this.context,this.locals,this,this.pipes),this.viewManager.onViewCreated(this)},AppView.prototype.destroy=function(){if(this.destroyed)throw new l.BaseException("This view has already been destroyed!");this.changeDetector.destroyRecursive()},AppView.prototype.notifyOnDestroy=function(){this.destroyed=!0;var e=this.proto.type===m.ViewType.COMPONENT?this.containerAppElement.nativeElement:null;this.renderer.destroyView(e,this.allNodes);for(var t=0;t<this.disposables.length;t++)this.disposables[t]();this.viewManager.onViewDestroyed(this)},Object.defineProperty(AppView.prototype,"changeDetectorRef",{get:function(){return this.changeDetector.ref},enumerable:!0,configurable:!0}),Object.defineProperty(AppView.prototype,"flatRootNodes",{get:function(){return flattenNestedViewRenderNodes(this.rootNodesOrAppElements)},enumerable:!0,configurable:!0}),AppView.prototype.hasLocal=function(e){return o.StringMapWrapper.contains(this.proto.templateVariableBindings,e)},AppView.prototype.setLocal=function(e,t){if(this.hasLocal(e)){var n=this.proto.templateVariableBindings[e];this.locals.set(n,t)}},AppView.prototype.notifyOnBinding=function(e,t){if(e.isTextNode())this.renderer.setText(this.allNodes[e.elementIndex],t);else{var n=this.appElements[e.elementIndex].nativeElement;if(e.isElementProperty())this.renderer.setElementProperty(n,e.name,t);else if(e.isElementAttribute())this.renderer.setElementAttribute(n,e.name,u.isPresent(t)?""+t:null);else if(e.isElementClass())this.renderer.setElementClass(n,e.name,t);else{if(!e.isElementStyle())throw new l.BaseException("Unsupported directive record");var r=u.isPresent(e.unit)?e.unit:"";this.renderer.setElementStyle(n,e.name,u.isPresent(t)?""+t+r:null)}}},AppView.prototype.logBindingUpdate=function(e,t){if(e.isDirective()||e.isElementProperty()){var n=this.appElements[e.elementIndex].nativeElement;this.renderer.setBindingDebugInfo(n,""+_+d.camelCaseToDashCase(e.name),""+t)}},AppView.prototype.notifyAfterContentChecked=function(){for(var e=this.appElements.length,t=e-1;t>=0;t--)this.appElements[t].ngAfterContentChecked()},AppView.prototype.notifyAfterViewChecked=function(){for(var e=this.appElements.length,t=e-1;t>=0;t--)this.appElements[t].ngAfterViewChecked()},AppView.prototype.getDebugContext=function(e,t,n){try{u.isBlank(e)&&t<this.appElements.length&&(e=this.appElements[t]);var r=this.containerAppElement,i=u.isPresent(e)?e.nativeElement:null,o=u.isPresent(r)?r.nativeElement:null,a=u.isPresent(n)?e.getDirectiveAtIndex(n):null,c=u.isPresent(e)?e.getInjector():null;return new s.DebugContext(i,o,a,this.context,_localsToStringMap(this.locals),c)}catch(l){return null}},AppView.prototype.getDirectiveFor=function(e){return this.appElements[e.elementIndex].getDirectiveAtIndex(e.directiveIndex)},AppView.prototype.getDetectorFor=function(e){var t=this.appElements[e.elementIndex].componentView;return u.isPresent(t)?t.changeDetector:null},AppView.prototype.triggerEventHandlers=function(e,t,n){return this.changeDetector.handleEvent(e,n,t)},AppView}();t.AppView=b;var C=function(){function AppProtoView(e,t,n){this.type=e,this.protoPipes=t,this.templateVariableBindings=n}return AppProtoView.create=function(e,t,n,r){var i=null;if(u.isPresent(n)&&n.length>0){for(var a=o.ListWrapper.createFixedSize(n.length),s=0;s<n.length;s++)a[s]=e.getResolvedPipeMetadata(n[s]);i=h.ProtoPipes.fromProviders(a)}return new AppProtoView(t,i,r)},AppProtoView}();t.AppProtoView=C;var P=function(){function HostViewFactory(e,t){this.selector=e,this.viewFactory=t}return HostViewFactory=r([u.CONST(),i("design:paramtypes",[String,Function])],HostViewFactory)}();t.HostViewFactory=P,t.flattenNestedViewRenderNodes=flattenNestedViewRenderNodes,t.findLastRenderNode=findLastRenderNode,t.checkSlotCount=checkSlotCount},function(e,t){"use strict";!function(e){e[e.HOST=0]="HOST",e[e.COMPONENT=1]="COMPONENT",e[e.EMBEDDED=2]="EMBEDDED"}(t.ViewType||(t.ViewType={}));t.ViewType},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(1),s=n(68),c=n(243),u=function(e){function DirectiveMetadata(t){var n=void 0===t?{}:t,r=n.selector,i=n.inputs,o=n.outputs,a=n.properties,s=n.events,c=n.host,u=n.bindings,l=n.providers,p=n.exportAs,f=n.queries;e.call(this),this.selector=r,this._inputs=i,this._properties=a,this._outputs=o,this._events=s,this.host=c,this.exportAs=p,this.queries=f,this._providers=l,this._bindings=u}return r(DirectiveMetadata,e),Object.defineProperty(DirectiveMetadata.prototype,"inputs",{get:function(){return a.isPresent(this._properties)&&this._properties.length>0?this._properties:this._inputs},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"properties",{get:function(){return this.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"outputs",{get:function(){return a.isPresent(this._events)&&this._events.length>0?this._events:this._outputs},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"events",{get:function(){return this.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"providers",{get:function(){return a.isPresent(this._bindings)&&this._bindings.length>0?this._bindings:this._providers},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"bindings",{get:function(){return this.providers},enumerable:!0,configurable:!0}),DirectiveMetadata=i([a.CONST(),o("design:paramtypes",[Object])],DirectiveMetadata)}(s.InjectableMetadata);t.DirectiveMetadata=u;var l=function(e){function ComponentMetadata(t){var n=void 0===t?{}:t,r=n.selector,i=n.inputs,o=n.outputs,a=n.properties,s=n.events,u=n.host,l=n.exportAs,p=n.moduleId,f=n.bindings,h=n.providers,d=n.viewBindings,g=n.viewProviders,y=n.changeDetection,m=void 0===y?c.ChangeDetectionStrategy.Default:y,_=n.queries,v=n.templateUrl,b=n.template,C=n.styleUrls,P=n.styles,R=n.directives,w=n.pipes,E=n.encapsulation;e.call(this,{selector:r,inputs:i,outputs:o,properties:a,events:s,host:u,exportAs:l,bindings:f,providers:h,queries:_}),this.changeDetection=m,this._viewProviders=g,this._viewBindings=d,this.templateUrl=v,this.template=b,this.styleUrls=C,this.styles=P,this.directives=R,this.pipes=w,this.encapsulation=E,this.moduleId=p}return r(ComponentMetadata,e),Object.defineProperty(ComponentMetadata.prototype,"viewProviders",{get:function(){return a.isPresent(this._viewBindings)&&this._viewBindings.length>0?this._viewBindings:this._viewProviders},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentMetadata.prototype,"viewBindings",{get:function(){return this.viewProviders},enumerable:!0,configurable:!0}),ComponentMetadata=i([a.CONST(),o("design:paramtypes",[Object])],ComponentMetadata)}(u);t.ComponentMetadata=l;var p=function(e){function PipeMetadata(t){var n=t.name,r=t.pure;e.call(this),this.name=n,this._pure=r}return r(PipeMetadata,e),Object.defineProperty(PipeMetadata.prototype,"pure",{get:function(){return a.isPresent(this._pure)?this._pure:!0},enumerable:!0,configurable:!0}),PipeMetadata=i([a.CONST(),o("design:paramtypes",[Object])],PipeMetadata)}(s.InjectableMetadata);t.PipeMetadata=p;var f=function(){function InputMetadata(e){this.bindingPropertyName=e}return InputMetadata=i([a.CONST(),o("design:paramtypes",[String])],InputMetadata)}();t.InputMetadata=f;var h=function(){function OutputMetadata(e){this.bindingPropertyName=e}return OutputMetadata=i([a.CONST(),o("design:paramtypes",[String])],OutputMetadata)}();t.OutputMetadata=h;var d=function(){function HostBindingMetadata(e){this.hostPropertyName=e}return HostBindingMetadata=i([a.CONST(),o("design:paramtypes",[String])],HostBindingMetadata)}();t.HostBindingMetadata=d;var g=function(){function HostListenerMetadata(e,t){this.eventName=e,this.args=t}return HostListenerMetadata=i([a.CONST(),o("design:paramtypes",[String,Array])],HostListenerMetadata)}();t.HostListenerMetadata=g},function(e,t){"use strict";var n=function(){function ReflectorReader(){}return ReflectorReader}();t.ReflectorReader=n},function(e,t,n){"use strict";function extractAnnotation(e){return r.isFunction(e)&&e.hasOwnProperty("annotation")&&(e=e.annotation),e}function applyParams(e,t){if(e===Object||e===String||e===Function||e===Number||e===Array)throw new Error("Can not use native "+r.stringify(e)+" as constructor");if(r.isFunction(e))return e;if(e instanceof Array){var n=e,i=e[e.length-1];if(!r.isFunction(i))throw new Error("Last position of Class method array must be Function in key "+t+" was '"+r.stringify(i)+"'");var a=n.length-1;if(a!=i.length)throw new Error("Number of annotations ("+a+") does not match number of arguments ("+i.length+") in the function: "+r.stringify(i));for(var s=[],c=0,u=n.length-1;u>c;c++){var l=[];s.push(l);var p=n[c];if(p instanceof Array)for(var f=0;f<p.length;f++)l.push(extractAnnotation(p[f]));else r.isFunction(p)?l.push(extractAnnotation(p)):l.push(p)}return o.defineMetadata("parameters",s,i),i}throw new Error("Only Function or Array is supported in Class definition for key '"+t+"' is '"+r.stringify(e)+"'")}function Class(e){var t=applyParams(e.hasOwnProperty("constructor")?e.constructor:void 0,"constructor"),n=t.prototype;if(e.hasOwnProperty("extends")){if(!r.isFunction(e.extends))throw new Error("Class definition 'extends' property must be a constructor function was: "+r.stringify(e.extends));t.prototype=n=Object.create(e.extends.prototype)}for(var a in e)"extends"!=a&&"prototype"!=a&&e.hasOwnProperty(a)&&(n[a]=applyParams(e[a],a));return this&&this.annotations instanceof Array&&o.defineMetadata("annotations",this.annotations,t),t.name||(t.overriddenName="class"+i++),t}function makeDecorator(e,t){function DecoratorFactory(n){var i=new e(n);if(this instanceof e)return i;var a=r.isFunction(this)&&this.annotations instanceof Array?this.annotations:[];a.push(i);var s=function(e){var t=o.getOwnMetadata("annotations",e);return t=t||[],t.push(i),o.defineMetadata("annotations",t,e),e};return s.annotations=a,s.Class=Class,t&&t(s),s}return void 0===t&&(t=null),DecoratorFactory.prototype=Object.create(e.prototype),
DecoratorFactory}function makeParamDecorator(e){function ParamDecoratorFactory(){function ParamDecorator(e,t,n){var i=o.getMetadata("parameters",e);for(i=i||[];i.length<=n;)i.push(null);i[n]=i[n]||[];var a=i[n];return a.push(r),o.defineMetadata("parameters",i,e),e}for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=Object.create(e.prototype);return e.apply(r,t),this instanceof e?r:(ParamDecorator.annotation=r,ParamDecorator)}return ParamDecoratorFactory.prototype=Object.create(e.prototype),ParamDecoratorFactory}function makePropDecorator(e){function PropDecoratorFactory(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=Object.create(e.prototype);return e.apply(r,t),this instanceof e?r:function(e,t){var n=o.getOwnMetadata("propMetadata",e.constructor);n=n||{},n[t]=n[t]||[],n[t].unshift(r),o.defineMetadata("propMetadata",n,e.constructor)}}return PropDecoratorFactory.prototype=Object.create(e.prototype),PropDecoratorFactory}var r=n(1),i=0;t.Class=Class;var o=r.global.Reflect;!function(){if(!o||!o.getMetadata)throw"reflect-metadata shim is required when using class decorators"}(),t.makeDecorator=makeDecorator,t.makeParamDecorator=makeParamDecorator,t.makePropDecorator=makePropDecorator},function(e,t,n){"use strict";var r=n(1),i=n(5),o=n(3),a=function(){function Headers(e){var t=this;return e instanceof Headers?void(this._headersMap=e._headersMap):(this._headersMap=new o.Map,void(r.isBlank(e)||o.StringMapWrapper.forEach(e,function(e,n){t._headersMap.set(n,o.isListLikeIterable(e)?e:[e])})))}return Headers.fromResponseHeaderString=function(e){return e.trim().split("\n").map(function(e){return e.split(":")}).map(function(e){var t=e[0],n=e.slice(1);return[t.trim(),n.join(":").trim()]}).reduce(function(e,t){var n=t[0],r=t[1];return!e.set(n,r)&&e},new Headers)},Headers.prototype.append=function(e,t){var n=this._headersMap.get(e),r=o.isListLikeIterable(n)?n:[];r.push(t),this._headersMap.set(e,r)},Headers.prototype.delete=function(e){this._headersMap.delete(e)},Headers.prototype.forEach=function(e){this._headersMap.forEach(e)},Headers.prototype.get=function(e){return o.ListWrapper.first(this._headersMap.get(e))},Headers.prototype.has=function(e){return this._headersMap.has(e)},Headers.prototype.keys=function(){return o.MapWrapper.keys(this._headersMap)},Headers.prototype.set=function(e,t){var n=[];if(o.isListLikeIterable(t)){var r=t.join(",");n.push(r)}else n.push(t);this._headersMap.set(e,n)},Headers.prototype.values=function(){return o.MapWrapper.values(this._headersMap)},Headers.prototype.toJSON=function(){var e={};return this._headersMap.forEach(function(t,n){var r=[];o.iterateListLike(t,function(e){return r=o.ListWrapper.concat(r,e.split(","))}),e[n]=r}),e},Headers.prototype.getAll=function(e){var t=this._headersMap.get(e);return o.isListLikeIterable(t)?t:[]},Headers.prototype.entries=function(){throw new i.BaseException('"entries" method is not implemented on Headers class')},Headers}();t.Headers=a},function(e,t,n){"use strict";var r=n(6),i=n(1);t.DOCUMENT=i.CONST_EXPR(new r.OpaqueToken("DocumentToken"))},function(e,t,n){"use strict";function normalizeQueryParams(e){return e.length>0&&"?"!=e.substring(0,1)?"?"+e:e}function joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}var r=n(1),i=n(4),o=function(){function LocationStrategy(){}return LocationStrategy}();t.LocationStrategy=o,t.APP_BASE_HREF=r.CONST_EXPR(new i.OpaqueToken("appBaseHref")),t.normalizeQueryParams=normalizeQueryParams,t.joinWithSlash=joinWithSlash},function(e,t){"use strict";var n=function(){function PlatformLocation(){}return Object.defineProperty(PlatformLocation.prototype,"pathname",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformLocation.prototype,"search",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformLocation.prototype,"hash",{get:function(){return null},enumerable:!0,configurable:!0}),PlatformLocation}();t.PlatformLocation=n},,,,,,,,function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(4),a=n(30),s=n(1),c=s.CONST_EXPR(new o.Provider(a.NG_VALUE_ACCESSOR,{useExisting:o.forwardRef(function(){return u}),multi:!0})),u=function(){function CheckboxControlValueAccessor(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return CheckboxControlValueAccessor.prototype.writeValue=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",e)},CheckboxControlValueAccessor.prototype.registerOnChange=function(e){this.onChange=e},CheckboxControlValueAccessor.prototype.registerOnTouched=function(e){this.onTouched=e},CheckboxControlValueAccessor=r([o.Directive({selector:"input[type=checkbox][ngControl],input[type=checkbox][ngFormControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[c]}),i("design:paramtypes",[o.Renderer,o.ElementRef])],CheckboxControlValueAccessor)}();t.CheckboxControlValueAccessor=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(4),a=n(30),s=n(1),c=s.CONST_EXPR(new o.Provider(a.NG_VALUE_ACCESSOR,{useExisting:o.forwardRef(function(){return u}),multi:!0})),u=function(){function DefaultValueAccessor(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return DefaultValueAccessor.prototype.writeValue=function(e){var t=s.isBlank(e)?"":e;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},DefaultValueAccessor.prototype.registerOnChange=function(e){this.onChange=e},DefaultValueAccessor.prototype.registerOnTouched=function(e){this.onTouched=e},DefaultValueAccessor=r([o.Directive({selector:"input:not([type=checkbox])[ngControl],textarea[ngControl],input:not([type=checkbox])[ngFormControl],textarea[ngFormControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},bindings:[c]}),i("design:paramtypes",[o.Renderer,o.ElementRef])],DefaultValueAccessor)}();t.DefaultValueAccessor=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(4),a=n(30),s=n(51),c=n(1),u=n(3),l=c.CONST_EXPR(new o.Provider(a.NG_VALUE_ACCESSOR,{useExisting:o.forwardRef(function(){return h}),multi:!0})),p=function(){function RadioControlRegistry(){this._accessors=[]}return RadioControlRegistry.prototype.add=function(e,t){this._accessors.push([e,t])},RadioControlRegistry.prototype.remove=function(e){for(var t=-1,n=0;n<this._accessors.length;++n)this._accessors[n][1]===e&&(t=n);u.ListWrapper.removeAt(this._accessors,t)},RadioControlRegistry.prototype.select=function(e){this._accessors.forEach(function(t){t[0].control.root===e._control.control.root&&t[1]!==e&&t[1].fireUncheck()})},RadioControlRegistry=r([o.Injectable(),i("design:paramtypes",[])],RadioControlRegistry)}();t.RadioControlRegistry=p;var f=function(){function RadioButtonState(e,t){this.checked=e,this.value=t}return RadioButtonState}();t.RadioButtonState=f;var h=function(){function RadioControlValueAccessor(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return RadioControlValueAccessor.prototype.ngOnInit=function(){this._control=this._injector.get(s.NgControl),this._registry.add(this._control,this)},RadioControlValueAccessor.prototype.ngOnDestroy=function(){this._registry.remove(this)},RadioControlValueAccessor.prototype.writeValue=function(e){this._state=e,c.isPresent(e)&&e.checked&&this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",!0)},RadioControlValueAccessor.prototype.registerOnChange=function(e){var t=this;this._fn=e,this.onChange=function(){e(new f(!0,t._state.value)),t._registry.select(t)}},RadioControlValueAccessor.prototype.fireUncheck=function(){this._fn(new f(!1,this._state.value))},RadioControlValueAccessor.prototype.registerOnTouched=function(e){this.onTouched=e},r([o.Input(),i("design:type",String)],RadioControlValueAccessor.prototype,"name",void 0),RadioControlValueAccessor=r([o.Directive({selector:"input[type=radio][ngControl],input[type=radio][ngFormControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[l]}),i("design:paramtypes",[o.Renderer,o.ElementRef,p,o.Injector])],RadioControlValueAccessor)}();t.RadioControlValueAccessor=h},function(e,t,n){"use strict";function _buildValueString(e,t){return c.isBlank(e)?""+t:(c.isPrimitive(t)||(t="Object"),c.StringWrapper.slice(e+": "+t,0,50))}function _extractId(e){return e.split(":")[0]}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(4),s=n(30),c=n(1),u=n(3),l=c.CONST_EXPR(new a.Provider(s.NG_VALUE_ACCESSOR,{useExisting:a.forwardRef(function(){return p}),multi:!0})),p=function(){function SelectControlValueAccessor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){}}return SelectControlValueAccessor.prototype.writeValue=function(e){this.value=e;var t=_buildValueString(this._getOptionId(e),e);this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},SelectControlValueAccessor.prototype.registerOnChange=function(e){var t=this;this.onChange=function(n){e(t._getOptionValue(n))}},SelectControlValueAccessor.prototype.registerOnTouched=function(e){this.onTouched=e},SelectControlValueAccessor.prototype._registerOption=function(){return(this._idCounter++).toString()},SelectControlValueAccessor.prototype._getOptionId=function(e){for(var t=0,n=u.MapWrapper.keys(this._optionMap);t<n.length;t++){var r=n[t];if(c.looseIdentical(this._optionMap.get(r),e))return r}return null},SelectControlValueAccessor.prototype._getOptionValue=function(e){var t=this._optionMap.get(_extractId(e));return c.isPresent(t)?t:e},SelectControlValueAccessor=r([a.Directive({selector:"select[ngControl],select[ngFormControl],select[ngModel]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[l]}),i("design:paramtypes",[a.Renderer,a.ElementRef])],SelectControlValueAccessor)}();t.SelectControlValueAccessor=p;var f=function(){function NgSelectOption(e,t,n){this._element=e,this._renderer=t,this._select=n,c.isPresent(this._select)&&(this.id=this._select._registerOption())}return Object.defineProperty(NgSelectOption.prototype,"ngValue",{set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(_buildValueString(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(NgSelectOption.prototype,"value",{set:function(e){this._setElementValue(e),c.isPresent(this._select)&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),NgSelectOption.prototype._setElementValue=function(e){this._renderer.setElementProperty(this._element.nativeElement,"value",e)},NgSelectOption.prototype.ngOnDestroy=function(){c.isPresent(this._select)&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},r([a.Input("ngValue"),i("design:type",Object),i("design:paramtypes",[Object])],NgSelectOption.prototype,"ngValue",null),r([a.Input("value"),i("design:type",Object),i("design:paramtypes",[Object])],NgSelectOption.prototype,"value",null),NgSelectOption=r([a.Directive({selector:"option"}),o(2,a.Optional()),o(2,a.Host()),i("design:paramtypes",[a.ElementRef,a.Renderer,p])],NgSelectOption)}();t.NgSelectOption=f},function(e,t,n){"use strict";function isControl(e){return e instanceof c}function _find(e,t){return i.isBlank(t)?null:(t instanceof Array||(t=t.split("/")),t instanceof Array&&s.ListWrapper.isEmpty(t)?null:t.reduce(function(e,t){if(e instanceof l)return i.isPresent(e.controls[t])?e.controls[t]:null;if(e instanceof p){var n=t;return i.isPresent(e.at(n))?e.at(n):null}return null},e))}function toObservable(e){return a.PromiseWrapper.isPromise(e)?o.ObservableWrapper.fromPromise(e):e}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(1),o=n(9),a=n(70),s=n(3);t.VALID="VALID",t.INVALID="INVALID",t.PENDING="PENDING",t.isControl=isControl;var c=function(){function AbstractControl(e,t){this.validator=e,this.asyncValidator=t,this._pristine=!0,this._touched=!1}return Object.defineProperty(AbstractControl.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"valid",{get:function(){return this._status===t.VALID},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"pending",{get:function(){return this._status==t.PENDING},enumerable:!0,configurable:!0}),AbstractControl.prototype.markAsTouched=function(){this._touched=!0},AbstractControl.prototype.markAsDirty=function(e){var t=(void 0===e?{}:e).onlySelf;t=i.normalizeBool(t),this._pristine=!1,i.isPresent(this._parent)&&!t&&this._parent.markAsDirty({onlySelf:t})},AbstractControl.prototype.markAsPending=function(e){var n=(void 0===e?{}:e).onlySelf;n=i.normalizeBool(n),this._status=t.PENDING,i.isPresent(this._parent)&&!n&&this._parent.markAsPending({onlySelf:n})},AbstractControl.prototype.setParent=function(e){this._parent=e},AbstractControl.prototype.updateValueAndValidity=function(e){var n=void 0===e?{}:e,r=n.onlySelf,a=n.emitEvent;r=i.normalizeBool(r),a=i.isPresent(a)?a:!0,this._updateValue(),this._errors=this._runValidator(),this._status=this._calculateStatus(),this._status!=t.VALID&&this._status!=t.PENDING||this._runAsyncValidator(a),a&&(o.ObservableWrapper.callEmit(this._valueChanges,this._value),o.ObservableWrapper.callEmit(this._statusChanges,this._status)),i.isPresent(this._parent)&&!r&&this._parent.updateValueAndValidity({onlySelf:r,emitEvent:a})},AbstractControl.prototype._runValidator=function(){return i.isPresent(this.validator)?this.validator(this):null},AbstractControl.prototype._runAsyncValidator=function(e){var n=this;if(i.isPresent(this.asyncValidator)){this._status=t.PENDING,this._cancelExistingSubscription();var r=toObservable(this.asyncValidator(this));this._asyncValidationSubscription=o.ObservableWrapper.subscribe(r,function(t){return n.setErrors(t,{emitEvent:e})})}},AbstractControl.prototype._cancelExistingSubscription=function(){i.isPresent(this._asyncValidationSubscription)&&o.ObservableWrapper.dispose(this._asyncValidationSubscription)},AbstractControl.prototype.setErrors=function(e,t){var n=(void 0===t?{}:t).emitEvent;n=i.isPresent(n)?n:!0,this._errors=e,this._status=this._calculateStatus(),n&&o.ObservableWrapper.callEmit(this._statusChanges,this._status),i.isPresent(this._parent)&&this._parent._updateControlsErrors()},AbstractControl.prototype.find=function(e){return _find(this,e)},AbstractControl.prototype.getError=function(e,t){void 0===t&&(t=null);var n=i.isPresent(t)&&!s.ListWrapper.isEmpty(t)?this.find(t):this;return i.isPresent(n)&&i.isPresent(n._errors)?s.StringMapWrapper.get(n._errors,e):null},AbstractControl.prototype.hasError=function(e,t){return void 0===t&&(t=null),i.isPresent(this.getError(e,t))},Object.defineProperty(AbstractControl.prototype,"root",{get:function(){for(var e=this;i.isPresent(e._parent);)e=e._parent;return e},enumerable:!0,configurable:!0}),AbstractControl.prototype._updateControlsErrors=function(){this._status=this._calculateStatus(),i.isPresent(this._parent)&&this._parent._updateControlsErrors()},AbstractControl.prototype._initObservables=function(){this._valueChanges=new o.EventEmitter,this._statusChanges=new o.EventEmitter},AbstractControl.prototype._calculateStatus=function(){return i.isPresent(this._errors)?t.INVALID:this._anyControlsHaveStatus(t.PENDING)?t.PENDING:this._anyControlsHaveStatus(t.INVALID)?t.INVALID:t.VALID},AbstractControl}();t.AbstractControl=c;var u=function(e){function Control(t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),e.call(this,n,r),this._value=t,this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}return r(Control,e),Control.prototype.updateValue=function(e,t){var n=void 0===t?{}:t,r=n.onlySelf,o=n.emitEvent,a=n.emitModelToViewChange;a=i.isPresent(a)?a:!0,this._value=e,i.isPresent(this._onChange)&&a&&this._onChange(this._value),this.updateValueAndValidity({onlySelf:r,emitEvent:o})},Control.prototype._updateValue=function(){},Control.prototype._anyControlsHaveStatus=function(e){return!1},Control.prototype.registerOnChange=function(e){this._onChange=e},Control}(c);t.Control=u;var l=function(e){function ControlGroup(t,n,r,o){void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=null),e.call(this,r,o),this.controls=t,this._optionals=i.isPresent(n)?n:{},this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return r(ControlGroup,e),ControlGroup.prototype.addControl=function(e,t){this.controls[e]=t,t.setParent(this)},ControlGroup.prototype.removeControl=function(e){s.StringMapWrapper.delete(this.controls,e)},ControlGroup.prototype.include=function(e){s.StringMapWrapper.set(this._optionals,e,!0),this.updateValueAndValidity()},ControlGroup.prototype.exclude=function(e){s.StringMapWrapper.set(this._optionals,e,!1),this.updateValueAndValidity()},ControlGroup.prototype.contains=function(e){var t=s.StringMapWrapper.contains(this.controls,e);return t&&this._included(e)},ControlGroup.prototype._setParentForControls=function(){var e=this;s.StringMapWrapper.forEach(this.controls,function(t,n){t.setParent(e)})},ControlGroup.prototype._updateValue=function(){this._value=this._reduceValue()},ControlGroup.prototype._anyControlsHaveStatus=function(e){var t=this,n=!1;return s.StringMapWrapper.forEach(this.controls,function(r,i){n=n||t.contains(i)&&r.status==e}),n},ControlGroup.prototype._reduceValue=function(){return this._reduceChildren({},function(e,t,n){return e[n]=t.value,e})},ControlGroup.prototype._reduceChildren=function(e,t){var n=this,r=e;return s.StringMapWrapper.forEach(this.controls,function(e,i){n._included(i)&&(r=t(r,e,i))}),r},ControlGroup.prototype._included=function(e){var t=s.StringMapWrapper.contains(this._optionals,e);return!t||s.StringMapWrapper.get(this._optionals,e)},ControlGroup}(c);t.ControlGroup=l;var p=function(e){function ControlArray(t,n,r){void 0===n&&(n=null),void 0===r&&(r=null),e.call(this,n,r),this.controls=t,this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return r(ControlArray,e),ControlArray.prototype.at=function(e){return this.controls[e]},ControlArray.prototype.push=function(e){this.controls.push(e),e.setParent(this),this.updateValueAndValidity()},ControlArray.prototype.insert=function(e,t){s.ListWrapper.insert(this.controls,e,t),t.setParent(this),this.updateValueAndValidity()},ControlArray.prototype.removeAt=function(e){s.ListWrapper.removeAt(this.controls,e),this.updateValueAndValidity()},Object.defineProperty(ControlArray.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),ControlArray.prototype._updateValue=function(){this._value=this.controls.map(function(e){return e.value})},ControlArray.prototype._anyControlsHaveStatus=function(e){return this.controls.some(function(t){return t.status==e})},ControlArray.prototype._setParentForControls=function(){var e=this;this.controls.forEach(function(t){t.setParent(e)})},ControlArray}(c);t.ControlArray=p},function(e,t,n){"use strict";function metadataFromJson(e){return w[e.class](e)}function createHostComponentMeta(e,t){var n=u.CssSelector.parse(t)[0].getMatchingElementTemplate();return P.create({type:new v({runtime:Object,name:"Host"+e.name,moduleUrl:e.moduleUrl,isHost:!0}),template:new C({template:n,templateUrl:"",styles:[],styleUrls:[],ngContentSelectors:[]}),changeDetection:s.ChangeDetectionStrategy.Default,inputs:[],outputs:[],host:{},lifecycleHooks:[],isComponent:!0,dynamicLoadable:!1,selector:"*",providers:[],viewProviders:[],queries:[],viewQueries:[]})}function arrayFromJson(e,t){return i.isBlank(e)?null:e.map(function(e){return objFromJson(e,t)})}function arrayToJson(e){return i.isBlank(e)?null:e.map(objToJson)}function objFromJson(e,t){return i.isArray(e)?arrayFromJson(e,t):i.isString(e)||i.isBlank(e)||i.isBoolean(e)||i.isNumber(e)?e:t(e)}function objToJson(e){return i.isArray(e)?arrayToJson(e):i.isString(e)||i.isBlank(e)||i.isBoolean(e)||i.isNumber(e)?e:e.toJson()}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(1),o=n(5),a=n(3),s=n(23),c=n(52),u=n(237),l=n(41),p=n(109),f=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))$/g,h=function(){function CompileMetadataWithIdentifier(){}return Object.defineProperty(CompileMetadataWithIdentifier.prototype,"identifier",{get:function(){return o.unimplemented()},enumerable:!0,configurable:!0}),CompileMetadataWithIdentifier}();t.CompileMetadataWithIdentifier=h;var d=function(e){function CompileMetadataWithType(){e.apply(this,arguments)}return r(CompileMetadataWithType,e),Object.defineProperty(CompileMetadataWithType.prototype,"type",{get:function(){return o.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(CompileMetadataWithType.prototype,"identifier",{get:function(){return o.unimplemented()},enumerable:!0,configurable:!0}),CompileMetadataWithType}(h);t.CompileMetadataWithType=d,t.metadataFromJson=metadataFromJson;var g=function(){function CompileIdentifierMetadata(e){var t=void 0===e?{}:e,n=t.runtime,r=t.name,i=t.moduleUrl,o=t.prefix,a=t.constConstructor,s=t.value;this.runtime=n,this.name=r,this.prefix=o,this.moduleUrl=i,this.constConstructor=a,this.value=s}return CompileIdentifierMetadata.fromJson=function(e){var t=i.isArray(e.value)?arrayFromJson(e.value,metadataFromJson):objFromJson(e.value,metadataFromJson);return new CompileIdentifierMetadata({name:e.name,prefix:e.prefix,moduleUrl:e.moduleUrl,constConstructor:e.constConstructor,value:t})},CompileIdentifierMetadata.prototype.toJson=function(){var e=i.isArray(this.value)?arrayToJson(this.value):objToJson(this.value);return{"class":"Identifier",name:this.name,moduleUrl:this.moduleUrl,prefix:this.prefix,constConstructor:this.constConstructor,value:e}},Object.defineProperty(CompileIdentifierMetadata.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),CompileIdentifierMetadata}();t.CompileIdentifierMetadata=g;var y=function(){function CompileDiDependencyMetadata(e){var t=void 0===e?{}:e,n=t.isAttribute,r=t.isSelf,o=t.isHost,a=t.isSkipSelf,s=t.isOptional,c=t.query,u=t.viewQuery,l=t.token;this.isAttribute=i.normalizeBool(n),this.isSelf=i.normalizeBool(r),this.isHost=i.normalizeBool(o),this.isSkipSelf=i.normalizeBool(a),this.isOptional=i.normalizeBool(s),this.query=c,this.viewQuery=u,this.token=l}return CompileDiDependencyMetadata.fromJson=function(e){return new CompileDiDependencyMetadata({token:objFromJson(e.token,g.fromJson),query:objFromJson(e.query,b.fromJson),viewQuery:objFromJson(e.viewQuery,b.fromJson),isAttribute:e.isAttribute,isSelf:e.isSelf,isHost:e.isHost,isSkipSelf:e.isSkipSelf,isOptional:e.isOptional})},CompileDiDependencyMetadata.prototype.toJson=function(){return{token:objToJson(this.token),query:objToJson(this.query),viewQuery:objToJson(this.viewQuery),isAttribute:this.isAttribute,isSelf:this.isSelf,isHost:this.isHost,isSkipSelf:this.isSkipSelf,isOptional:this.isOptional}},CompileDiDependencyMetadata}();t.CompileDiDependencyMetadata=y;var m=function(){function CompileProviderMetadata(e){var t=e.token,n=e.useClass,r=e.useValue,i=e.useExisting,o=e.useFactory,a=e.deps,s=e.multi;this.token=t,this.useClass=n,this.useValue=r,this.useExisting=i,this.useFactory=o,this.deps=a,this.multi=s}return CompileProviderMetadata.fromJson=function(e){return new CompileProviderMetadata({token:objFromJson(e.token,g.fromJson),useClass:objFromJson(e.useClass,v.fromJson),useExisting:objFromJson(e.useExisting,g.fromJson),useValue:objFromJson(e.useValue,g.fromJson),useFactory:objFromJson(e.useFactory,_.fromJson)})},CompileProviderMetadata.prototype.toJson=function(){return{"class":"Provider",token:objToJson(this.token),useClass:objToJson(this.useClass),useExisting:objToJson(this.useExisting),useValue:objToJson(this.useValue),useFactory:objToJson(this.useFactory)}},CompileProviderMetadata}();t.CompileProviderMetadata=m;var _=function(){function CompileFactoryMetadata(e){var t=e.runtime,n=e.name,r=e.moduleUrl,i=e.prefix,o=e.constConstructor,a=e.diDeps,s=e.value;this.runtime=t,this.name=n,this.prefix=i,this.moduleUrl=r,this.diDeps=a,this.constConstructor=o,this.value=s}return Object.defineProperty(CompileFactoryMetadata.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),CompileFactoryMetadata.fromJson=function(e){return new CompileFactoryMetadata({name:e.name,prefix:e.prefix,moduleUrl:e.moduleUrl,constConstructor:e.constConstructor,value:e.value,diDeps:arrayFromJson(e.diDeps,y.fromJson)})},CompileFactoryMetadata.prototype.toJson=function(){return{"class":"Factory",name:this.name,prefix:this.prefix,moduleUrl:this.moduleUrl,constConstructor:this.constConstructor,value:this.value,diDeps:arrayToJson(this.diDeps)}},CompileFactoryMetadata}();t.CompileFactoryMetadata=_;var v=function(){function CompileTypeMetadata(e){var t=void 0===e?{}:e,n=t.runtime,r=t.name,o=t.moduleUrl,a=t.prefix,s=t.isHost,c=t.constConstructor,u=t.value,l=t.diDeps;this.runtime=n,this.name=r,this.moduleUrl=o,this.prefix=a,this.isHost=i.normalizeBool(s),this.constConstructor=c,this.value=u,this.diDeps=i.normalizeBlank(l)}return CompileTypeMetadata.fromJson=function(e){return new CompileTypeMetadata({name:e.name,moduleUrl:e.moduleUrl,prefix:e.prefix,isHost:e.isHost,constConstructor:e.constConstructor,value:e.value,diDeps:arrayFromJson(e.diDeps,y.fromJson)})},Object.defineProperty(CompileTypeMetadata.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(CompileTypeMetadata.prototype,"type",{get:function(){return this},enumerable:!0,configurable:!0}),CompileTypeMetadata.prototype.toJson=function(){return{"class":"Type",name:this.name,moduleUrl:this.moduleUrl,prefix:this.prefix,isHost:this.isHost,constConstructor:this.constConstructor,value:this.value,diDeps:arrayToJson(this.diDeps)}},CompileTypeMetadata}();t.CompileTypeMetadata=v;var b=function(){function CompileQueryMetadata(e){var t=void 0===e?{}:e,n=t.selectors,r=t.descendants,o=t.first,a=t.propertyName;this.selectors=n,this.descendants=r,this.first=i.normalizeBool(o),this.propertyName=a}return CompileQueryMetadata.fromJson=function(e){return new CompileQueryMetadata({selectors:arrayFromJson(e.selectors,g.fromJson),descendants:e.descendants,first:e.first,propertyName:e.propertyName})},CompileQueryMetadata.prototype.toJson=function(){return{selectors:arrayToJson(this.selectors),descendants:this.descendants,first:this.first,propertyName:this.propertyName}},CompileQueryMetadata}();t.CompileQueryMetadata=b;var C=function(){function CompileTemplateMetadata(e){var t=void 0===e?{}:e,n=t.encapsulation,r=t.template,o=t.templateUrl,a=t.styles,s=t.styleUrls,u=t.ngContentSelectors;this.encapsulation=i.isPresent(n)?n:c.ViewEncapsulation.Emulated,this.template=r,this.templateUrl=o,this.styles=i.isPresent(a)?a:[],this.styleUrls=i.isPresent(s)?s:[],this.ngContentSelectors=i.isPresent(u)?u:[]}return CompileTemplateMetadata.fromJson=function(e){return new CompileTemplateMetadata({encapsulation:i.isPresent(e.encapsulation)?c.VIEW_ENCAPSULATION_VALUES[e.encapsulation]:e.encapsulation,template:e.template,templateUrl:e.templateUrl,styles:e.styles,styleUrls:e.styleUrls,ngContentSelectors:e.ngContentSelectors})},CompileTemplateMetadata.prototype.toJson=function(){return{encapsulation:i.isPresent(this.encapsulation)?i.serializeEnum(this.encapsulation):this.encapsulation,template:this.template,templateUrl:this.templateUrl,styles:this.styles,styleUrls:this.styleUrls,ngContentSelectors:this.ngContentSelectors}},CompileTemplateMetadata}();t.CompileTemplateMetadata=C;var P=function(){function CompileDirectiveMetadata(e){var t=void 0===e?{}:e,n=t.type,r=t.isComponent,o=t.dynamicLoadable,a=t.selector,s=t.exportAs,c=t.changeDetection,u=t.inputs,l=t.outputs,p=t.hostListeners,f=t.hostProperties,h=t.hostAttributes,d=t.lifecycleHooks,g=t.providers,y=t.viewProviders,m=t.queries,_=t.viewQueries,v=t.template;this.type=n,this.isComponent=r,this.dynamicLoadable=o,this.selector=a,this.exportAs=s,this.changeDetection=c,this.inputs=u,this.outputs=l,this.hostListeners=p,this.hostProperties=f,this.hostAttributes=h,this.lifecycleHooks=d,this.providers=i.normalizeBlank(g),this.viewProviders=i.normalizeBlank(y),this.queries=i.normalizeBlank(m),this.viewQueries=i.normalizeBlank(_),this.template=v}return CompileDirectiveMetadata.create=function(e){var t=void 0===e?{}:e,n=t.type,r=t.isComponent,o=t.dynamicLoadable,s=t.selector,c=t.exportAs,u=t.changeDetection,p=t.inputs,h=t.outputs,d=t.host,g=t.lifecycleHooks,y=t.providers,m=t.viewProviders,_=t.queries,v=t.viewQueries,b=t.template,C={},P={},R={};
i.isPresent(d)&&a.StringMapWrapper.forEach(d,function(e,t){var n=i.RegExpWrapper.firstMatch(f,t);i.isBlank(n)?R[t]=e:i.isPresent(n[1])?P[n[1]]=e:i.isPresent(n[2])&&(C[n[2]]=e)});var w={};i.isPresent(p)&&p.forEach(function(e){var t=l.splitAtColon(e,[e,e]);w[t[0]]=t[1]});var E={};return i.isPresent(h)&&h.forEach(function(e){var t=l.splitAtColon(e,[e,e]);E[t[0]]=t[1]}),new CompileDirectiveMetadata({type:n,isComponent:i.normalizeBool(r),dynamicLoadable:i.normalizeBool(o),selector:s,exportAs:c,changeDetection:u,inputs:w,outputs:E,hostListeners:C,hostProperties:P,hostAttributes:R,lifecycleHooks:i.isPresent(g)?g:[],providers:y,viewProviders:m,queries:_,viewQueries:v,template:b})},Object.defineProperty(CompileDirectiveMetadata.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),CompileDirectiveMetadata.fromJson=function(e){return new CompileDirectiveMetadata({isComponent:e.isComponent,dynamicLoadable:e.dynamicLoadable,selector:e.selector,exportAs:e.exportAs,type:i.isPresent(e.type)?v.fromJson(e.type):e.type,changeDetection:i.isPresent(e.changeDetection)?s.CHANGE_DETECTION_STRATEGY_VALUES[e.changeDetection]:e.changeDetection,inputs:e.inputs,outputs:e.outputs,hostListeners:e.hostListeners,hostProperties:e.hostProperties,hostAttributes:e.hostAttributes,lifecycleHooks:e.lifecycleHooks.map(function(e){return p.LIFECYCLE_HOOKS_VALUES[e]}),template:i.isPresent(e.template)?C.fromJson(e.template):e.template,providers:arrayFromJson(e.providers,metadataFromJson),viewProviders:arrayFromJson(e.viewProviders,metadataFromJson),queries:arrayFromJson(e.queries,b.fromJson),viewQueries:arrayFromJson(e.viewQueries,b.fromJson)})},CompileDirectiveMetadata.prototype.toJson=function(){return{"class":"Directive",isComponent:this.isComponent,dynamicLoadable:this.dynamicLoadable,selector:this.selector,exportAs:this.exportAs,type:i.isPresent(this.type)?this.type.toJson():this.type,changeDetection:i.isPresent(this.changeDetection)?i.serializeEnum(this.changeDetection):this.changeDetection,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,lifecycleHooks:this.lifecycleHooks.map(function(e){return i.serializeEnum(e)}),template:i.isPresent(this.template)?this.template.toJson():this.template,providers:arrayToJson(this.providers),viewProviders:arrayToJson(this.viewProviders),queries:arrayToJson(this.queries),viewQueries:arrayToJson(this.viewQueries)}},CompileDirectiveMetadata}();t.CompileDirectiveMetadata=P,t.createHostComponentMeta=createHostComponentMeta;var R=function(){function CompilePipeMetadata(e){var t=void 0===e?{}:e,n=t.type,r=t.name,o=t.pure;this.type=n,this.name=r,this.pure=i.normalizeBool(o)}return Object.defineProperty(CompilePipeMetadata.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),CompilePipeMetadata.fromJson=function(e){return new CompilePipeMetadata({type:i.isPresent(e.type)?v.fromJson(e.type):e.type,name:e.name,pure:e.pure})},CompilePipeMetadata.prototype.toJson=function(){return{"class":"Pipe",type:i.isPresent(this.type)?this.type.toJson():null,name:this.name,pure:this.pure}},CompilePipeMetadata}();t.CompilePipeMetadata=R;var w={Directive:P.fromJson,Pipe:R.fromJson,Type:v.fromJson,Provider:m.fromJson,Identifier:g.fromJson,Factory:_.fromJson}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(3),o=function(){function AST(){}return AST.prototype.visit=function(e){return null},AST.prototype.toString=function(){return"AST"},AST}();t.AST=o;var a=function(e){function Quote(t,n,r){e.call(this),this.prefix=t,this.uninterpretedExpression=n,this.location=r}return r(Quote,e),Quote.prototype.visit=function(e){return e.visitQuote(this)},Quote.prototype.toString=function(){return"Quote"},Quote}(o);t.Quote=a;var s=function(e){function EmptyExpr(){e.apply(this,arguments)}return r(EmptyExpr,e),EmptyExpr.prototype.visit=function(e){},EmptyExpr}(o);t.EmptyExpr=s;var c=function(e){function ImplicitReceiver(){e.apply(this,arguments)}return r(ImplicitReceiver,e),ImplicitReceiver.prototype.visit=function(e){return e.visitImplicitReceiver(this)},ImplicitReceiver}(o);t.ImplicitReceiver=c;var u=function(e){function Chain(t){e.call(this),this.expressions=t}return r(Chain,e),Chain.prototype.visit=function(e){return e.visitChain(this)},Chain}(o);t.Chain=u;var l=function(e){function Conditional(t,n,r){e.call(this),this.condition=t,this.trueExp=n,this.falseExp=r}return r(Conditional,e),Conditional.prototype.visit=function(e){return e.visitConditional(this)},Conditional}(o);t.Conditional=l;var p=function(e){function PropertyRead(t,n,r){e.call(this),this.receiver=t,this.name=n,this.getter=r}return r(PropertyRead,e),PropertyRead.prototype.visit=function(e){return e.visitPropertyRead(this)},PropertyRead}(o);t.PropertyRead=p;var f=function(e){function PropertyWrite(t,n,r,i){e.call(this),this.receiver=t,this.name=n,this.setter=r,this.value=i}return r(PropertyWrite,e),PropertyWrite.prototype.visit=function(e){return e.visitPropertyWrite(this)},PropertyWrite}(o);t.PropertyWrite=f;var h=function(e){function SafePropertyRead(t,n,r){e.call(this),this.receiver=t,this.name=n,this.getter=r}return r(SafePropertyRead,e),SafePropertyRead.prototype.visit=function(e){return e.visitSafePropertyRead(this)},SafePropertyRead}(o);t.SafePropertyRead=h;var d=function(e){function KeyedRead(t,n){e.call(this),this.obj=t,this.key=n}return r(KeyedRead,e),KeyedRead.prototype.visit=function(e){return e.visitKeyedRead(this)},KeyedRead}(o);t.KeyedRead=d;var g=function(e){function KeyedWrite(t,n,r){e.call(this),this.obj=t,this.key=n,this.value=r}return r(KeyedWrite,e),KeyedWrite.prototype.visit=function(e){return e.visitKeyedWrite(this)},KeyedWrite}(o);t.KeyedWrite=g;var y=function(e){function BindingPipe(t,n,r){e.call(this),this.exp=t,this.name=n,this.args=r}return r(BindingPipe,e),BindingPipe.prototype.visit=function(e){return e.visitPipe(this)},BindingPipe}(o);t.BindingPipe=y;var m=function(e){function LiteralPrimitive(t){e.call(this),this.value=t}return r(LiteralPrimitive,e),LiteralPrimitive.prototype.visit=function(e){return e.visitLiteralPrimitive(this)},LiteralPrimitive}(o);t.LiteralPrimitive=m;var _=function(e){function LiteralArray(t){e.call(this),this.expressions=t}return r(LiteralArray,e),LiteralArray.prototype.visit=function(e){return e.visitLiteralArray(this)},LiteralArray}(o);t.LiteralArray=_;var v=function(e){function LiteralMap(t,n){e.call(this),this.keys=t,this.values=n}return r(LiteralMap,e),LiteralMap.prototype.visit=function(e){return e.visitLiteralMap(this)},LiteralMap}(o);t.LiteralMap=v;var b=function(e){function Interpolation(t,n){e.call(this),this.strings=t,this.expressions=n}return r(Interpolation,e),Interpolation.prototype.visit=function(e){return e.visitInterpolation(this)},Interpolation}(o);t.Interpolation=b;var C=function(e){function Binary(t,n,r){e.call(this),this.operation=t,this.left=n,this.right=r}return r(Binary,e),Binary.prototype.visit=function(e){return e.visitBinary(this)},Binary}(o);t.Binary=C;var P=function(e){function PrefixNot(t){e.call(this),this.expression=t}return r(PrefixNot,e),PrefixNot.prototype.visit=function(e){return e.visitPrefixNot(this)},PrefixNot}(o);t.PrefixNot=P;var R=function(e){function MethodCall(t,n,r,i){e.call(this),this.receiver=t,this.name=n,this.fn=r,this.args=i}return r(MethodCall,e),MethodCall.prototype.visit=function(e){return e.visitMethodCall(this)},MethodCall}(o);t.MethodCall=R;var w=function(e){function SafeMethodCall(t,n,r,i){e.call(this),this.receiver=t,this.name=n,this.fn=r,this.args=i}return r(SafeMethodCall,e),SafeMethodCall.prototype.visit=function(e){return e.visitSafeMethodCall(this)},SafeMethodCall}(o);t.SafeMethodCall=w;var E=function(e){function FunctionCall(t,n){e.call(this),this.target=t,this.args=n}return r(FunctionCall,e),FunctionCall.prototype.visit=function(e){return e.visitFunctionCall(this)},FunctionCall}(o);t.FunctionCall=E;var S=function(e){function ASTWithSource(t,n,r){e.call(this),this.ast=t,this.source=n,this.location=r}return r(ASTWithSource,e),ASTWithSource.prototype.visit=function(e){return this.ast.visit(e)},ASTWithSource.prototype.toString=function(){return this.source+" in "+this.location},ASTWithSource}(o);t.ASTWithSource=S;var D=function(){function TemplateBinding(e,t,n,r){this.key=e,this.keyIsVar=t,this.name=n,this.expression=r}return TemplateBinding}();t.TemplateBinding=D;var A=function(){function RecursiveAstVisitor(){}return RecursiveAstVisitor.prototype.visitBinary=function(e){return e.left.visit(this),e.right.visit(this),null},RecursiveAstVisitor.prototype.visitChain=function(e){return this.visitAll(e.expressions)},RecursiveAstVisitor.prototype.visitConditional=function(e){return e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this),null},RecursiveAstVisitor.prototype.visitPipe=function(e){return e.exp.visit(this),this.visitAll(e.args),null},RecursiveAstVisitor.prototype.visitFunctionCall=function(e){return e.target.visit(this),this.visitAll(e.args),null},RecursiveAstVisitor.prototype.visitImplicitReceiver=function(e){return null},RecursiveAstVisitor.prototype.visitInterpolation=function(e){return this.visitAll(e.expressions)},RecursiveAstVisitor.prototype.visitKeyedRead=function(e){return e.obj.visit(this),e.key.visit(this),null},RecursiveAstVisitor.prototype.visitKeyedWrite=function(e){return e.obj.visit(this),e.key.visit(this),e.value.visit(this),null},RecursiveAstVisitor.prototype.visitLiteralArray=function(e){return this.visitAll(e.expressions)},RecursiveAstVisitor.prototype.visitLiteralMap=function(e){return this.visitAll(e.values)},RecursiveAstVisitor.prototype.visitLiteralPrimitive=function(e){return null},RecursiveAstVisitor.prototype.visitMethodCall=function(e){return e.receiver.visit(this),this.visitAll(e.args)},RecursiveAstVisitor.prototype.visitPrefixNot=function(e){return e.expression.visit(this),null},RecursiveAstVisitor.prototype.visitPropertyRead=function(e){return e.receiver.visit(this),null},RecursiveAstVisitor.prototype.visitPropertyWrite=function(e){return e.receiver.visit(this),e.value.visit(this),null},RecursiveAstVisitor.prototype.visitSafePropertyRead=function(e){return e.receiver.visit(this),null},RecursiveAstVisitor.prototype.visitSafeMethodCall=function(e){return e.receiver.visit(this),this.visitAll(e.args)},RecursiveAstVisitor.prototype.visitAll=function(e){var t=this;return e.forEach(function(e){return e.visit(t)}),null},RecursiveAstVisitor.prototype.visitQuote=function(e){return null},RecursiveAstVisitor}();t.RecursiveAstVisitor=A;var x=function(){function AstTransformer(){}return AstTransformer.prototype.visitImplicitReceiver=function(e){return e},AstTransformer.prototype.visitInterpolation=function(e){return new b(e.strings,this.visitAll(e.expressions))},AstTransformer.prototype.visitLiteralPrimitive=function(e){return new m(e.value)},AstTransformer.prototype.visitPropertyRead=function(e){return new p(e.receiver.visit(this),e.name,e.getter)},AstTransformer.prototype.visitPropertyWrite=function(e){return new f(e.receiver.visit(this),e.name,e.setter,e.value)},AstTransformer.prototype.visitSafePropertyRead=function(e){return new h(e.receiver.visit(this),e.name,e.getter)},AstTransformer.prototype.visitMethodCall=function(e){return new R(e.receiver.visit(this),e.name,e.fn,this.visitAll(e.args))},AstTransformer.prototype.visitSafeMethodCall=function(e){return new w(e.receiver.visit(this),e.name,e.fn,this.visitAll(e.args))},AstTransformer.prototype.visitFunctionCall=function(e){return new E(e.target.visit(this),this.visitAll(e.args))},AstTransformer.prototype.visitLiteralArray=function(e){return new _(this.visitAll(e.expressions))},AstTransformer.prototype.visitLiteralMap=function(e){return new v(e.keys,this.visitAll(e.values))},AstTransformer.prototype.visitBinary=function(e){return new C(e.operation,e.left.visit(this),e.right.visit(this))},AstTransformer.prototype.visitPrefixNot=function(e){return new P(e.expression.visit(this))},AstTransformer.prototype.visitConditional=function(e){return new l(e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))},AstTransformer.prototype.visitPipe=function(e){return new y(e.exp.visit(this),e.name,this.visitAll(e.args))},AstTransformer.prototype.visitKeyedRead=function(e){return new d(e.obj.visit(this),e.key.visit(this))},AstTransformer.prototype.visitKeyedWrite=function(e){return new g(e.obj.visit(this),e.key.visit(this),e.value.visit(this))},AstTransformer.prototype.visitAll=function(e){for(var t=i.ListWrapper.createFixedSize(e.length),n=0;n<e.length;++n)t[n]=e[n].visit(this);return t},AstTransformer.prototype.visitChain=function(e){return new u(this.visitAll(e.expressions))},AstTransformer.prototype.visitQuote=function(e){return new a(e.prefix,e.uninterpretedExpression,e.location)},AstTransformer}();t.AstTransformer=x},function(e,t,n){"use strict";function _isDirectiveMetadata(e){return e instanceof u.DirectiveMetadata}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(6),a=n(1),s=n(5),c=n(3),u=n(112),l=n(18),p=n(87),f=function(){function DirectiveResolver(e){a.isPresent(e)?this._reflector=e:this._reflector=l.reflector}return DirectiveResolver.prototype.resolve=function(e){var t=this._reflector.annotations(o.resolveForwardRef(e));if(a.isPresent(t)){var n=t.find(_isDirectiveMetadata);if(a.isPresent(n)){var r=this._reflector.propMetadata(e);return this._mergeWithPropertyMetadata(n,r,e)}}throw new s.BaseException("No Directive annotation found on "+a.stringify(e))},DirectiveResolver.prototype._mergeWithPropertyMetadata=function(e,t,n){var r=[],i=[],o={},s={};return c.StringMapWrapper.forEach(t,function(e,t){e.forEach(function(e){if(e instanceof u.InputMetadata&&(a.isPresent(e.bindingPropertyName)?r.push(t+": "+e.bindingPropertyName):r.push(t)),e instanceof u.OutputMetadata&&(a.isPresent(e.bindingPropertyName)?i.push(t+": "+e.bindingPropertyName):i.push(t)),e instanceof u.HostBindingMetadata&&(a.isPresent(e.hostPropertyName)?o["["+e.hostPropertyName+"]"]=t:o["["+t+"]"]=t),e instanceof u.HostListenerMetadata){var n=a.isPresent(e.args)?e.args.join(", "):"";o["("+e.eventName+")"]=t+"("+n+")"}e instanceof u.ContentChildrenMetadata&&(s[t]=e),e instanceof u.ViewChildrenMetadata&&(s[t]=e),e instanceof u.ContentChildMetadata&&(s[t]=e),e instanceof u.ViewChildMetadata&&(s[t]=e)})}),this._merge(e,r,i,o,s,n)},DirectiveResolver.prototype._merge=function(e,t,n,r,i,o){var l,p=a.isPresent(e.inputs)?c.ListWrapper.concat(e.inputs,t):t;a.isPresent(e.outputs)?(e.outputs.forEach(function(e){if(c.ListWrapper.contains(n,e))throw new s.BaseException("Output event '"+e+"' defined multiple times in '"+a.stringify(o)+"'")}),l=c.ListWrapper.concat(e.outputs,n)):l=n;var f=a.isPresent(e.host)?c.StringMapWrapper.merge(e.host,r):r,h=a.isPresent(e.queries)?c.StringMapWrapper.merge(e.queries,i):i;return e instanceof u.ComponentMetadata?new u.ComponentMetadata({selector:e.selector,inputs:p,outputs:l,host:f,exportAs:e.exportAs,moduleId:e.moduleId,queries:h,changeDetection:e.changeDetection,providers:e.providers,viewProviders:e.viewProviders}):new u.DirectiveMetadata({selector:e.selector,inputs:p,outputs:l,host:f,exportAs:e.exportAs,queries:h,providers:e.providers})},DirectiveResolver=r([o.Injectable(),i("design:paramtypes",[p.ReflectorReader])],DirectiveResolver)}();t.DirectiveResolver=f,t.CODEGEN_DIRECTIVE_RESOLVER=new f(l.reflector)},function(e,t,n){"use strict";function setProvidersVisibility(e,t,n){for(var r=0;r<e.length;r++)n.set(e[r].key.id,t)}var r,i=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},o=n(1),a=n(5),s=n(3),c=n(6),u=n(82),l=n(258),p=n(82),f=n(167),h=n(85),d=n(163),g=n(165),y=n(163),m=n(113),_=n(261),v=n(86),b=n(23),C=n(259),P=n(18),R=n(262),w=n(165),E=function(){function StaticKeys(){this.templateRefId=c.Key.get(_.TemplateRef).id,this.viewContainerId=c.Key.get(g.ViewContainerRef).id,this.changeDetectorRefId=c.Key.get(b.ChangeDetectorRef).id,this.elementRefId=c.Key.get(y.ElementRef).id,this.rendererId=c.Key.get(m.Renderer).id}return StaticKeys.instance=function(){return o.isBlank(r)&&(r=new StaticKeys),r},StaticKeys}();t.StaticKeys=E;var S=function(e){function DirectiveDependency(t,n,r,i,o,a,s){e.call(this,t,n,r,i,o),this.attributeName=a,this.queryDecorator=s,this._verify()}return i(DirectiveDependency,e),DirectiveDependency.prototype._verify=function(){var e=0;if(o.isPresent(this.queryDecorator)&&e++,o.isPresent(this.attributeName)&&e++,e>1)throw new a.BaseException("A directive injectable can contain only one of the following @Attribute or @Query.")},DirectiveDependency.createFrom=function(e){return new DirectiveDependency(e.key,e.optional,e.lowerBoundVisibility,e.upperBoundVisibility,e.properties,DirectiveDependency._attributeName(e.properties),DirectiveDependency._query(e.properties))},DirectiveDependency._attributeName=function(e){var t=e.find(function(e){return e instanceof f.AttributeMetadata});return o.isPresent(t)?t.attributeName:null},DirectiveDependency._query=function(e){return e.find(function(e){return e instanceof f.QueryMetadata})},DirectiveDependency}(c.Dependency);t.DirectiveDependency=S;var D=function(e){function DirectiveProvider(t,n,r,i,o,a,s){e.call(this,t,[new p.ResolvedFactory(n,r)],!1),this.isComponent=i,this.providers=o,this.viewProviders=a,this.queries=s}return i(DirectiveProvider,e),Object.defineProperty(DirectiveProvider.prototype,"displayName",{get:function(){return this.key.displayName},enumerable:!0,configurable:!0}),DirectiveProvider.createFromType=function(e,t){var n=new c.Provider(e,{useClass:e});o.isBlank(t)&&(t=new v.DirectiveMetadata);var r=p.resolveProvider(n),i=r.resolvedFactories[0],a=i.dependencies.map(S.createFrom),u=t instanceof v.ComponentMetadata,l=o.isPresent(t.providers)?c.Injector.resolve(t.providers):null,f=t instanceof v.ComponentMetadata&&o.isPresent(t.viewProviders)?c.Injector.resolve(t.viewProviders):null,h=[];return o.isPresent(t.queries)&&s.StringMapWrapper.forEach(t.queries,function(e,t){var n=P.reflector.setter(t);h.push(new A(n,e))}),a.forEach(function(e){o.isPresent(e.queryDecorator)&&h.push(new A(null,e.queryDecorator))}),new DirectiveProvider(r.key,i.factory,a,u,l,f,h)},DirectiveProvider}(p.ResolvedProvider_);t.DirectiveProvider=D;var A=function(){function QueryMetadataWithSetter(e,t){this.setter=e,this.metadata=t}return QueryMetadataWithSetter}();t.QueryMetadataWithSetter=A;var x=function(){function AppProtoElement(e,t,n,r,i,o){this.firstProviderIsComponent=e,this.index=t,this.attributes=n,this.protoQueryRefs=i,this.directiveVariableBindings=o;var a=r.length;a>0?this.protoInjector=new l.ProtoInjector(r):(this.protoInjector=null,this.protoQueryRefs=[])}return AppProtoElement.create=function(e,t,n,r,i){for(var a=null,c=new Map,p=new Map,f=s.ListWrapper.createGrowableSize(r.length),h=[],d=0;d<r.length;d++){var g=e.getResolvedDirectiveMetadata(r[d]);f[d]=new l.ProviderWithVisibility(g,g.isComponent?l.Visibility.PublicAndPrivate:l.Visibility.Public),g.isComponent?a=g:o.isPresent(g.providers)&&(u.mergeResolvedProviders(g.providers,c),setProvidersVisibility(g.providers,l.Visibility.Public,p)),o.isPresent(g.viewProviders)&&(u.mergeResolvedProviders(g.viewProviders,c),setProvidersVisibility(g.viewProviders,l.Visibility.Private,p));for(var y=0;y<g.queries.length;y++){var m=g.queries[y];h.push(new L(d,m.setter,m.metadata))}}return o.isPresent(a)&&o.isPresent(a.providers)&&(u.mergeResolvedProviders(a.providers,c),setProvidersVisibility(a.providers,l.Visibility.Public,p)),c.forEach(function(e,t){f.push(new l.ProviderWithVisibility(e,p.get(e.key.id)))}),new AppProtoElement(o.isPresent(a),t,n,f,h,i)},AppProtoElement.prototype.getProviderAtIndex=function(e){return this.protoInjector.getProviderAtIndex(e)},AppProtoElement}();t.AppProtoElement=x;var O=function(){function _Context(e,t,n){this.element=e,this.componentElement=t,this.injector=n}return _Context}(),T=function(){function InjectorWithHostBoundary(e,t){this.injector=e,this.hostInjectorBoundary=t}return InjectorWithHostBoundary}();t.InjectorWithHostBoundary=T;var N=function(){function AppElement(e,t,n,r,i){var a=this;this.proto=e,this.parentView=t,this.parent=n,this.nativeElement=r,this.embeddedViewFactory=i,this.nestedViews=null,this.componentView=null,this.ref=new d.ElementRef_(this);var s=o.isPresent(n)?n._injector:t.parentInjector;if(o.isPresent(this.proto.protoInjector)){var u;u=o.isPresent(n)&&o.isPresent(n.proto.protoInjector)?!1:t.hostInjectorBoundary,this._queryStrategy=this._buildQueryStrategy(),this._injector=new c.Injector(this.proto.protoInjector,s,u,this,function(){return a._debugContext()});var p=this._injector.internalStrategy;this._strategy=p instanceof l.InjectorInlineStrategy?new j(p,this):new B(p,this),this._strategy.init()}else this._queryStrategy=null,this._injector=s,this._strategy=null}return AppElement.getViewParentInjector=function(e,t,n,r){var i,a;switch(e){case h.ViewType.COMPONENT:i=t._injector,a=!0;break;case h.ViewType.EMBEDDED:i=o.isPresent(t.proto.protoInjector)?t._injector.parent:t._injector,a=t._injector.hostBoundary;break;case h.ViewType.HOST:if(o.isPresent(t))if(i=o.isPresent(t.proto.protoInjector)?t._injector.parent:t._injector,o.isPresent(n)){var s=n.map(function(e){return new l.ProviderWithVisibility(e,l.Visibility.Public)});i=new c.Injector(new l.ProtoInjector(s),i,!0,null,null),a=!1}else a=t._injector.hostBoundary;else i=r,a=!0}return new T(i,a)},AppElement.prototype.attachComponentView=function(e){this.componentView=e},AppElement.prototype._debugContext=function(){var e=this.parentView.getDebugContext(this,null,null);return o.isPresent(e)?new O(e.element,e.componentElement,e.injector):null},AppElement.prototype.hasVariableBinding=function(e){var t=this.proto.directiveVariableBindings;return o.isPresent(t)&&s.StringMapWrapper.contains(t,e)},AppElement.prototype.getVariableBinding=function(e){var t=this.proto.directiveVariableBindings[e];return o.isPresent(t)?this.getDirectiveAtIndex(t):this.getElementRef()},AppElement.prototype.get=function(e){return this._injector.get(e)},AppElement.prototype.hasDirective=function(e){return o.isPresent(this._injector.getOptional(e))},AppElement.prototype.getComponent=function(){return o.isPresent(this._strategy)?this._strategy.getComponent():null},AppElement.prototype.getInjector=function(){return this._injector},AppElement.prototype.getElementRef=function(){return this.ref},AppElement.prototype.getViewContainerRef=function(){return new w.ViewContainerRef_(this)},AppElement.prototype.getTemplateRef=function(){return o.isPresent(this.embeddedViewFactory)?new _.TemplateRef_(this.ref):null},AppElement.prototype.getDependency=function(e,t,n){if(t instanceof D){var r=n;if(o.isPresent(r.attributeName))return this._buildAttribute(r);if(o.isPresent(r.queryDecorator))return this._queryStrategy.findQuery(r.queryDecorator).list;if(r.key.id===E.instance().changeDetectorRefId)return this.proto.firstProviderIsComponent?new W(this):this.parentView.changeDetector.ref;if(r.key.id===E.instance().elementRefId)return this.getElementRef();if(r.key.id===E.instance().viewContainerId)return this.getViewContainerRef();if(r.key.id===E.instance().templateRefId){var i=this.getTemplateRef();if(o.isBlank(i)&&!r.optional)throw new c.NoProviderError(null,r.key);return i}if(r.key.id===E.instance().rendererId)return this.parentView.renderer}else if(t instanceof R.PipeProvider&&n.key.id===E.instance().changeDetectorRefId)return this.proto.firstProviderIsComponent?new W(this):this.parentView.changeDetector;return l.UNDEFINED},AppElement.prototype._buildAttribute=function(e){var t=this.proto.attributes;return o.isPresent(t)&&s.StringMapWrapper.contains(t,e.attributeName)?t[e.attributeName]:null},AppElement.prototype.addDirectivesMatchingQuery=function(e,t){var n=this.getTemplateRef();e.selector===_.TemplateRef&&o.isPresent(n)&&t.push(n),null!=this._strategy&&this._strategy.addDirectivesMatchingQuery(e,t)},AppElement.prototype._buildQueryStrategy=function(){return 0===this.proto.protoQueryRefs.length?I:this.proto.protoQueryRefs.length<=k.NUMBER_OF_SUPPORTED_QUERIES?new k(this):new V(this)},AppElement.prototype.getDirectiveAtIndex=function(e){return this._injector.getAt(e)},AppElement.prototype.ngAfterViewChecked=function(){o.isPresent(this._queryStrategy)&&this._queryStrategy.updateViewQueries()},AppElement.prototype.ngAfterContentChecked=function(){o.isPresent(this._queryStrategy)&&this._queryStrategy.updateContentQueries()},AppElement.prototype.traverseAndSetQueriesAsDirty=function(){for(var e=this;o.isPresent(e);)e._setQueriesAsDirty(),e=o.isBlank(e.parent)&&e.parentView.proto.type===h.ViewType.EMBEDDED?e.parentView.containerAppElement:e.parent},AppElement.prototype._setQueriesAsDirty=function(){o.isPresent(this._queryStrategy)&&this._queryStrategy.setContentQueriesAsDirty(),this.parentView.proto.type===h.ViewType.COMPONENT&&this.parentView.containerAppElement._queryStrategy.setViewQueriesAsDirty()},AppElement}();t.AppElement=N;var M=function(){function _EmptyQueryStrategy(){}return _EmptyQueryStrategy.prototype.setContentQueriesAsDirty=function(){},_EmptyQueryStrategy.prototype.setViewQueriesAsDirty=function(){},_EmptyQueryStrategy.prototype.updateContentQueries=function(){},_EmptyQueryStrategy.prototype.updateViewQueries=function(){},_EmptyQueryStrategy.prototype.findQuery=function(e){throw new a.BaseException("Cannot find query for directive "+e+".")},_EmptyQueryStrategy}(),I=new M,k=function(){function InlineQueryStrategy(e){var t=e.proto.protoQueryRefs;t.length>0&&(this.query0=new F(t[0],e)),t.length>1&&(this.query1=new F(t[1],e)),t.length>2&&(this.query2=new F(t[2],e))}return InlineQueryStrategy.prototype.setContentQueriesAsDirty=function(){o.isPresent(this.query0)&&!this.query0.isViewQuery&&(this.query0.dirty=!0),o.isPresent(this.query1)&&!this.query1.isViewQuery&&(this.query1.dirty=!0),o.isPresent(this.query2)&&!this.query2.isViewQuery&&(this.query2.dirty=!0)},InlineQueryStrategy.prototype.setViewQueriesAsDirty=function(){o.isPresent(this.query0)&&this.query0.isViewQuery&&(this.query0.dirty=!0),o.isPresent(this.query1)&&this.query1.isViewQuery&&(this.query1.dirty=!0),o.isPresent(this.query2)&&this.query2.isViewQuery&&(this.query2.dirty=!0)},InlineQueryStrategy.prototype.updateContentQueries=function(){o.isPresent(this.query0)&&!this.query0.isViewQuery&&this.query0.update(),o.isPresent(this.query1)&&!this.query1.isViewQuery&&this.query1.update(),o.isPresent(this.query2)&&!this.query2.isViewQuery&&this.query2.update()},InlineQueryStrategy.prototype.updateViewQueries=function(){o.isPresent(this.query0)&&this.query0.isViewQuery&&this.query0.update(),o.isPresent(this.query1)&&this.query1.isViewQuery&&this.query1.update(),o.isPresent(this.query2)&&this.query2.isViewQuery&&this.query2.update()},InlineQueryStrategy.prototype.findQuery=function(e){if(o.isPresent(this.query0)&&this.query0.protoQueryRef.query===e)return this.query0;if(o.isPresent(this.query1)&&this.query1.protoQueryRef.query===e)return this.query1;if(o.isPresent(this.query2)&&this.query2.protoQueryRef.query===e)return this.query2;throw new a.BaseException("Cannot find query for directive "+e+".")},InlineQueryStrategy.NUMBER_OF_SUPPORTED_QUERIES=3,InlineQueryStrategy}(),V=function(){function DynamicQueryStrategy(e){this.queries=e.proto.protoQueryRefs.map(function(t){return new F(t,e)})}return DynamicQueryStrategy.prototype.setContentQueriesAsDirty=function(){for(var e=0;e<this.queries.length;++e){var t=this.queries[e];t.isViewQuery||(t.dirty=!0)}},DynamicQueryStrategy.prototype.setViewQueriesAsDirty=function(){for(var e=0;e<this.queries.length;++e){var t=this.queries[e];t.isViewQuery&&(t.dirty=!0)}},DynamicQueryStrategy.prototype.updateContentQueries=function(){for(var e=0;e<this.queries.length;++e){var t=this.queries[e];t.isViewQuery||t.update()}},DynamicQueryStrategy.prototype.updateViewQueries=function(){for(var e=0;e<this.queries.length;++e){var t=this.queries[e];t.isViewQuery&&t.update()}},DynamicQueryStrategy.prototype.findQuery=function(e){for(var t=0;t<this.queries.length;++t){var n=this.queries[t];if(n.protoQueryRef.query===e)return n}throw new a.BaseException("Cannot find query for directive "+e+".")},DynamicQueryStrategy}(),j=function(){function ElementDirectiveInlineStrategy(e,t){this.injectorStrategy=e,this._ei=t}return ElementDirectiveInlineStrategy.prototype.init=function(){var e=this.injectorStrategy,t=e.protoStrategy;e.resetConstructionCounter(),t.provider0 instanceof D&&o.isPresent(t.keyId0)&&e.obj0===l.UNDEFINED&&(e.obj0=e.instantiateProvider(t.provider0,t.visibility0)),t.provider1 instanceof D&&o.isPresent(t.keyId1)&&e.obj1===l.UNDEFINED&&(e.obj1=e.instantiateProvider(t.provider1,t.visibility1)),t.provider2 instanceof D&&o.isPresent(t.keyId2)&&e.obj2===l.UNDEFINED&&(e.obj2=e.instantiateProvider(t.provider2,t.visibility2)),t.provider3 instanceof D&&o.isPresent(t.keyId3)&&e.obj3===l.UNDEFINED&&(e.obj3=e.instantiateProvider(t.provider3,t.visibility3)),t.provider4 instanceof D&&o.isPresent(t.keyId4)&&e.obj4===l.UNDEFINED&&(e.obj4=e.instantiateProvider(t.provider4,t.visibility4)),t.provider5 instanceof D&&o.isPresent(t.keyId5)&&e.obj5===l.UNDEFINED&&(e.obj5=e.instantiateProvider(t.provider5,t.visibility5)),t.provider6 instanceof D&&o.isPresent(t.keyId6)&&e.obj6===l.UNDEFINED&&(e.obj6=e.instantiateProvider(t.provider6,t.visibility6)),t.provider7 instanceof D&&o.isPresent(t.keyId7)&&e.obj7===l.UNDEFINED&&(e.obj7=e.instantiateProvider(t.provider7,t.visibility7)),t.provider8 instanceof D&&o.isPresent(t.keyId8)&&e.obj8===l.UNDEFINED&&(e.obj8=e.instantiateProvider(t.provider8,t.visibility8)),t.provider9 instanceof D&&o.isPresent(t.keyId9)&&e.obj9===l.UNDEFINED&&(e.obj9=e.instantiateProvider(t.provider9,t.visibility9))},ElementDirectiveInlineStrategy.prototype.getComponent=function(){return this.injectorStrategy.obj0},ElementDirectiveInlineStrategy.prototype.isComponentKey=function(e){return this._ei.proto.firstProviderIsComponent&&o.isPresent(e)&&e.id===this.injectorStrategy.protoStrategy.keyId0},ElementDirectiveInlineStrategy.prototype.addDirectivesMatchingQuery=function(e,t){var n=this.injectorStrategy,r=n.protoStrategy;o.isPresent(r.provider0)&&r.provider0.key.token===e.selector&&(n.obj0===l.UNDEFINED&&(n.obj0=n.instantiateProvider(r.provider0,r.visibility0)),t.push(n.obj0)),o.isPresent(r.provider1)&&r.provider1.key.token===e.selector&&(n.obj1===l.UNDEFINED&&(n.obj1=n.instantiateProvider(r.provider1,r.visibility1)),t.push(n.obj1)),o.isPresent(r.provider2)&&r.provider2.key.token===e.selector&&(n.obj2===l.UNDEFINED&&(n.obj2=n.instantiateProvider(r.provider2,r.visibility2)),t.push(n.obj2)),o.isPresent(r.provider3)&&r.provider3.key.token===e.selector&&(n.obj3===l.UNDEFINED&&(n.obj3=n.instantiateProvider(r.provider3,r.visibility3)),t.push(n.obj3)),o.isPresent(r.provider4)&&r.provider4.key.token===e.selector&&(n.obj4===l.UNDEFINED&&(n.obj4=n.instantiateProvider(r.provider4,r.visibility4)),t.push(n.obj4)),o.isPresent(r.provider5)&&r.provider5.key.token===e.selector&&(n.obj5===l.UNDEFINED&&(n.obj5=n.instantiateProvider(r.provider5,r.visibility5)),t.push(n.obj5)),o.isPresent(r.provider6)&&r.provider6.key.token===e.selector&&(n.obj6===l.UNDEFINED&&(n.obj6=n.instantiateProvider(r.provider6,r.visibility6)),t.push(n.obj6)),o.isPresent(r.provider7)&&r.provider7.key.token===e.selector&&(n.obj7===l.UNDEFINED&&(n.obj7=n.instantiateProvider(r.provider7,r.visibility7)),
t.push(n.obj7)),o.isPresent(r.provider8)&&r.provider8.key.token===e.selector&&(n.obj8===l.UNDEFINED&&(n.obj8=n.instantiateProvider(r.provider8,r.visibility8)),t.push(n.obj8)),o.isPresent(r.provider9)&&r.provider9.key.token===e.selector&&(n.obj9===l.UNDEFINED&&(n.obj9=n.instantiateProvider(r.provider9,r.visibility9)),t.push(n.obj9))},ElementDirectiveInlineStrategy}(),B=function(){function ElementDirectiveDynamicStrategy(e,t){this.injectorStrategy=e,this._ei=t}return ElementDirectiveDynamicStrategy.prototype.init=function(){var e=this.injectorStrategy,t=e.protoStrategy;e.resetConstructionCounter();for(var n=0;n<t.keyIds.length;n++)t.providers[n]instanceof D&&o.isPresent(t.keyIds[n])&&e.objs[n]===l.UNDEFINED&&(e.objs[n]=e.instantiateProvider(t.providers[n],t.visibilities[n]))},ElementDirectiveDynamicStrategy.prototype.getComponent=function(){return this.injectorStrategy.objs[0]},ElementDirectiveDynamicStrategy.prototype.isComponentKey=function(e){var t=this.injectorStrategy.protoStrategy;return this._ei.proto.firstProviderIsComponent&&o.isPresent(e)&&e.id===t.keyIds[0]},ElementDirectiveDynamicStrategy.prototype.addDirectivesMatchingQuery=function(e,t){for(var n=this.injectorStrategy,r=n.protoStrategy,i=0;i<r.providers.length;i++)r.providers[i].key.token===e.selector&&(n.objs[i]===l.UNDEFINED&&(n.objs[i]=n.instantiateProvider(r.providers[i],r.visibilities[i])),t.push(n.objs[i]))},ElementDirectiveDynamicStrategy}(),L=function(){function ProtoQueryRef(e,t,n){this.dirIndex=e,this.setter=t,this.query=n}return Object.defineProperty(ProtoQueryRef.prototype,"usesPropertySyntax",{get:function(){return o.isPresent(this.setter)},enumerable:!0,configurable:!0}),ProtoQueryRef}();t.ProtoQueryRef=L;var F=function(){function QueryRef(e,t){this.protoQueryRef=e,this.originator=t,this.list=new C.QueryList,this.dirty=!0}return Object.defineProperty(QueryRef.prototype,"isViewQuery",{get:function(){return this.protoQueryRef.query.isViewQuery},enumerable:!0,configurable:!0}),QueryRef.prototype.update=function(){if(this.dirty){if(this._update(),this.dirty=!1,this.protoQueryRef.usesPropertySyntax){var e=this.originator.getDirectiveAtIndex(this.protoQueryRef.dirIndex);this.protoQueryRef.query.first?this.protoQueryRef.setter(e,this.list.length>0?this.list.first:null):this.protoQueryRef.setter(e,this.list)}this.list.notifyOnChanges()}},QueryRef.prototype._update=function(){var e=[];if(this.protoQueryRef.query.isViewQuery){var t=this.originator.componentView;o.isPresent(t)&&this._visitView(t,e)}else this._visit(this.originator,e);this.list.reset(e)},QueryRef.prototype._visit=function(e,t){for(var n=e.parentView,r=e.proto.index,i=r;i<n.appElements.length;i++){var a=n.appElements[i];if(i>r&&(o.isBlank(a.parent)||a.parent.proto.index<r))break;(this.protoQueryRef.query.descendants||a.parent==this.originator||a==this.originator)&&(this._visitInjector(a,t),this._visitViewContainerViews(a.nestedViews,t))}},QueryRef.prototype._visitInjector=function(e,t){this.protoQueryRef.query.isVarBindingQuery?this._aggregateVariableBinding(e,t):this._aggregateDirective(e,t)},QueryRef.prototype._visitViewContainerViews=function(e,t){if(o.isPresent(e))for(var n=0;n<e.length;n++)this._visitView(e[n],t)},QueryRef.prototype._visitView=function(e,t){for(var n=0;n<e.appElements.length;n++){var r=e.appElements[n];this._visitInjector(r,t),this._visitViewContainerViews(r.nestedViews,t)}},QueryRef.prototype._aggregateVariableBinding=function(e,t){for(var n=this.protoQueryRef.query.varBindings,r=0;r<n.length;++r)e.hasVariableBinding(n[r])&&t.push(e.getVariableBinding(n[r]))},QueryRef.prototype._aggregateDirective=function(e,t){e.addDirectivesMatchingQuery(this.protoQueryRef.query,t)},QueryRef}();t.QueryRef=F;var W=function(e){function _ComponentViewChangeDetectorRef(t){e.call(this),this._appElement=t}return i(_ComponentViewChangeDetectorRef,e),_ComponentViewChangeDetectorRef.prototype.markForCheck=function(){this._appElement.componentView.changeDetector.ref.markForCheck()},_ComponentViewChangeDetectorRef.prototype.detach=function(){this._appElement.componentView.changeDetector.ref.detach()},_ComponentViewChangeDetectorRef.prototype.detectChanges=function(){this._appElement.componentView.changeDetector.ref.detectChanges()},_ComponentViewChangeDetectorRef.prototype.checkNoChanges=function(){this._appElement.componentView.changeDetector.ref.checkNoChanges()},_ComponentViewChangeDetectorRef.prototype.reattach=function(){this._appElement.componentView.changeDetector.ref.reattach()},_ComponentViewChangeDetectorRef}(b.ChangeDetectorRef)},function(e,t){"use strict";!function(e){e[e.OnInit=0]="OnInit",e[e.OnDestroy=1]="OnDestroy",e[e.DoCheck=2]="DoCheck",e[e.OnChanges=3]="OnChanges",e[e.AfterContentInit=4]="AfterContentInit",e[e.AfterContentChecked=5]="AfterContentChecked",e[e.AfterViewInit=6]="AfterViewInit",e[e.AfterViewChecked=7]="AfterViewChecked"}(t.LifecycleHooks||(t.LifecycleHooks={}));var n=t.LifecycleHooks;t.LIFECYCLE_HOOKS_VALUES=[n.OnInit,n.OnDestroy,n.DoCheck,n.OnChanges,n.AfterContentInit,n.AfterContentChecked,n.AfterViewInit,n.AfterViewChecked]},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(6),c=n(1),u=n(3),l=n(5),p=n(84),f=n(113),h=n(169),d=n(80),g=n(85),y=function(){function AppViewManager(){}return AppViewManager}();t.AppViewManager=y;var m=function(e){function AppViewManager_(t,n){e.call(this),this._renderer=t,this._appId=n,this._nextCompTypeId=0,this._createRootHostViewScope=h.wtfCreateScope("AppViewManager#createRootHostView()"),this._destroyRootHostViewScope=h.wtfCreateScope("AppViewManager#destroyRootHostView()"),this._createEmbeddedViewInContainerScope=h.wtfCreateScope("AppViewManager#createEmbeddedViewInContainer()"),this._createHostViewInContainerScope=h.wtfCreateScope("AppViewManager#createHostViewInContainer()"),this._destroyViewInContainerScope=h.wtfCreateScope("AppViewMananger#destroyViewInContainer()"),this._attachViewInContainerScope=h.wtfCreateScope("AppViewMananger#attachViewInContainer()"),this._detachViewInContainerScope=h.wtfCreateScope("AppViewMananger#detachViewInContainer()")}return r(AppViewManager_,e),AppViewManager_.prototype.getViewContainer=function(e){return e.internalElement.getViewContainerRef()},AppViewManager_.prototype.getHostElement=function(e){var t=e.internalView;if(t.proto.type!==g.ViewType.HOST)throw new l.BaseException("This operation is only allowed on host views");return t.appElements[0].ref},AppViewManager_.prototype.getNamedElementInComponentView=function(e,t){var n=e.internalElement,r=n.componentView;if(c.isBlank(r))throw new l.BaseException("There is no component directive at element "+e);for(var i=0;i<r.appElements.length;i++){var o=r.appElements[i];if(u.StringMapWrapper.contains(o.proto.directiveVariableBindings,t))return o.ref}throw new l.BaseException("Could not find variable "+t)},AppViewManager_.prototype.getComponent=function(e){return e.internalElement.getComponent()},AppViewManager_.prototype.createRootHostView=function(e,t,n,r){void 0===r&&(r=null);var i=this._createRootHostViewScope(),o=e.internalHostViewFactory,a=c.isPresent(t)?t:o.selector,s=o.viewFactory(this._renderer,this,null,r,a,null,n);return h.wtfLeave(i,s.ref)},AppViewManager_.prototype.destroyRootHostView=function(e){var t=this._destroyRootHostViewScope(),n=e.internalView;n.renderer.detachView(p.flattenNestedViewRenderNodes(n.rootNodesOrAppElements)),n.destroy(),h.wtfLeave(t)},AppViewManager_.prototype.createEmbeddedViewInContainer=function(e,t,n){var r=this._createEmbeddedViewInContainerScope(),i=n.elementRef.internalElement,o=i.embeddedViewFactory(i.parentView.renderer,this,i,i.parentView.projectableNodes,null,null,null);return this._attachViewToContainer(o,e.internalElement,t),h.wtfLeave(r,o.ref)},AppViewManager_.prototype.createHostViewInContainer=function(e,t,n,r,i){var o=this._createHostViewInContainerScope(),a=e,s=a.internalElement,c=n.internalHostViewFactory,u=c.viewFactory(s.parentView.renderer,s.parentView.viewManager,s,i,null,r,null);return this._attachViewToContainer(u,a.internalElement,t),h.wtfLeave(o,u.ref)},AppViewManager_.prototype.destroyViewInContainer=function(e,t){var n=this._destroyViewInContainerScope(),r=this._detachViewInContainer(e.internalElement,t);r.destroy(),h.wtfLeave(n)},AppViewManager_.prototype.attachViewInContainer=function(e,t,n){var r=n,i=this._attachViewInContainerScope();return this._attachViewToContainer(r.internalView,e.internalElement,t),h.wtfLeave(i,r)},AppViewManager_.prototype.detachViewInContainer=function(e,t){var n=this._detachViewInContainerScope(),r=this._detachViewInContainer(e.internalElement,t);return h.wtfLeave(n,r.ref)},AppViewManager_.prototype.onViewCreated=function(e){},AppViewManager_.prototype.onViewDestroyed=function(e){},AppViewManager_.prototype.createRenderComponentType=function(e,t){return new f.RenderComponentType(this._appId+"-"+this._nextCompTypeId++,e,t)},AppViewManager_.prototype._attachViewToContainer=function(e,t,n){if(e.proto.type===g.ViewType.COMPONENT)throw new l.BaseException("Component views can't be moved!");var r=t.nestedViews;null==r&&(r=[],t.nestedViews=r),u.ListWrapper.insert(r,n,e);var i;if(n>0){var o=r[n-1];i=o.rootNodesOrAppElements.length>0?o.rootNodesOrAppElements[o.rootNodesOrAppElements.length-1]:null}else i=t.nativeElement;if(c.isPresent(i)){var a=p.findLastRenderNode(i);e.renderer.attachViewAfter(a,p.flattenNestedViewRenderNodes(e.rootNodesOrAppElements))}t.parentView.changeDetector.addContentChild(e.changeDetector),t.traverseAndSetQueriesAsDirty()},AppViewManager_.prototype._detachViewInContainer=function(e,t){var n=u.ListWrapper.removeAt(e.nestedViews,t);if(n.proto.type===g.ViewType.COMPONENT)throw new l.BaseException("Component views can't be moved!");return e.traverseAndSetQueriesAsDirty(),n.renderer.detachView(p.flattenNestedViewRenderNodes(n.rootNodesOrAppElements)),n.changeDetector.remove(),n},AppViewManager_=i([s.Injectable(),a(1,s.Inject(d.APP_ID)),o("design:paramtypes",[f.RootRenderer,String])],AppViewManager_)}(y);t.AppViewManager_=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(5),o=function(){function ViewRef(){}return Object.defineProperty(ViewRef.prototype,"changeDetectorRef",{get:function(){return i.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef.prototype,"destroyed",{get:function(){return i.unimplemented()},enumerable:!0,configurable:!0}),ViewRef}();t.ViewRef=o;var a=function(e){function HostViewRef(){e.apply(this,arguments)}return r(HostViewRef,e),Object.defineProperty(HostViewRef.prototype,"rootNodes",{get:function(){return i.unimplemented()},enumerable:!0,configurable:!0}),HostViewRef}(o);t.HostViewRef=a;var s=function(e){function EmbeddedViewRef(){e.apply(this,arguments)}return r(EmbeddedViewRef,e),Object.defineProperty(EmbeddedViewRef.prototype,"rootNodes",{get:function(){return i.unimplemented()},enumerable:!0,configurable:!0}),EmbeddedViewRef}(o);t.EmbeddedViewRef=s;var c=function(){function ViewRef_(e){this._view=e,this._view=e}return Object.defineProperty(ViewRef_.prototype,"internalView",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef_.prototype,"changeDetectorRef",{get:function(){return this._view.changeDetector.ref},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef_.prototype,"rootNodes",{get:function(){return this._view.flatRootNodes},enumerable:!0,configurable:!0}),ViewRef_.prototype.setLocal=function(e,t){this._view.setLocal(e,t)},ViewRef_.prototype.hasLocal=function(e){return this._view.hasLocal(e)},Object.defineProperty(ViewRef_.prototype,"destroyed",{get:function(){return this._view.destroyed},enumerable:!0,configurable:!0}),ViewRef_}();t.ViewRef_=c;var u=function(){function HostViewFactoryRef(){}return HostViewFactoryRef}();t.HostViewFactoryRef=u;var l=function(){function HostViewFactoryRef_(e){this._hostViewFactory=e}return Object.defineProperty(HostViewFactoryRef_.prototype,"internalHostViewFactory",{get:function(){return this._hostViewFactory},enumerable:!0,configurable:!0}),HostViewFactoryRef_}();t.HostViewFactoryRef_=l},function(e,t,n){"use strict";var r=n(167);t.QueryMetadata=r.QueryMetadata,t.ContentChildrenMetadata=r.ContentChildrenMetadata,t.ContentChildMetadata=r.ContentChildMetadata,t.ViewChildrenMetadata=r.ViewChildrenMetadata,t.ViewQueryMetadata=r.ViewQueryMetadata,t.ViewChildMetadata=r.ViewChildMetadata,t.AttributeMetadata=r.AttributeMetadata;var i=n(86);t.ComponentMetadata=i.ComponentMetadata,t.DirectiveMetadata=i.DirectiveMetadata,t.PipeMetadata=i.PipeMetadata,t.InputMetadata=i.InputMetadata,t.OutputMetadata=i.OutputMetadata,t.HostBindingMetadata=i.HostBindingMetadata,t.HostListenerMetadata=i.HostListenerMetadata;var o=n(52);t.ViewMetadata=o.ViewMetadata,t.ViewEncapsulation=o.ViewEncapsulation;var a=n(167),s=n(86),c=n(52),u=n(88);t.Component=u.makeDecorator(s.ComponentMetadata,function(e){return e.View=l}),t.Directive=u.makeDecorator(s.DirectiveMetadata);var l=u.makeDecorator(c.ViewMetadata,function(e){return e.View=l});t.Attribute=u.makeParamDecorator(a.AttributeMetadata),t.Query=u.makeParamDecorator(a.QueryMetadata),t.ContentChildren=u.makePropDecorator(a.ContentChildrenMetadata),t.ContentChild=u.makePropDecorator(a.ContentChildMetadata),t.ViewChildren=u.makePropDecorator(a.ViewChildrenMetadata),t.ViewChild=u.makePropDecorator(a.ViewChildMetadata),t.ViewQuery=u.makeParamDecorator(a.ViewQueryMetadata),t.Pipe=u.makeDecorator(s.PipeMetadata),t.Input=u.makePropDecorator(s.InputMetadata),t.Output=u.makePropDecorator(s.OutputMetadata),t.HostBinding=u.makePropDecorator(s.HostBindingMetadata),t.HostListener=u.makePropDecorator(s.HostListenerMetadata)},function(e,t){"use strict";var n=function(){function RenderComponentType(e,t,n){this.id=e,this.encapsulation=t,this.styles=n}return RenderComponentType}();t.RenderComponentType=n;var r=function(){function RenderDebugInfo(e,t,n,r){this.injector=e,this.component=t,this.providerTokens=n,this.locals=r}return RenderDebugInfo}();t.RenderDebugInfo=r;var i=function(){function Renderer(){}return Renderer}();t.Renderer=i;var o=function(){function RootRenderer(){}return RootRenderer}();t.RootRenderer=o},function(e,t,n){"use strict";function setTestabilityGetter(e){d=e}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(6),a=n(3),s=n(1),c=n(5),u=n(115),l=n(9),p=function(){function Testability(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return Testability.prototype._watchAngularEvents=function(){var e=this;l.ObservableWrapper.subscribe(this._ngZone.onUnstable,function(t){e._didWork=!0,e._isZoneStable=!1}),this._ngZone.runOutsideAngular(function(){l.ObservableWrapper.subscribe(e._ngZone.onStable,function(t){u.NgZone.assertNotInAngularZone(),s.scheduleMicroTask(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})})})},Testability.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},Testability.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new c.BaseException("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},Testability.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},Testability.prototype._runCallbacksIfReady=function(){var e=this;this.isStable()?s.scheduleMicroTask(function(){for(;0!==e._callbacks.length;)e._callbacks.pop()(e._didWork);e._didWork=!1}):this._didWork=!0},Testability.prototype.whenStable=function(e){this._callbacks.push(e),this._runCallbacksIfReady()},Testability.prototype.getPendingRequestCount=function(){return this._pendingCount},Testability.prototype.findBindings=function(e,t,n){return[]},Testability.prototype.findProviders=function(e,t,n){return[]},Testability=r([o.Injectable(),i("design:paramtypes",[u.NgZone])],Testability)}();t.Testability=p;var f=function(){function TestabilityRegistry(){this._applications=new a.Map,d.addToWindow(this)}return TestabilityRegistry.prototype.registerApplication=function(e,t){this._applications.set(e,t)},TestabilityRegistry.prototype.getTestability=function(e){return this._applications.get(e)},TestabilityRegistry.prototype.getAllTestabilities=function(){return a.MapWrapper.values(this._applications)},TestabilityRegistry.prototype.getAllRootElements=function(){return a.MapWrapper.keys(this._applications)},TestabilityRegistry.prototype.findTestabilityInTree=function(e,t){return void 0===t&&(t=!0),d.findTestabilityInTree(this,e,t)},TestabilityRegistry=r([o.Injectable(),i("design:paramtypes",[])],TestabilityRegistry)}();t.TestabilityRegistry=f;var h=function(){function _NoopGetTestability(){}return _NoopGetTestability.prototype.addToWindow=function(e){},_NoopGetTestability.prototype.findTestabilityInTree=function(e,t,n){return null},_NoopGetTestability=r([s.CONST(),i("design:paramtypes",[])],_NoopGetTestability)}();t.setTestabilityGetter=setTestabilityGetter;var d=s.CONST_EXPR(new h)},function(e,t,n){"use strict";var r=n(9),i=n(266),o=n(5),a=n(266);t.NgZoneError=a.NgZoneError;var s=function(){function NgZone(e){var t=this,n=e.enableLongStackTrace,o=void 0===n?!1:n;this._hasPendingMicrotasks=!1,this._hasPendingMacrotasks=!1,this._isStable=!0,this._nesting=0,this._onUnstable=new r.EventEmitter(!1),this._onMicrotaskEmpty=new r.EventEmitter(!1),this._onStable=new r.EventEmitter(!1),this._onErrorEvents=new r.EventEmitter(!1),this._zoneImpl=new i.NgZoneImpl({trace:o,onEnter:function(){t._nesting++,t._isStable&&(t._isStable=!1,t._onUnstable.emit(null))},onLeave:function(){t._nesting--,t._checkStable()},setMicrotask:function(e){t._hasPendingMicrotasks=e,t._checkStable()},setMacrotask:function(e){t._hasPendingMacrotasks=e},onError:function(e){return t._onErrorEvents.emit(e)}})}return NgZone.isInAngularZone=function(){return i.NgZoneImpl.isInAngularZone()},NgZone.assertInAngularZone=function(){if(!i.NgZoneImpl.isInAngularZone())throw new o.BaseException("Expected to be in Angular Zone, but it is not!")},NgZone.assertNotInAngularZone=function(){if(i.NgZoneImpl.isInAngularZone())throw new o.BaseException("Expected to not be in Angular Zone, but it is!")},NgZone.prototype._checkStable=function(){var e=this;if(0==this._nesting&&!this._hasPendingMicrotasks&&!this._isStable)try{this._nesting++,this._onMicrotaskEmpty.emit(null)}finally{if(this._nesting--,!this._hasPendingMicrotasks)try{this.runOutsideAngular(function(){return e._onStable.emit(null)})}finally{this._isStable=!0}}},Object.defineProperty(NgZone.prototype,"onUnstable",{get:function(){return this._onUnstable},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"onMicrotaskEmpty",{get:function(){return this._onMicrotaskEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"onStable",{get:function(){return this._onStable},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"onError",{get:function(){return this._onErrorEvents},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"hasPendingMicrotasks",{get:function(){return this._hasPendingMicrotasks},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"hasPendingMacrotasks",{get:function(){return this._hasPendingMacrotasks},enumerable:!0,configurable:!0}),NgZone.prototype.run=function(e){return this._zoneImpl.runInner(e)},NgZone.prototype.runOutsideAngular=function(e){return this._zoneImpl.runOuter(e)},NgZone}();t.NgZone=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(4),s=n(1),c=n(89),u=n(53),l=function(){function ResponseOptions(e){var t=void 0===e?{}:e,n=t.body,r=t.status,i=t.headers,o=t.statusText,a=t.type,c=t.url;this.body=s.isPresent(n)?n:null,this.status=s.isPresent(r)?r:null,this.headers=s.isPresent(i)?i:null,this.statusText=s.isPresent(o)?o:null,this.type=s.isPresent(a)?a:null,this.url=s.isPresent(c)?c:null}return ResponseOptions.prototype.merge=function(e){return new ResponseOptions({body:s.isPresent(e)&&s.isPresent(e.body)?e.body:this.body,status:s.isPresent(e)&&s.isPresent(e.status)?e.status:this.status,headers:s.isPresent(e)&&s.isPresent(e.headers)?e.headers:this.headers,statusText:s.isPresent(e)&&s.isPresent(e.statusText)?e.statusText:this.statusText,type:s.isPresent(e)&&s.isPresent(e.type)?e.type:this.type,url:s.isPresent(e)&&s.isPresent(e.url)?e.url:this.url})},ResponseOptions}();t.ResponseOptions=l;var p=function(e){function BaseResponseOptions(){e.call(this,{status:200,statusText:"Ok",type:u.ResponseType.Default,headers:new c.Headers})}return r(BaseResponseOptions,e),BaseResponseOptions=i([a.Injectable(),o("design:paramtypes",[])],BaseResponseOptions)}(l);t.BaseResponseOptions=p},function(e,t,n){"use strict";function normalizeMethodName(e){if(r.isString(e)){var t=e;if(e=e.replace(/(\w)(\w*)/g,function(e,t,n){return t.toUpperCase()+n.toLowerCase()}),e=i.RequestMethod[e],"number"!=typeof e)throw o.makeTypeError('Invalid request method. The method "'+t+'" is not supported.')}return e}function getResponseURL(e){return"responseURL"in e?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):void 0}var r=n(1),i=n(53),o=n(5);t.normalizeMethodName=normalizeMethodName,t.isSuccess=function(e){return e>=200&&300>e},t.getResponseURL=getResponseURL;var a=n(1);t.isJsObject=a.isJsObject},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(14),c=n(6),u=n(3),l=n(90),p=function(){function SharedStylesHost(){this._styles=[],this._stylesSet=new Set}return SharedStylesHost.prototype.addStyles=function(e){var t=this,n=[];e.forEach(function(e){u.SetWrapper.has(t._stylesSet,e)||(t._stylesSet.add(e),t._styles.push(e),n.push(e))}),this.onStylesAdded(n)},SharedStylesHost.prototype.onStylesAdded=function(e){},SharedStylesHost.prototype.getAllStyles=function(){return this._styles},SharedStylesHost=i([c.Injectable(),o("design:paramtypes",[])],SharedStylesHost)}();t.SharedStylesHost=p;var f=function(e){function DomSharedStylesHost(t){e.call(this),this._hostNodes=new Set,this._hostNodes.add(t.head)}return r(DomSharedStylesHost,e),DomSharedStylesHost.prototype._addStylesToHost=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];s.DOM.appendChild(t,s.DOM.createStyleElement(r))}},DomSharedStylesHost.prototype.addHost=function(e){this._addStylesToHost(this._styles,e),this._hostNodes.add(e)},DomSharedStylesHost.prototype.removeHost=function(e){u.SetWrapper.delete(this._hostNodes,e)},DomSharedStylesHost.prototype.onStylesAdded=function(e){var t=this;this._hostNodes.forEach(function(n){t._addStylesToHost(e,n)})},DomSharedStylesHost=i([c.Injectable(),a(0,c.Inject(l.DOCUMENT)),o("design:paramtypes",[Object])],DomSharedStylesHost)}(p);t.DomSharedStylesHost=f},function(e,t,n){"use strict";function _stripBaseHref(e,t){return e.length>0&&t.startsWith(e)?t.substring(e.length):t}function stripIndexHtml(e){return/\/index.html$/g.test(e)?e.substring(0,e.length-11):e}function stripTrailingSlash(e){return/\/$/g.test(e)&&(e=e.substring(0,e.length-1)),e}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(91),a=n(9),s=n(4),c=function(){function Location(e){var t=this;this.platformStrategy=e,this._subject=new a.EventEmitter;var n=this.platformStrategy.getBaseHref();this._baseHref=stripTrailingSlash(stripIndexHtml(n)),this.platformStrategy.onPopState(function(e){a.ObservableWrapper.callEmit(t._subject,{url:t.path(),pop:!0,type:e.type})})}return Location.prototype.path=function(){return this.normalize(this.platformStrategy.path())},Location.prototype.normalize=function(e){return stripTrailingSlash(_stripBaseHref(this._baseHref,stripIndexHtml(e)))},Location.prototype.prepareExternalUrl=function(e){return e.length>0&&!e.startsWith("/")&&(e="/"+e),this.platformStrategy.prepareExternalUrl(e)},Location.prototype.go=function(e,t){void 0===t&&(t=""),this.platformStrategy.pushState(null,"",e,t)},Location.prototype.replaceState=function(e,t){void 0===t&&(t=""),this.platformStrategy.replaceState(null,"",e,t)},Location.prototype.forward=function(){this.platformStrategy.forward()},Location.prototype.back=function(){this.platformStrategy.back()},Location.prototype.subscribe=function(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=null),a.ObservableWrapper.subscribe(this._subject,e,t,n)},Location=r([s.Injectable(),i("design:paramtypes",[o.LocationStrategy])],Location)}();t.Location=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(1),s=function(){function RouteConfig(e){this.configs=e}return RouteConfig=i([a.CONST(),o("design:paramtypes",[Array])],RouteConfig)}();t.RouteConfig=s;var c=function(){function AbstractRoute(e){var t=e.name,n=e.useAsDefault,r=e.path,i=e.regex,o=e.serializer,a=e.data;this.name=t,this.useAsDefault=n,this.path=r,this.regex=i,this.serializer=o,this.data=a}return AbstractRoute=i([a.CONST(),o("design:paramtypes",[Object])],AbstractRoute)}();t.AbstractRoute=c;var u=function(e){function Route(t){var n=t.name,r=t.useAsDefault,i=t.path,o=t.regex,a=t.serializer,s=t.data,c=t.component;e.call(this,{name:n,useAsDefault:r,path:i,regex:o,serializer:a,data:s}),this.aux=null,this.component=c}return r(Route,e),Route=i([a.CONST(),o("design:paramtypes",[Object])],Route)}(c);t.Route=u;var l=function(e){function AuxRoute(t){var n=t.name,r=t.useAsDefault,i=t.path,o=t.regex,a=t.serializer,s=t.data,c=t.component;e.call(this,{name:n,useAsDefault:r,path:i,regex:o,serializer:a,data:s}),this.component=c}return r(AuxRoute,e),AuxRoute=i([a.CONST(),o("design:paramtypes",[Object])],AuxRoute)}(c);t.AuxRoute=l;var p=function(e){function AsyncRoute(t){var n=t.name,r=t.useAsDefault,i=t.path,o=t.regex,a=t.serializer,s=t.data,c=t.loader;e.call(this,{name:n,useAsDefault:r,path:i,regex:o,serializer:a,data:s}),this.aux=null,this.loader=c}return r(AsyncRoute,e),AsyncRoute=i([a.CONST(),o("design:paramtypes",[Object])],AsyncRoute)}(c);t.AsyncRoute=p;var f=function(e){function Redirect(t){var n=t.name,r=t.useAsDefault,i=t.path,o=t.regex,a=t.serializer,s=t.data,c=t.redirectTo;e.call(this,{name:n,useAsDefault:r,path:i,regex:o,serializer:a,data:s}),this.redirectTo=c}return r(Redirect,e),Redirect=i([a.CONST(),o("design:paramtypes",[Object])],Redirect)}(c);t.Redirect=f},function(e,t,n){"use strict";function canActivateOne(e,t){var n=g;return u.isBlank(e.component)?n:(u.isPresent(e.child)&&(n=canActivateOne(e.child,u.isPresent(t)?t.child:null)),n.then(function(n){if(0==n)return!1;if(e.component.reuse)return!0;var r=d.getCanActivateHook(e.component.componentType);return u.isPresent(r)?r(e.component,u.isPresent(t)?t.component:null):!0}))}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(9),c=n(3),u=n(1),l=n(5),p=n(4),f=n(178),h=n(119),d=n(284),g=s.PromiseWrapper.resolve(!0),y=s.PromiseWrapper.resolve(!1),m=function(){function Router(e,t,n,r){this.registry=e,this.parent=t,this.hostComponent=n,this.root=r,this.navigating=!1,this.currentInstruction=null,this._currentNavigation=g,this._outlet=null,this._auxRouters=new c.Map,this._subject=new s.EventEmitter}return Router.prototype.childRouter=function(e){return this._childRouter=new v(this,e)},Router.prototype.auxRouter=function(e){return new v(this,e)},Router.prototype.registerPrimaryOutlet=function(e){if(u.isPresent(e.name))throw new l.BaseException("registerPrimaryOutlet expects to be called with an unnamed outlet.");if(u.isPresent(this._outlet))throw new l.BaseException("Primary outlet is already registered.");return this._outlet=e,u.isPresent(this.currentInstruction)?this.commit(this.currentInstruction,!1):g},Router.prototype.unregisterPrimaryOutlet=function(e){
if(u.isPresent(e.name))throw new l.BaseException("registerPrimaryOutlet expects to be called with an unnamed outlet.");this._outlet=null},Router.prototype.registerAuxOutlet=function(e){var t=e.name;if(u.isBlank(t))throw new l.BaseException("registerAuxOutlet expects to be called with an outlet with a name.");var n=this.auxRouter(this.hostComponent);this._auxRouters.set(t,n),n._outlet=e;var r;return u.isPresent(this.currentInstruction)&&u.isPresent(r=this.currentInstruction.auxInstruction[t])?n.commit(r):g},Router.prototype.isRouteActive=function(e){var t=this,n=this;if(u.isBlank(this.currentInstruction))return!1;for(;u.isPresent(n.parent)&&u.isPresent(e.child);)n=n.parent,e=e.child;if(u.isBlank(e.component)||u.isBlank(this.currentInstruction.component)||this.currentInstruction.component.routeName!=e.component.routeName)return!1;var r=!0;return u.isPresent(this.currentInstruction.component.params)&&c.StringMapWrapper.forEach(e.component.params,function(e,n){t.currentInstruction.component.params[n]!==e&&(r=!1)}),r},Router.prototype.config=function(e){var t=this;return e.forEach(function(e){t.registry.config(t.hostComponent,e)}),this.renavigate()},Router.prototype.navigate=function(e){var t=this.generate(e);return this.navigateByInstruction(t,!1)},Router.prototype.navigateByUrl=function(e,t){var n=this;return void 0===t&&(t=!1),this._currentNavigation=this._currentNavigation.then(function(r){return n.lastNavigationAttempt=e,n._startNavigating(),n._afterPromiseFinishNavigating(n.recognize(e).then(function(e){return u.isBlank(e)?!1:n._navigate(e,t)}))})},Router.prototype.navigateByInstruction=function(e,t){var n=this;return void 0===t&&(t=!1),u.isBlank(e)?y:this._currentNavigation=this._currentNavigation.then(function(r){return n._startNavigating(),n._afterPromiseFinishNavigating(n._navigate(e,t))})},Router.prototype._settleInstruction=function(e){var t=this;return e.resolveComponent().then(function(n){var r=[];return u.isPresent(e.component)&&(e.component.reuse=!1),u.isPresent(e.child)&&r.push(t._settleInstruction(e.child)),c.StringMapWrapper.forEach(e.auxInstruction,function(e,n){r.push(t._settleInstruction(e))}),s.PromiseWrapper.all(r)})},Router.prototype._navigate=function(e,t){var n=this;return this._settleInstruction(e).then(function(t){return n._routerCanReuse(e)}).then(function(t){return n._canActivate(e)}).then(function(r){return r?n._routerCanDeactivate(e).then(function(r){return r?n.commit(e,t).then(function(t){return n._emitNavigationFinish(e.toRootUrl()),!0}):void 0}):!1})},Router.prototype._emitNavigationFinish=function(e){s.ObservableWrapper.callEmit(this._subject,e)},Router.prototype._emitNavigationFail=function(e){s.ObservableWrapper.callError(this._subject,e)},Router.prototype._afterPromiseFinishNavigating=function(e){var t=this;return s.PromiseWrapper.catchError(e.then(function(e){return t._finishNavigating()}),function(e){throw t._finishNavigating(),e})},Router.prototype._routerCanReuse=function(e){var t=this;return u.isBlank(this._outlet)?y:u.isBlank(e.component)?g:this._outlet.routerCanReuse(e.component).then(function(n){return e.component.reuse=n,n&&u.isPresent(t._childRouter)&&u.isPresent(e.child)?t._childRouter._routerCanReuse(e.child):void 0})},Router.prototype._canActivate=function(e){return canActivateOne(e,this.currentInstruction)},Router.prototype._routerCanDeactivate=function(e){var t=this;if(u.isBlank(this._outlet))return g;var n,r=null,i=!1,o=null;return u.isPresent(e)&&(r=e.child,o=e.component,i=u.isBlank(e.component)||e.component.reuse),n=i?g:this._outlet.routerCanDeactivate(o),n.then(function(e){return 0==e?!1:u.isPresent(t._childRouter)?t._childRouter._routerCanDeactivate(r):!0})},Router.prototype.commit=function(e,t){var n=this;void 0===t&&(t=!1),this.currentInstruction=e;var r=g;if(u.isPresent(this._outlet)&&u.isPresent(e.component)){var i=e.component;r=i.reuse?this._outlet.reuse(i):this.deactivate(e).then(function(e){return n._outlet.activate(i)}),u.isPresent(e.child)&&(r=r.then(function(t){return u.isPresent(n._childRouter)?n._childRouter.commit(e.child):void 0}))}var o=[];return this._auxRouters.forEach(function(t,n){u.isPresent(e.auxInstruction[n])&&o.push(t.commit(e.auxInstruction[n]))}),r.then(function(e){return s.PromiseWrapper.all(o)})},Router.prototype._startNavigating=function(){this.navigating=!0},Router.prototype._finishNavigating=function(){this.navigating=!1},Router.prototype.subscribe=function(e,t){return s.ObservableWrapper.subscribe(this._subject,e,t)},Router.prototype.deactivate=function(e){var t=this,n=null,r=null;u.isPresent(e)&&(n=e.child,r=e.component);var i=g;return u.isPresent(this._childRouter)&&(i=this._childRouter.deactivate(n)),u.isPresent(this._outlet)&&(i=i.then(function(e){return t._outlet.deactivate(r)})),i},Router.prototype.recognize=function(e){var t=this._getAncestorInstructions();return this.registry.recognize(e,t)},Router.prototype._getAncestorInstructions=function(){for(var e=[this.currentInstruction],t=this;u.isPresent(t=t.parent);)e.unshift(t.currentInstruction);return e},Router.prototype.renavigate=function(){return u.isBlank(this.lastNavigationAttempt)?this._currentNavigation:this.navigateByUrl(this.lastNavigationAttempt)},Router.prototype.generate=function(e){var t=this._getAncestorInstructions();return this.registry.generate(e,t)},Router=i([p.Injectable(),o("design:paramtypes",[f.RouteRegistry,Router,Object,Router])],Router)}();t.Router=m;var _=function(e){function RootRouter(t,n,r){var i=this;e.call(this,t,null,r),this.root=this,this._location=n,this._locationSub=this._location.subscribe(function(e){i.recognize(e.url).then(function(t){u.isPresent(t)?i.navigateByInstruction(t,u.isPresent(e.pop)).then(function(n){if(!u.isPresent(e.pop)||"hashchange"==e.type){var r=t.toUrlPath(),o=t.toUrlQuery();r.length>0&&"/"!=r[0]&&(r="/"+r),"hashchange"==e.type?t.toRootUrl()!=i._location.path()&&i._location.replaceState(r,o):i._location.go(r,o)}}):i._emitNavigationFail(e.url)})}),this.registry.configFromComponent(r),this.navigateByUrl(n.path())}return r(RootRouter,e),RootRouter.prototype.commit=function(t,n){var r=this;void 0===n&&(n=!1);var i=t.toUrlPath(),o=t.toUrlQuery();i.length>0&&"/"!=i[0]&&(i="/"+i);var a=e.prototype.commit.call(this,t);return n||(a=a.then(function(e){r._location.go(i,o)})),a},RootRouter.prototype.dispose=function(){u.isPresent(this._locationSub)&&(s.ObservableWrapper.dispose(this._locationSub),this._locationSub=null)},RootRouter=i([p.Injectable(),a(2,p.Inject(f.ROUTER_PRIMARY_COMPONENT)),o("design:paramtypes",[f.RouteRegistry,h.Location,u.Type])],RootRouter)}(m);t.RootRouter=_;var v=function(e){function ChildRouter(t,n){e.call(this,t.registry,t,n,t.root),this.parent=t}return r(ChildRouter,e),ChildRouter.prototype.navigateByUrl=function(e,t){return void 0===t&&(t=!1),this.parent.navigateByUrl(e,t)},ChildRouter.prototype.navigateByInstruction=function(e,t){return void 0===t&&(t=!1),this.parent.navigateByInstruction(e,t)},ChildRouter}(m)},,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(210),o=n(380),a=n(211),s=n(385),c=n(209),u=function(){function Subscription(e){this.isUnsubscribed=!1,e&&(this._unsubscribe=e)}return Subscription.prototype.unsubscribe=function(){var e,t=!1;if(!this.isUnsubscribed){this.isUnsubscribed=!0;var n=this,r=n._unsubscribe,u=n._subscriptions;if(this._subscriptions=null,a.isFunction(r)){var p=s.tryCatch(r).call(this);p===c.errorObject&&(t=!0,(e=e||[]).push(c.errorObject.e))}if(i.isArray(u))for(var f=-1,h=u.length;++f<h;){var d=u[f];if(o.isObject(d)){var p=s.tryCatch(d.unsubscribe).call(d);if(p===c.errorObject){t=!0,e=e||[];var g=c.errorObject.e;g instanceof l?e=e.concat(g.errors):e.push(g)}}}if(t)throw new l(e)}},Subscription.prototype.add=function(e){if(e&&e!==this&&e!==Subscription.EMPTY){var t=e;switch(typeof e){case"function":t=new Subscription(e);case"object":if(t.isUnsubscribed||"function"!=typeof t.unsubscribe)break;this.isUnsubscribed?t.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(t);break;default:throw new Error("Unrecognized teardown "+e+" added to Subscription.")}return t}},Subscription.prototype.remove=function(e){if(null!=e&&e!==this&&e!==Subscription.EMPTY){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}},Subscription.EMPTY=function(e){return e.isUnsubscribed=!0,e}(new Subscription),Subscription}();t.Subscription=u;var l=function(e){function UnsubscriptionError(t){e.call(this,"unsubscriptoin error(s)"),this.errors=t,this.name="UnsubscriptionError"}return r(UnsubscriptionError,e),UnsubscriptionError}(Error);t.UnsubscriptionError=l},function(e,t,n){"use strict";var r=n(49),i=r.root.Symbol;t.$$rxSubscriber="function"==typeof i&&"function"==typeof i.for?i.for("rxSubscriber"):"@@rxSubscriber"},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(397)),__export(n(216)),__export(n(222)),__export(n(392))},function(e,t,n){"use strict";function bootstrap(e,n){c.reflector.reflectionCapabilities=new u.ReflectionCapabilities;var r=o.isPresent(n)?[t.BROWSER_APP_PROVIDERS,n]:t.BROWSER_APP_PROVIDERS;return c.platform(a.BROWSER_PROVIDERS).application(r).bootstrap(e)}var r=n(405);t.AngularEntrypoint=r.AngularEntrypoint;var i=n(278);t.BROWSER_PROVIDERS=i.BROWSER_PROVIDERS,t.CACHED_TEMPLATE_PROVIDER=i.CACHED_TEMPLATE_PROVIDER,t.ELEMENT_PROBE_PROVIDERS=i.ELEMENT_PROBE_PROVIDERS,t.ELEMENT_PROBE_PROVIDERS_PROD_MODE=i.ELEMENT_PROBE_PROVIDERS_PROD_MODE,t.inspectNativeElement=i.inspectNativeElement,t.BrowserDomAdapter=i.BrowserDomAdapter,t.By=i.By,t.Title=i.Title,t.DOCUMENT=i.DOCUMENT,t.enableDebugTools=i.enableDebugTools,t.disableDebugTools=i.disableDebugTools;var o=n(1),a=n(278),s=n(212),c=n(4),u=n(264),l=n(277),p=n(212),f=n(6);t.BROWSER_APP_PROVIDERS=o.CONST_EXPR([a.BROWSER_APP_COMMON_PROVIDERS,s.COMPILER_PROVIDERS,new f.Provider(p.XHR,{useClass:l.XHRImpl})]),t.bootstrap=bootstrap},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var r=n(14);t.DOM=r.DOM,t.setRootDomAdapter=r.setRootDomAdapter,t.DomAdapter=r.DomAdapter;var i=n(175);t.DomRenderer=i.DomRenderer;var o=n(90);t.DOCUMENT=o.DOCUMENT;var a=n(118);t.SharedStylesHost=a.SharedStylesHost,t.DomSharedStylesHost=a.DomSharedStylesHost;var s=n(279);t.DomEventsPlugin=s.DomEventsPlugin;var c=n(71);t.EVENT_MANAGER_PLUGINS=c.EVENT_MANAGER_PLUGINS,t.EventManager=c.EventManager,t.EventManagerPlugin=c.EventManagerPlugin,__export(n(435)),__export(n(436))},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(4),s=n(1),c=n(3),u=s.CONST_EXPR(new Object),l=function(){function SwitchView(e,t){this._viewContainerRef=e,this._templateRef=t}return SwitchView.prototype.create=function(){this._viewContainerRef.createEmbeddedView(this._templateRef)},SwitchView.prototype.destroy=function(){this._viewContainerRef.clear()},SwitchView}();t.SwitchView=l;var p=function(){function NgSwitch(){this._useDefault=!1,this._valueViews=new c.Map,this._activeViews=[]}return Object.defineProperty(NgSwitch.prototype,"ngSwitch",{set:function(e){this._emptyAllActiveViews(),this._useDefault=!1;var t=this._valueViews.get(e);s.isBlank(t)&&(this._useDefault=!0,t=s.normalizeBlank(this._valueViews.get(u))),this._activateViews(t),this._switchValue=e},enumerable:!0,configurable:!0}),NgSwitch.prototype._onWhenValueChanged=function(e,t,n){this._deregisterView(e,n),this._registerView(t,n),e===this._switchValue?(n.destroy(),c.ListWrapper.remove(this._activeViews,n)):t===this._switchValue&&(this._useDefault&&(this._useDefault=!1,this._emptyAllActiveViews()),n.create(),this._activeViews.push(n)),0!==this._activeViews.length||this._useDefault||(this._useDefault=!0,this._activateViews(this._valueViews.get(u)))},NgSwitch.prototype._emptyAllActiveViews=function(){for(var e=this._activeViews,t=0;t<e.length;t++)e[t].destroy();this._activeViews=[]},NgSwitch.prototype._activateViews=function(e){if(s.isPresent(e)){for(var t=0;t<e.length;t++)e[t].create();this._activeViews=e}},NgSwitch.prototype._registerView=function(e,t){var n=this._valueViews.get(e);s.isBlank(n)&&(n=[],this._valueViews.set(e,n)),n.push(t)},NgSwitch.prototype._deregisterView=function(e,t){if(e!==u){var n=this._valueViews.get(e);1==n.length?this._valueViews.delete(e):c.ListWrapper.remove(n,t)}},NgSwitch=r([a.Directive({selector:"[ngSwitch]",inputs:["ngSwitch"]}),i("design:paramtypes",[])],NgSwitch)}();t.NgSwitch=p;var f=function(){function NgSwitchWhen(e,t,n){this._value=u,this._switch=n,this._view=new l(e,t)}return Object.defineProperty(NgSwitchWhen.prototype,"ngSwitchWhen",{set:function(e){this._switch._onWhenValueChanged(this._value,e,this._view),this._value=e},enumerable:!0,configurable:!0}),NgSwitchWhen=r([a.Directive({selector:"[ngSwitchWhen]",inputs:["ngSwitchWhen"]}),o(2,a.Host()),i("design:paramtypes",[a.ViewContainerRef,a.TemplateRef,p])],NgSwitchWhen)}();t.NgSwitchWhen=f;var h=function(){function NgSwitchDefault(e,t,n){n._registerView(u,new l(e,t))}return NgSwitchDefault=r([a.Directive({selector:"[ngSwitchDefault]"}),o(2,a.Host()),i("design:paramtypes",[a.ViewContainerRef,a.TemplateRef,p])],NgSwitchDefault)}();t.NgSwitchDefault=h},function(e,t,n){"use strict";var r=n(1),i=n(5),o=function(){function AbstractControlDirective(){}return Object.defineProperty(AbstractControlDirective.prototype,"control",{get:function(){return i.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"value",{get:function(){return r.isPresent(this.control)?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"valid",{get:function(){return r.isPresent(this.control)?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"errors",{get:function(){return r.isPresent(this.control)?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"pristine",{get:function(){return r.isPresent(this.control)?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"dirty",{get:function(){return r.isPresent(this.control)?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"touched",{get:function(){return r.isPresent(this.control)?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"untouched",{get:function(){return r.isPresent(this.control)?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),AbstractControlDirective}();t.AbstractControlDirective=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(4),c=n(1),u=n(77),l=n(63),p=n(31),f=c.CONST_EXPR(new s.Provider(u.ControlContainer,{useExisting:s.forwardRef(function(){return h})})),h=function(e){function NgControlGroup(t,n,r){e.call(this),this._validators=n,this._asyncValidators=r,this._parent=t}return r(NgControlGroup,e),NgControlGroup.prototype.ngOnInit=function(){this.formDirective.addControlGroup(this)},NgControlGroup.prototype.ngOnDestroy=function(){this.formDirective.removeControlGroup(this)},Object.defineProperty(NgControlGroup.prototype,"control",{get:function(){return this.formDirective.getControlGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlGroup.prototype,"path",{get:function(){return l.controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlGroup.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlGroup.prototype,"validator",{get:function(){return l.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlGroup.prototype,"asyncValidator",{get:function(){return l.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),NgControlGroup=i([s.Directive({selector:"[ngControlGroup]",providers:[f],inputs:["name: ngControlGroup"],exportAs:"ngForm"}),a(0,s.Host()),a(0,s.SkipSelf()),a(1,s.Optional()),a(1,s.Self()),a(1,s.Inject(p.NG_VALIDATORS)),a(2,s.Optional()),a(2,s.Self()),a(2,s.Inject(p.NG_ASYNC_VALIDATORS)),o("design:paramtypes",[u.ControlContainer,Array,Array])],NgControlGroup)}(u.ControlContainer);t.NgControlGroup=h},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(1),c=n(9),u=n(4),l=n(77),p=n(51),f=n(30),h=n(63),d=n(31),g=s.CONST_EXPR(new u.Provider(p.NgControl,{useExisting:u.forwardRef(function(){return y})})),y=function(e){function NgControlName(t,n,r,i){e.call(this),this._parent=t,this._validators=n,this._asyncValidators=r,this.update=new c.EventEmitter,this._added=!1,this.valueAccessor=h.selectValueAccessor(this,i)}return r(NgControlName,e),NgControlName.prototype.ngOnChanges=function(e){this._added||(this.formDirective.addControl(this),this._added=!0),h.isPropertyUpdated(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},NgControlName.prototype.ngOnDestroy=function(){this.formDirective.removeControl(this)},NgControlName.prototype.viewToModelUpdate=function(e){this.viewModel=e,c.ObservableWrapper.callEmit(this.update,e)},Object.defineProperty(NgControlName.prototype,"path",{get:function(){return h.controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlName.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlName.prototype,"validator",{get:function(){return h.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlName.prototype,"asyncValidator",{get:function(){return h.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlName.prototype,"control",{get:function(){return this.formDirective.getControl(this)},enumerable:!0,configurable:!0}),NgControlName=i([u.Directive({selector:"[ngControl]",bindings:[g],inputs:["name: ngControl","model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}),a(0,u.Host()),a(0,u.SkipSelf()),a(1,u.Optional()),a(1,u.Self()),a(1,u.Inject(d.NG_VALIDATORS)),a(2,u.Optional()),a(2,u.Self()),a(2,u.Inject(d.NG_ASYNC_VALIDATORS)),a(3,u.Optional()),a(3,u.Self()),a(3,u.Inject(f.NG_VALUE_ACCESSOR)),o("design:paramtypes",[l.ControlContainer,Array,Array,Array])],NgControlName)}(p.NgControl);t.NgControlName=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(4),s=n(51),c=n(1),u=function(){function NgControlStatus(e){this._cd=e}return Object.defineProperty(NgControlStatus.prototype,"ngClassUntouched",{get:function(){return c.isPresent(this._cd.control)?this._cd.control.untouched:!1},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassTouched",{get:function(){return c.isPresent(this._cd.control)?this._cd.control.touched:!1},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassPristine",{get:function(){return c.isPresent(this._cd.control)?this._cd.control.pristine:!1},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassDirty",{get:function(){return c.isPresent(this._cd.control)?this._cd.control.dirty:!1},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassValid",{get:function(){return c.isPresent(this._cd.control)?this._cd.control.valid:!1},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassInvalid",{get:function(){return c.isPresent(this._cd.control)?!this._cd.control.valid:!1},enumerable:!0,configurable:!0}),NgControlStatus=r([a.Directive({selector:"[ngControl],[ngModel],[ngFormControl]",host:{"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid"}}),o(0,a.Self()),i("design:paramtypes",[s.NgControl])],NgControlStatus)}();t.NgControlStatus=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(9),c=n(3),u=n(1),l=n(4),p=n(77),f=n(104),h=n(63),d=n(31),g=u.CONST_EXPR(new l.Provider(p.ControlContainer,{useExisting:l.forwardRef(function(){return y})})),y=function(e){function NgForm(t,n){e.call(this),this.ngSubmit=new s.EventEmitter,this.form=new f.ControlGroup({},null,h.composeValidators(t),h.composeAsyncValidators(n))}return r(NgForm,e),Object.defineProperty(NgForm.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),NgForm.prototype.addControl=function(e){var t=this;s.PromiseWrapper.scheduleMicrotask(function(){var n=t._findContainer(e.path),r=new f.Control;h.setUpControl(r,e),n.addControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})},NgForm.prototype.getControl=function(e){return this.form.find(e.path)},NgForm.prototype.removeControl=function(e){var t=this;s.PromiseWrapper.scheduleMicrotask(function(){var n=t._findContainer(e.path);u.isPresent(n)&&(n.removeControl(e.name),n.updateValueAndValidity({emitEvent:!1}))})},NgForm.prototype.addControlGroup=function(e){var t=this;s.PromiseWrapper.scheduleMicrotask(function(){var n=t._findContainer(e.path),r=new f.ControlGroup({});h.setUpControlGroup(r,e),n.addControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})},NgForm.prototype.removeControlGroup=function(e){var t=this;s.PromiseWrapper.scheduleMicrotask(function(){var n=t._findContainer(e.path);u.isPresent(n)&&(n.removeControl(e.name),n.updateValueAndValidity({emitEvent:!1}))})},NgForm.prototype.getControlGroup=function(e){return this.form.find(e.path)},NgForm.prototype.updateModel=function(e,t){var n=this;s.PromiseWrapper.scheduleMicrotask(function(){var r=n.form.find(e.path);r.updateValue(t)})},NgForm.prototype.onSubmit=function(){return s.ObservableWrapper.callEmit(this.ngSubmit,null),!1},NgForm.prototype._findContainer=function(e){return e.pop(),c.ListWrapper.isEmpty(e)?this.form:this.form.find(e)},NgForm=i([l.Directive({selector:"form:not([ngNoForm]):not([ngFormModel]),ngForm,[ngForm]",bindings:[g],host:{"(submit)":"onSubmit()"},outputs:["ngSubmit"],exportAs:"ngForm"}),a(0,l.Optional()),a(0,l.Self()),a(0,l.Inject(d.NG_VALIDATORS)),a(1,l.Optional()),a(1,l.Self()),a(1,l.Inject(d.NG_ASYNC_VALIDATORS)),o("design:paramtypes",[Array,Array])],NgForm)}(p.ControlContainer);t.NgForm=y},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(1),c=n(3),u=n(9),l=n(4),p=n(51),f=n(31),h=n(30),d=n(63),g=s.CONST_EXPR(new l.Provider(p.NgControl,{useExisting:l.forwardRef(function(){return y})})),y=function(e){function NgFormControl(t,n,r){e.call(this),this._validators=t,this._asyncValidators=n,this.update=new u.EventEmitter,this.valueAccessor=d.selectValueAccessor(this,r)}return r(NgFormControl,e),NgFormControl.prototype.ngOnChanges=function(e){this._isControlChanged(e)&&(d.setUpControl(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})),d.isPropertyUpdated(e,this.viewModel)&&(this.form.updateValue(this.model),this.viewModel=this.model)},Object.defineProperty(NgFormControl.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormControl.prototype,"validator",{get:function(){return d.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormControl.prototype,"asyncValidator",{get:function(){return d.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormControl.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),NgFormControl.prototype.viewToModelUpdate=function(e){this.viewModel=e,u.ObservableWrapper.callEmit(this.update,e)},NgFormControl.prototype._isControlChanged=function(e){return c.StringMapWrapper.contains(e,"form")},NgFormControl=i([l.Directive({selector:"[ngFormControl]",bindings:[g],inputs:["form: ngFormControl","model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}),a(0,l.Optional()),a(0,l.Self()),a(0,l.Inject(f.NG_VALIDATORS)),a(1,l.Optional()),a(1,l.Self()),a(1,l.Inject(f.NG_ASYNC_VALIDATORS)),a(2,l.Optional()),a(2,l.Self()),a(2,l.Inject(h.NG_VALUE_ACCESSOR)),o("design:paramtypes",[Array,Array,Array])],NgFormControl)}(p.NgControl);t.NgFormControl=y},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(1),c=n(3),u=n(9),l=n(4),p=n(77),f=n(63),h=n(31),d=s.CONST_EXPR(new l.Provider(p.ControlContainer,{useExisting:l.forwardRef(function(){return g})})),g=function(e){function NgFormModel(t,n){e.call(this),this._validators=t,this._asyncValidators=n,this.form=null,this.directives=[],this.ngSubmit=new u.EventEmitter}return r(NgFormModel,e),NgFormModel.prototype.ngOnChanges=function(e){if(c.StringMapWrapper.contains(e,"form")){var t=f.composeValidators(this._validators);this.form.validator=h.Validators.compose([this.form.validator,t]);var n=f.composeAsyncValidators(this._asyncValidators);this.form.asyncValidator=h.Validators.composeAsync([this.form.asyncValidator,n]),this.form.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}this._updateDomValue()},Object.defineProperty(NgFormModel.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormModel.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormModel.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),NgFormModel.prototype.addControl=function(e){var t=this.form.find(e.path);f.setUpControl(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e)},NgFormModel.prototype.getControl=function(e){return this.form.find(e.path)},NgFormModel.prototype.removeControl=function(e){c.ListWrapper.remove(this.directives,e)},NgFormModel.prototype.addControlGroup=function(e){var t=this.form.find(e.path);f.setUpControlGroup(t,e),t.updateValueAndValidity({emitEvent:!1})},NgFormModel.prototype.removeControlGroup=function(e){},NgFormModel.prototype.getControlGroup=function(e){return this.form.find(e.path)},NgFormModel.prototype.updateModel=function(e,t){var n=this.form.find(e.path);n.updateValue(t)},NgFormModel.prototype.onSubmit=function(){return u.ObservableWrapper.callEmit(this.ngSubmit,null),!1},NgFormModel.prototype._updateDomValue=function(){var e=this;this.directives.forEach(function(t){var n=e.form.find(t.path);t.valueAccessor.writeValue(n.value)})},NgFormModel=i([l.Directive({selector:"[ngFormModel]",bindings:[d],inputs:["form: ngFormModel"],host:{"(submit)":"onSubmit()"},outputs:["ngSubmit"],exportAs:"ngForm"}),a(0,l.Optional()),a(0,l.Self()),a(0,l.Inject(h.NG_VALIDATORS)),a(1,l.Optional()),a(1,l.Self()),a(1,l.Inject(h.NG_ASYNC_VALIDATORS)),o("design:paramtypes",[Array,Array])],NgFormModel);
}(p.ControlContainer);t.NgFormModel=g},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(1),c=n(9),u=n(4),l=n(30),p=n(51),f=n(104),h=n(31),d=n(63),g=s.CONST_EXPR(new u.Provider(p.NgControl,{useExisting:u.forwardRef(function(){return y})})),y=function(e){function NgModel(t,n,r){e.call(this),this._validators=t,this._asyncValidators=n,this._control=new f.Control,this._added=!1,this.update=new c.EventEmitter,this.valueAccessor=d.selectValueAccessor(this,r)}return r(NgModel,e),NgModel.prototype.ngOnChanges=function(e){this._added||(d.setUpControl(this._control,this),this._control.updateValueAndValidity({emitEvent:!1}),this._added=!0),d.isPropertyUpdated(e,this.viewModel)&&(this._control.updateValue(this.model),this.viewModel=this.model)},Object.defineProperty(NgModel.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"validator",{get:function(){return d.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"asyncValidator",{get:function(){return d.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),NgModel.prototype.viewToModelUpdate=function(e){this.viewModel=e,c.ObservableWrapper.callEmit(this.update,e)},NgModel=i([u.Directive({selector:"[ngModel]:not([ngControl]):not([ngFormControl])",bindings:[g],inputs:["model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}),a(0,u.Optional()),a(0,u.Self()),a(0,u.Inject(h.NG_VALIDATORS)),a(1,u.Optional()),a(1,u.Self()),a(1,u.Inject(h.NG_ASYNC_VALIDATORS)),a(2,u.Optional()),a(2,u.Self()),a(2,u.Inject(l.NG_VALUE_ACCESSOR)),o("design:paramtypes",[Array,Array,Array])],NgModel)}(p.NgControl);t.NgModel=y},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(4),a=n(30),s=n(1),c=s.CONST_EXPR(new o.Provider(a.NG_VALUE_ACCESSOR,{useExisting:o.forwardRef(function(){return u}),multi:!0})),u=function(){function NumberValueAccessor(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return NumberValueAccessor.prototype.writeValue=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"value",e)},NumberValueAccessor.prototype.registerOnChange=function(e){this.onChange=function(t){e(s.NumberWrapper.parseFloat(t))}},NumberValueAccessor.prototype.registerOnTouched=function(e){this.onTouched=e},NumberValueAccessor=r([o.Directive({selector:"input[type=number][ngControl],input[type=number][ngFormControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},bindings:[c]}),i("design:paramtypes",[o.Renderer,o.ElementRef])],NumberValueAccessor)}();t.NumberValueAccessor=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(4),s=n(1),c=n(31),u=n(1),l=c.Validators.required,p=s.CONST_EXPR(new a.Provider(c.NG_VALIDATORS,{useValue:l,multi:!0})),f=function(){function RequiredValidator(){}return RequiredValidator=r([a.Directive({selector:"[required][ngControl],[required][ngFormControl],[required][ngModel]",providers:[p]}),i("design:paramtypes",[])],RequiredValidator)}();t.RequiredValidator=f;var h=s.CONST_EXPR(new a.Provider(c.NG_VALIDATORS,{useExisting:a.forwardRef(function(){return d}),multi:!0})),d=function(){function MinLengthValidator(e){this._validator=c.Validators.minLength(u.NumberWrapper.parseInt(e,10))}return MinLengthValidator.prototype.validate=function(e){return this._validator(e)},MinLengthValidator=r([a.Directive({selector:"[minlength][ngControl],[minlength][ngFormControl],[minlength][ngModel]",providers:[h]}),o(0,a.Attribute("minlength")),i("design:paramtypes",[String])],MinLengthValidator)}();t.MinLengthValidator=d;var g=s.CONST_EXPR(new a.Provider(c.NG_VALIDATORS,{useExisting:a.forwardRef(function(){return y}),multi:!0})),y=function(){function MaxLengthValidator(e){this._validator=c.Validators.maxLength(u.NumberWrapper.parseInt(e,10))}return MaxLengthValidator.prototype.validate=function(e){return this._validator(e)},MaxLengthValidator=r([a.Directive({selector:"[maxlength][ngControl],[maxlength][ngFormControl],[maxlength][ngModel]",providers:[g]}),o(0,a.Attribute("maxlength")),i("design:paramtypes",[String])],MaxLengthValidator)}();t.MaxLengthValidator=y;var m=s.CONST_EXPR(new a.Provider(c.NG_VALIDATORS,{useExisting:a.forwardRef(function(){return _}),multi:!0})),_=function(){function PatternValidator(e){this._validator=c.Validators.pattern(e)}return PatternValidator.prototype.validate=function(e){return this._validator(e)},PatternValidator=r([a.Directive({selector:"[pattern][ngControl],[pattern][ngFormControl],[pattern][ngModel]",providers:[m]}),o(0,a.Attribute("pattern")),i("design:paramtypes",[String])],PatternValidator)}();t.PatternValidator=_},function(e,t,n){"use strict";function htmlVisitAll(e,t,n){void 0===n&&(n=null);var i=[];return t.forEach(function(t){var o=t.visit(e,n);r.isPresent(o)&&i.push(o)}),i}var r=n(1),i=function(){function HtmlTextAst(e,t){this.value=e,this.sourceSpan=t}return HtmlTextAst.prototype.visit=function(e,t){return e.visitText(this,t)},HtmlTextAst}();t.HtmlTextAst=i;var o=function(){function HtmlAttrAst(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}return HtmlAttrAst.prototype.visit=function(e,t){return e.visitAttr(this,t)},HtmlAttrAst}();t.HtmlAttrAst=o;var a=function(){function HtmlElementAst(e,t,n,r,i,o){this.name=e,this.attrs=t,this.children=n,this.sourceSpan=r,this.startSourceSpan=i,this.endSourceSpan=o}return HtmlElementAst.prototype.visit=function(e,t){return e.visitElement(this,t)},HtmlElementAst}();t.HtmlElementAst=a;var s=function(){function HtmlCommentAst(e,t){this.value=e,this.sourceSpan=t}return HtmlCommentAst.prototype.visit=function(e,t){return e.visitComment(this,t)},HtmlCommentAst}();t.HtmlCommentAst=s,t.htmlVisitAll=htmlVisitAll},function(e,t,n){"use strict";function getElementFullName(e,t,n){return a.isBlank(e)&&(e=f.getHtmlTagDefinition(t).implicitNamespacePrefix,a.isBlank(e)&&a.isPresent(n)&&(e=f.getNsPrefix(n.name))),f.mergeNsAndName(e,t)}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(1),s=n(3),c=n(147),u=n(6),l=n(402),p=n(149),f=n(78),h=function(e){function HtmlTreeError(t,n,r){e.call(this,n,r),this.elementName=t}return r(HtmlTreeError,e),HtmlTreeError.create=function(e,t,n){return new HtmlTreeError(e,t,n)},HtmlTreeError}(p.ParseError);t.HtmlTreeError=h;var d=function(){function HtmlParseTreeResult(e,t){this.rootNodes=e,this.errors=t}return HtmlParseTreeResult}();t.HtmlParseTreeResult=d;var g=function(){function HtmlParser(){}return HtmlParser.prototype.parse=function(e,t){var n=l.tokenizeHtml(e,t),r=new y(n.tokens).build();return new d(r.rootNodes,n.errors.concat(r.errors))},HtmlParser=i([u.Injectable(),o("design:paramtypes",[])],HtmlParser)}();t.HtmlParser=g;var y=function(){function TreeBuilder(e){this.tokens=e,this.index=-1,this.rootNodes=[],this.errors=[],this.elementStack=[],this._advance()}return TreeBuilder.prototype.build=function(){for(;this.peek.type!==l.HtmlTokenType.EOF;)this.peek.type===l.HtmlTokenType.TAG_OPEN_START?this._consumeStartTag(this._advance()):this.peek.type===l.HtmlTokenType.TAG_CLOSE?this._consumeEndTag(this._advance()):this.peek.type===l.HtmlTokenType.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this.peek.type===l.HtmlTokenType.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this.peek.type===l.HtmlTokenType.TEXT||this.peek.type===l.HtmlTokenType.RAW_TEXT||this.peek.type===l.HtmlTokenType.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._advance();return new d(this.rootNodes,this.errors)},TreeBuilder.prototype._advance=function(){var e=this.peek;return this.index<this.tokens.length-1&&this.index++,this.peek=this.tokens[this.index],e},TreeBuilder.prototype._advanceIf=function(e){return this.peek.type===e?this._advance():null},TreeBuilder.prototype._consumeCdata=function(e){this._consumeText(this._advance()),this._advanceIf(l.HtmlTokenType.CDATA_END)},TreeBuilder.prototype._consumeComment=function(e){var t=this._advanceIf(l.HtmlTokenType.RAW_TEXT);this._advanceIf(l.HtmlTokenType.COMMENT_END);var n=a.isPresent(t)?t.parts[0].trim():null;this._addToParent(new c.HtmlCommentAst(n,e.sourceSpan))},TreeBuilder.prototype._consumeText=function(e){var t=e.parts[0];if(t.length>0&&"\n"==t[0]){var n=this._getParentElement();a.isPresent(n)&&0==n.children.length&&f.getHtmlTagDefinition(n.name).ignoreFirstLf&&(t=t.substring(1))}t.length>0&&this._addToParent(new c.HtmlTextAst(t,e.sourceSpan))},TreeBuilder.prototype._closeVoidElement=function(){if(this.elementStack.length>0){var e=s.ListWrapper.last(this.elementStack);f.getHtmlTagDefinition(e.name).isVoid&&this.elementStack.pop()}},TreeBuilder.prototype._consumeStartTag=function(e){for(var t=e.parts[0],n=e.parts[1],r=[];this.peek.type===l.HtmlTokenType.ATTR_NAME;)r.push(this._consumeAttr(this._advance()));var i=getElementFullName(t,n,this._getParentElement()),o=!1;this.peek.type===l.HtmlTokenType.TAG_OPEN_END_VOID?(this._advance(),o=!0,null!=f.getNsPrefix(i)||f.getHtmlTagDefinition(i).isVoid||this.errors.push(h.create(i,e.sourceSpan,'Only void and foreign elements can be self closed "'+e.parts[1]+'"'))):this.peek.type===l.HtmlTokenType.TAG_OPEN_END&&(this._advance(),o=!1);var a=this.peek.sourceSpan.start,s=new p.ParseSourceSpan(e.sourceSpan.start,a),u=new c.HtmlElementAst(i,r,[],s,s,null);this._pushElement(u),o&&(this._popElement(i),u.endSourceSpan=s)},TreeBuilder.prototype._pushElement=function(e){if(this.elementStack.length>0){var t=s.ListWrapper.last(this.elementStack);f.getHtmlTagDefinition(t.name).isClosedByChild(e.name)&&this.elementStack.pop()}var n=f.getHtmlTagDefinition(e.name),t=this._getParentElement();if(n.requireExtraParent(a.isPresent(t)?t.name:null)){var r=new c.HtmlElementAst(n.parentToAdd,[],[e],e.sourceSpan,e.startSourceSpan,e.endSourceSpan);this._addToParent(r),this.elementStack.push(r),this.elementStack.push(e)}else this._addToParent(e),this.elementStack.push(e)},TreeBuilder.prototype._consumeEndTag=function(e){var t=getElementFullName(e.parts[0],e.parts[1],this._getParentElement());this._getParentElement().endSourceSpan=e.sourceSpan,f.getHtmlTagDefinition(t).isVoid?this.errors.push(h.create(t,e.sourceSpan,'Void elements do not have end tags "'+e.parts[1]+'"')):this._popElement(t)||this.errors.push(h.create(t,e.sourceSpan,'Unexpected closing tag "'+e.parts[1]+'"'))},TreeBuilder.prototype._popElement=function(e){for(var t=this.elementStack.length-1;t>=0;t--){var n=this.elementStack[t];if(n.name==e)return s.ListWrapper.splice(this.elementStack,t,this.elementStack.length-t),!0;if(!f.getHtmlTagDefinition(n.name).closedByParent)return!1}return!1},TreeBuilder.prototype._consumeAttr=function(e){var t=f.mergeNsAndName(e.parts[0],e.parts[1]),n=e.sourceSpan.end,r="";if(this.peek.type===l.HtmlTokenType.ATTR_VALUE){var i=this._advance();r=i.parts[0],n=i.sourceSpan.end}return new c.HtmlAttrAst(t,r,new p.ParseSourceSpan(e.sourceSpan.start,n))},TreeBuilder.prototype._getParentElement=function(){return this.elementStack.length>0?s.ListWrapper.last(this.elementStack):null},TreeBuilder.prototype._addToParent=function(e){var t=this._getParentElement();a.isPresent(t)?t.children.push(e):this.rootNodes.push(e)},TreeBuilder}()},function(e,t){"use strict";var n=function(){function ParseLocation(e,t,n,r){this.file=e,this.offset=t,this.line=n,this.col=r}return ParseLocation.prototype.toString=function(){return this.file.url+"@"+this.line+":"+this.col},ParseLocation}();t.ParseLocation=n;var r=function(){function ParseSourceFile(e,t){this.content=e,this.url=t}return ParseSourceFile}();t.ParseSourceFile=r;var i=function(){function ParseSourceSpan(e,t){this.start=e,this.end=t}return ParseSourceSpan.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},ParseSourceSpan}();t.ParseSourceSpan=i;var o=function(){function ParseError(e,t){this.span=e,this.msg=t}return ParseError.prototype.toString=function(){var e=this.span.start.file.content,t=this.span.start.offset;t>e.length-1&&(t=e.length-1);for(var n=t,r=0,i=0;100>r&&t>0&&(t--,r++,"\n"!=e[t]||3!=++i););for(r=0,i=0;100>r&&n<e.length-1&&(n++,r++,"\n"!=e[n]||3!=++i););var o=e.substring(t,this.span.start.offset)+"[ERROR ->]"+e.substring(this.span.start.offset,n+1);return this.msg+' ("'+o+'"): '+this.span.start},ParseError}();t.ParseError=o},function(e,t,n){"use strict";function visitAndReturnContext(e,t,n){return c.templateVisitAll(e,t,n),n}function mapToKeyValueArray(e){var t=[];s.StringMapWrapper.forEach(e,function(e,n){t.push([n,e])}),s.ListWrapper.sort(t,function(e,t){return a.StringWrapper.compare(e[0],t[0])});var n=[];return t.forEach(function(e){n.push([e[0],e[1]])}),n}function mergeAttributeValue(e,t,n){return e==y||e==m?t+" "+n:n}function keyValueArrayToStringMap(e){for(var t={},n=0;n<e.length;n++){var r=e[n];t[r[0]]=r[1]}return t}function codeGenDirectivesArray(e){var t=e.map(function(e){return typeRef(e.type)});return"["+t.join(",")+"]"}function codeGenTypesArray(e){var t=e.map(typeRef);return"["+t.join(",")+"]"}function codeGenViewType(e){return a.IS_DART?""+t.VIEW_TYPE_MODULE_REF+e:""+e}function typeRef(e){return""+u.moduleRef(e.moduleUrl)+e.name}function getViewType(e,t){return t>0?p.ViewType.EMBEDDED:e.type.isHost?p.ViewType.HOST:p.ViewType.COMPONENT}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(1),s=n(3),c=n(65),u=n(64),l=n(84),p=n(85),f=n(108),h=n(41),d=n(6);t.PROTO_VIEW_JIT_IMPORTS=a.CONST_EXPR({AppProtoView:l.AppProtoView,AppProtoElement:f.AppProtoElement,ViewType:p.ViewType}),t.APP_VIEW_MODULE_REF=u.moduleRef("package:angular2/src/core/linker/view"+h.MODULE_SUFFIX),t.VIEW_TYPE_MODULE_REF=u.moduleRef("package:angular2/src/core/linker/view_type"+h.MODULE_SUFFIX),t.APP_EL_MODULE_REF=u.moduleRef("package:angular2/src/core/linker/element"+h.MODULE_SUFFIX),t.METADATA_MODULE_REF=u.moduleRef("package:angular2/src/core/metadata/view"+h.MODULE_SUFFIX);var g="$implicit",y="class",m="style",_=function(){function ProtoViewCompiler(){}return ProtoViewCompiler.prototype.compileProtoViewRuntime=function(e,t,n,r){var i=new w(e,t,r),o=[];return i.createCompileProtoView(n,[],[],o),new v([],o)},ProtoViewCompiler.prototype.compileProtoViewCodeGen=function(e,t,n,r){var i=new R(e,t,r),o=[],a=[];return i.createCompileProtoView(n,[],a,o),new v(a.map(function(e){return e.statement}),o)},ProtoViewCompiler=i([d.Injectable(),o("design:paramtypes",[])],ProtoViewCompiler)}();t.ProtoViewCompiler=_;var v=function(){function CompileProtoViews(e,t){this.declarations=e,this.protoViews=t}return CompileProtoViews}();t.CompileProtoViews=v;var b=function(){function CompileProtoView(e,t,n){this.embeddedTemplateIndex=e,this.protoElements=t,this.protoView=n}return CompileProtoView}();t.CompileProtoView=b;var C=function(){function CompileProtoElement(e,t,n,r,i,o,a){this.boundElementIndex=e,this.attrNameAndValues=t,this.variableNameAndValues=n,this.renderEvents=r,this.directives=i,this.embeddedTemplateIndex=o,this.appProtoEl=a}return CompileProtoElement}();t.CompileProtoElement=C;var P=function(){function ProtoViewFactory(e){this.component=e}return ProtoViewFactory.prototype.createCompileProtoView=function(e,t,n,r){var i=r.length;r.push(null);var o=new E(this,n,r);c.templateVisitAll(o,e);var a=getViewType(this.component,i),s=this.createAppProtoView(i,a,t,n),u=new b(i,o.protoElements,s);return r[i]=u,u},ProtoViewFactory}(),R=function(e){function CodeGenProtoViewFactory(t,n,r){e.call(this,n),this.resolvedMetadataCacheExpr=t,this.pipes=r,this._nextVarId=0}return r(CodeGenProtoViewFactory,e),CodeGenProtoViewFactory.prototype._nextProtoViewVar=function(e){return"appProtoView"+this._nextVarId++ +"_"+this.component.type.name+e},CodeGenProtoViewFactory.prototype.createAppProtoView=function(e,n,r,i){var o=this._nextProtoViewVar(e),a=codeGenViewType(n),s=0===e?codeGenTypesArray(this.pipes.map(function(e){return e.type})):null,c="var "+o+" = "+t.APP_VIEW_MODULE_REF+"AppProtoView.create("+this.resolvedMetadataCacheExpr.expression+", "+a+", "+s+", "+h.codeGenStringMap(r)+");";return i.push(new h.Statement(c)),new h.Expression(o)},CodeGenProtoViewFactory.prototype.createAppProtoElement=function(e,n,r,i,o){var a="appProtoEl"+this._nextVarId++ +"_"+this.component.type.name,s=t.APP_EL_MODULE_REF+"AppProtoElement.create(\n        "+this.resolvedMetadataCacheExpr.expression+",\n        "+e+",\n        "+h.codeGenStringMap(n)+",\n        "+codeGenDirectivesArray(i)+",\n        "+h.codeGenStringMap(r)+"\n      )",c="var "+a+" = "+s+";";return o.push(new h.Statement(c)),new h.Expression(a)},CodeGenProtoViewFactory}(P),w=function(e){function RuntimeProtoViewFactory(t,n,r){e.call(this,n),this.metadataCache=t,this.pipes=r}return r(RuntimeProtoViewFactory,e),RuntimeProtoViewFactory.prototype.createAppProtoView=function(e,t,n,r){var i=0===e?this.pipes.map(function(e){return e.type.runtime}):[],o=keyValueArrayToStringMap(n);return l.AppProtoView.create(this.metadataCache,t,i,o)},RuntimeProtoViewFactory.prototype.createAppProtoElement=function(e,t,n,r,i){var o=keyValueArrayToStringMap(t);return f.AppProtoElement.create(this.metadataCache,e,o,r.map(function(e){return e.type.runtime}),keyValueArrayToStringMap(n))},RuntimeProtoViewFactory}(P),E=function(){function ProtoViewBuilderVisitor(e,t,n){this.factory=e,this.allStatements=t,this.allProtoViews=n,this.protoElements=[],this.boundElementCount=0}return ProtoViewBuilderVisitor.prototype._readAttrNameAndValues=function(e,t){var n=visitAndReturnContext(this,t,{});return e.forEach(function(e){s.StringMapWrapper.forEach(e.hostAttributes,function(e,t){var r=n[t];n[t]=a.isPresent(r)?mergeAttributeValue(t,r,e):e})}),mapToKeyValueArray(n)},ProtoViewBuilderVisitor.prototype.visitBoundText=function(e,t){return null},ProtoViewBuilderVisitor.prototype.visitText=function(e,t){return null},ProtoViewBuilderVisitor.prototype.visitNgContent=function(e,t){return null},ProtoViewBuilderVisitor.prototype.visitElement=function(e,t){var n=this,r=null;e.isBound()&&(r=this.boundElementCount++);var i=e.getComponent(),o=[];a.isBlank(i)&&e.exportAsVars.forEach(function(e){o.push([e.name,null])});var u=[],l=visitAndReturnContext(this,e.outputs,new Map);s.ListWrapper.forEachWithIndex(e.directives,function(e,t){e.visit(n,new S(t,r,l,o,u))});var p=[];l.forEach(function(e,t){return p.push(e)});var f=this._readAttrNameAndValues(u,e.attrs);return this._addProtoElement(e.isBound(),r,f,o,p,u,null),c.templateVisitAll(this,e.children),null},ProtoViewBuilderVisitor.prototype.visitEmbeddedTemplate=function(e,t){var n=this,r=this.boundElementCount++,i=[];s.ListWrapper.forEachWithIndex(e.directives,function(e,t){e.visit(n,new S(t,r,new Map,[],i))});var o=this._readAttrNameAndValues(i,e.attrs),a=e.vars.map(function(e){return[e.value.length>0?e.value:g,e.name]}),c=this.factory.createCompileProtoView(e.children,a,this.allStatements,this.allProtoViews);return this._addProtoElement(!0,r,o,[],[],i,c.embeddedTemplateIndex),null},ProtoViewBuilderVisitor.prototype._addProtoElement=function(e,t,n,r,i,o,a){var s=null;e&&(s=this.factory.createAppProtoElement(t,n,r,o,this.allStatements));var c=new C(t,n,r,i,o,a,s);this.protoElements.push(c)},ProtoViewBuilderVisitor.prototype.visitVariable=function(e,t){return null},ProtoViewBuilderVisitor.prototype.visitAttr=function(e,t){return t[e.name]=e.value,null},ProtoViewBuilderVisitor.prototype.visitDirective=function(e,t){return t.targetDirectives.push(e.directive),c.templateVisitAll(this,e.hostEvents,t.hostEventTargetAndNames),e.exportAsVars.forEach(function(e){t.targetVariableNameAndValues.push([e.name,t.index])}),null},ProtoViewBuilderVisitor.prototype.visitEvent=function(e,t){return t.set(e.fullName,e),null},ProtoViewBuilderVisitor.prototype.visitDirectiveProperty=function(e,t){return null},ProtoViewBuilderVisitor.prototype.visitElementProperty=function(e,t){return null},ProtoViewBuilderVisitor}(),S=function(){function DirectiveContext(e,t,n,r,i){this.index=e,this.boundElementIndex=t,this.hostEventTargetAndNames=n,this.targetVariableNameAndValues=r,this.targetDirectives=i}return DirectiveContext}()},function(e,t){"use strict";var n=function(){function ElementSchemaRegistry(){}return ElementSchemaRegistry.prototype.hasProperty=function(e,t){return!0},ElementSchemaRegistry.prototype.getMappedPropName=function(e){return e},ElementSchemaRegistry}();t.ElementSchemaRegistry=n},function(e,t,n){"use strict";function isStyleUrlResolvable(e){if(r.isBlank(e)||0===e.length||"/"==e[0])return!1;var t=r.RegExpWrapper.firstMatch(a,e);return r.isBlank(t)||"package"==t[1]||"asset"==t[1]}function extractStyleUrls(e,t,n){var a=[],s=r.StringWrapper.replaceAllMapped(n,o,function(n){var i=r.isPresent(n[1])?n[1]:n[2];return isStyleUrlResolvable(i)?(a.push(e.resolve(t,i)),""):n[0]});return new i(s,a)}var r=n(1),i=function(){function StyleWithImports(e,t){this.style=e,this.styleUrls=t}return StyleWithImports}();t.StyleWithImports=i,t.isStyleUrlResolvable=isStyleUrlResolvable,t.extractStyleUrls=extractStyleUrls;var o=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,a=/^([a-zA-Z\-\+\.]+):/g},function(e,t,n){"use strict";function assertComponent(e){if(!e.isComponent)throw new a.BaseException("Could not compile '"+e.type.name+"' because it is not a component.")}function templateModuleUrl(e){var t=e.substring(0,e.length-R.MODULE_SUFFIX.length);return t+".template"+R.MODULE_SUFFIX}function codeGenHostViewFactoryName(e){return"hostViewFactory_"+e.name}function codeGenComponentViewFactoryName(e){return f.moduleRef(templateModuleUrl(e.type.moduleUrl))+"viewFactory_"+e.type.name+"0"}function mergeStringMaps(e){var t={};return e.forEach(function(e){s.StringMapWrapper.forEach(e,function(e,n){t[n]=e})}),t}function removeDuplicates(e){var t=[];return e.forEach(function(e){var n=t.filter(function(t){return t.type.name==e.type.name&&t.type.moduleUrl==e.type.moduleUrl&&t.type.runtime==e.type.runtime}).length>0;n||t.push(e)}),t}function filterPipes(e,t){var n=new A;return l.templateVisitAll(n,e),t.filter(function(e){return s.SetWrapper.has(n.collector.pipes,e.name)})}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(1),a=n(5),s=n(3),c=n(9),u=n(105),l=n(65),p=n(6),f=n(64),h=n(234),d=n(238),g=n(241),y=n(150),m=n(154),_=n(239),v=n(236),b=n(84),C=n(23),P=n(260),R=n(41);t.METADATA_CACHE_MODULE_REF=f.moduleRef("package:angular2/src/core/linker/resolved_metadata_cache"+R.MODULE_SUFFIX);var w=function(){function TemplateCompiler(e,t,n,r,i,o,a,s,c){this._runtimeMetadataResolver=e,this._templateNormalizer=t,this._templateParser=n,this._styleCompiler=r,this._cdCompiler=i,this._protoViewCompiler=o,this._viewCompiler=a,this._resolvedMetadataCache=s,this._genConfig=c,this._hostCacheKeys=new Map,this._compiledTemplateCache=new Map,this._compiledTemplateDone=new Map}return TemplateCompiler.prototype.normalizeDirectiveMetadata=function(e){return e.isComponent?this._templateNormalizer.normalizeTemplate(e.type,e.template).then(function(t){return new u.CompileDirectiveMetadata({type:e.type,isComponent:e.isComponent,dynamicLoadable:e.dynamicLoadable,selector:e.selector,exportAs:e.exportAs,changeDetection:e.changeDetection,inputs:e.inputs,outputs:e.outputs,hostListeners:e.hostListeners,hostProperties:e.hostProperties,hostAttributes:e.hostAttributes,lifecycleHooks:e.lifecycleHooks,providers:e.providers,viewProviders:e.viewProviders,queries:e.queries,viewQueries:e.viewQueries,template:t})}):c.PromiseWrapper.resolve(e)},TemplateCompiler.prototype.compileHostComponentRuntime=function(e){var t=this._runtimeMetadataResolver.getDirectiveMetadata(e),n=this._hostCacheKeys.get(e);if(o.isBlank(n)){n=new Object,this._hostCacheKeys.set(e,n),assertComponent(t);var r=u.createHostComponentMeta(t.type,t.selector);this._compileComponentRuntime(n,r,[t],[],[])}return this._compiledTemplateDone.get(n).then(function(e){return new b.HostViewFactory(t.selector,e.viewFactory)})},TemplateCompiler.prototype.clearCache=function(){this._styleCompiler.clearCache(),this._compiledTemplateCache.clear(),this._compiledTemplateDone.clear(),this._hostCacheKeys.clear()},TemplateCompiler.prototype.compileTemplatesCodeGen=function(e){var t=this;if(0===e.length)throw new a.BaseException("No components given");var n=[];e.forEach(function(e){var r=e.component;if(assertComponent(r),t._compileComponentCodeGen(r,e.directives,e.pipes,n),r.dynamicLoadable){var i=u.createHostComponentMeta(r.type,r.selector),a=t._compileComponentCodeGen(i,[r],[],n),s=o.IS_DART?"const":"new",c=s+" "+y.APP_VIEW_MODULE_REF+"HostViewFactory('"+r.selector+"',"+a+")",l=codeGenHostViewFactoryName(r.type);n.push(""+R.codeGenExportVariable(l)+c+";")}});var r=e[0].component.type.moduleUrl;return new f.SourceModule(""+templateModuleUrl(r),n.join("\n"))},TemplateCompiler.prototype.compileStylesheetCodeGen=function(e,t){return this._styleCompiler.compileStylesheetCodeGen(e,t)},TemplateCompiler.prototype._compileComponentRuntime=function(e,t,n,r,i){var a=this,s=removeDuplicates(n),u=removeDuplicates(r),l=this._compiledTemplateCache.get(e),p=this._compiledTemplateDone.get(e);return o.isBlank(l)&&(l=new S,this._compiledTemplateCache.set(e,l),p=c.PromiseWrapper.all([this._styleCompiler.compileComponentRuntime(t.template)].concat(s.map(function(e){return a.normalizeDirectiveMetadata(e)}))).then(function(e){var n=e.slice(1),r=e[0],o=a._templateParser.parse(t.template.template,n,u,t.type.name),s=[],p=D.findUsedDirectives(o);return p.components.forEach(function(e){return a._compileNestedComponentRuntime(e,i,s)}),c.PromiseWrapper.all(s).then(function(e){var n=filterPipes(o,u);return l.init(a._createViewFactoryRuntime(t,o,p.directives,r,n)),l})}),this._compiledTemplateDone.set(e,p)),l},TemplateCompiler.prototype._compileNestedComponentRuntime=function(e,t,n){var r=s.ListWrapper.clone(t),i=e.type.runtime,o=this._runtimeMetadataResolver.getViewDirectivesMetadata(e.type.runtime),a=this._runtimeMetadataResolver.getViewPipesMetadata(e.type.runtime),c=s.ListWrapper.contains(r,i);r.push(i),this._compileComponentRuntime(i,e,o,a,r),c||n.push(this._compiledTemplateDone.get(i))},TemplateCompiler.prototype._createViewFactoryRuntime=function(e,t,n,r,i){var a=this;if(o.IS_DART||!this._genConfig.useJit){var s=this._cdCompiler.compileComponentRuntime(e.type,e.changeDetection,t),c=this._protoViewCompiler.compileProtoViewRuntime(this._resolvedMetadataCache,e,t,i);return this._viewCompiler.compileComponentRuntime(e,t,r,c.protoViews,s,function(e){return a._getNestedComponentViewFactory(e)})}var u=[],l=this._createViewFactoryCodeGen("resolvedMetadataCache",e,new f.SourceExpression([],"styles"),t,i,u),p={exports:{},styles:r,resolvedMetadataCache:this._resolvedMetadataCache};n.forEach(function(t){p[t.type.name]=t.type.runtime,t.isComponent&&t.type.runtime!==e.type.runtime&&(p["viewFactory_"+t.type.name+"0"]=a._getNestedComponentViewFactory(t))}),i.forEach(function(e){return p[e.type.name]=e.type.runtime});var d=f.SourceModule.getSourceWithoutImports(u.join("\n"));return o.evalExpression("viewFactory_"+e.type.name,l,d,mergeStringMaps([p,h.CHANGE_DETECTION_JIT_IMPORTS,y.PROTO_VIEW_JIT_IMPORTS,g.VIEW_JIT_IMPORTS]))},TemplateCompiler.prototype._getNestedComponentViewFactory=function(e){return this._compiledTemplateCache.get(e.type.runtime).viewFactory},TemplateCompiler.prototype._compileComponentCodeGen=function(e,n,r,i){var o=removeDuplicates(n),a=removeDuplicates(r),s=this._styleCompiler.compileComponentCodeGen(e.template),c=this._templateParser.parse(e.template.template,o,a,e.type.name),u=filterPipes(c,a);return this._createViewFactoryCodeGen(t.METADATA_CACHE_MODULE_REF+"CODEGEN_RESOLVED_METADATA_CACHE",e,s,c,u,i)},TemplateCompiler.prototype._createViewFactoryCodeGen=function(e,t,n,r,i,o){var a=this._cdCompiler.compileComponentCodeGen(t.type,t.changeDetection,r),s=this._protoViewCompiler.compileProtoViewCodeGen(new R.Expression(e),t,r,i),c=this._viewCompiler.compileComponentCodeGen(t,r,n,s.protoViews,a,codeGenComponentViewFactoryName);return R.addAll(a.declarations,o),R.addAll(s.declarations,o),R.addAll(c.declarations,o),c.expression},TemplateCompiler=r([p.Injectable(),i("design:paramtypes",[v.RuntimeMetadataResolver,_.TemplateNormalizer,m.TemplateParser,d.StyleCompiler,h.ChangeDetectionCompiler,y.ProtoViewCompiler,g.ViewCompiler,P.ResolvedMetadataCache,C.ChangeDetectorGenConfig])],TemplateCompiler)}();t.TemplateCompiler=w;var E=function(){function NormalizedComponentWithViewDirectives(e,t,n){this.component=e,this.directives=t,
this.pipes=n}return NormalizedComponentWithViewDirectives}();t.NormalizedComponentWithViewDirectives=E;var S=function(){function CompiledTemplate(){this.viewFactory=null}return CompiledTemplate.prototype.init=function(e){this.viewFactory=e},CompiledTemplate}(),D=function(){function DirectiveCollector(){this.directives=[],this.components=[]}return DirectiveCollector.findUsedDirectives=function(e){var t=new DirectiveCollector;return l.templateVisitAll(t,e),t},DirectiveCollector.prototype.visitBoundText=function(e,t){return null},DirectiveCollector.prototype.visitText=function(e,t){return null},DirectiveCollector.prototype.visitNgContent=function(e,t){return null},DirectiveCollector.prototype.visitElement=function(e,t){return l.templateVisitAll(this,e.directives),l.templateVisitAll(this,e.children),null},DirectiveCollector.prototype.visitEmbeddedTemplate=function(e,t){return l.templateVisitAll(this,e.directives),l.templateVisitAll(this,e.children),null},DirectiveCollector.prototype.visitVariable=function(e,t){return null},DirectiveCollector.prototype.visitAttr=function(e,t){return null},DirectiveCollector.prototype.visitDirective=function(e,t){return e.directive.isComponent&&this.components.push(e.directive),this.directives.push(e.directive),null},DirectiveCollector.prototype.visitEvent=function(e,t){return null},DirectiveCollector.prototype.visitDirectiveProperty=function(e,t){return null},DirectiveCollector.prototype.visitElementProperty=function(e,t){return null},DirectiveCollector}(),A=function(){function PipeVisitor(){this.collector=new m.PipeCollector}return PipeVisitor.prototype.visitBoundText=function(e,t){return e.value.visit(this.collector),null},PipeVisitor.prototype.visitText=function(e,t){return null},PipeVisitor.prototype.visitNgContent=function(e,t){return null},PipeVisitor.prototype.visitElement=function(e,t){return l.templateVisitAll(this,e.inputs),l.templateVisitAll(this,e.outputs),l.templateVisitAll(this,e.directives),l.templateVisitAll(this,e.children),null},PipeVisitor.prototype.visitEmbeddedTemplate=function(e,t){return l.templateVisitAll(this,e.outputs),l.templateVisitAll(this,e.directives),l.templateVisitAll(this,e.children),null},PipeVisitor.prototype.visitVariable=function(e,t){return null},PipeVisitor.prototype.visitAttr=function(e,t){return null},PipeVisitor.prototype.visitDirective=function(e,t){return l.templateVisitAll(this,e.inputs),l.templateVisitAll(this,e.hostEvents),l.templateVisitAll(this,e.hostProperties),null},PipeVisitor.prototype.visitEvent=function(e,t){return e.handler.visit(this.collector),null},PipeVisitor.prototype.visitDirectiveProperty=function(e,t){return e.value.visit(this.collector),null},PipeVisitor.prototype.visitElementProperty=function(e,t){return e.value.visit(this.collector),null},PipeVisitor}()},function(e,t,n){"use strict";function splitClasses(e){return c.StringWrapper.split(e.trim(),/\s+/g)}function createElementCssSelector(e,t){var n=new _.CssSelector,r=d.splitNsName(e)[1];n.setElement(r);for(var i=0;i<t.length;i++){var o=t[i][0],a=d.splitNsName(o)[1],s=t[i][1];if(n.addAttribute(a,s),o.toLowerCase()==A){var c=splitClasses(s);c.forEach(function(e){return n.addClassName(e)})}}return n}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(3),c=n(1),u=n(4),l=n(1),p=n(5),f=n(23),h=n(148),d=n(78),g=n(149),y=n(106),m=n(65),_=n(237),v=n(151),b=n(240),C=n(152),P=n(147),R=n(41),w=/^(?:(?:(?:(bind-)|(var-|#)|(on-)|(bindon-))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/g,E="template",S="template",D="*",A="class",x=".",O="attr",T="class",N="style",M=_.CssSelector.parse("*")[0];t.TEMPLATE_TRANSFORMS=l.CONST_EXPR(new u.OpaqueToken("TemplateTransforms"));var I=function(e){function TemplateParseError(t,n){e.call(this,n,t)}return r(TemplateParseError,e),TemplateParseError}(g.ParseError);t.TemplateParseError=I;var k=function(){function TemplateParseResult(e,t){this.templateAst=e,this.errors=t}return TemplateParseResult}();t.TemplateParseResult=k;var V=function(){function TemplateParser(e,t,n,r){this._exprParser=e,this._schemaRegistry=t,this._htmlParser=n,this.transforms=r}return TemplateParser.prototype.parse=function(e,t,n,r){var i=this.tryParse(e,t,n,r);if(c.isPresent(i.errors)){var o=i.errors.join("\n");throw new p.BaseException("Template parse errors:\n"+o)}return i.templateAst},TemplateParser.prototype.tryParse=function(e,t,n,r){var i=new j(t,n,this._exprParser,this._schemaRegistry),o=this._htmlParser.parse(e,r),a=P.htmlVisitAll(i,o.rootNodes,W),s=o.errors.concat(i.errors);return s.length>0?new k(a,s):(c.isPresent(this.transforms)&&this.transforms.forEach(function(e){a=m.templateVisitAll(e,a)}),new k(a))},TemplateParser=i([u.Injectable(),a(3,u.Optional()),a(3,u.Inject(t.TEMPLATE_TRANSFORMS)),o("design:paramtypes",[f.Parser,v.ElementSchemaRegistry,h.HtmlParser,Array])],TemplateParser)}();t.TemplateParser=V;var j=function(){function TemplateParseVisitor(e,t,n,r){var i=this;this._exprParser=n,this._schemaRegistry=r,this.errors=[],this.directivesIndex=new Map,this.ngContentCount=0,this.selectorMatcher=new _.SelectorMatcher,s.ListWrapper.forEachWithIndex(e,function(e,t){var n=_.CssSelector.parse(e.selector);i.selectorMatcher.addSelectables(n,e),i.directivesIndex.set(e,t)}),this.pipesByName=new Map,t.forEach(function(e){return i.pipesByName.set(e.name,e)})}return TemplateParseVisitor.prototype._reportError=function(e,t){this.errors.push(new I(e,t))},TemplateParseVisitor.prototype._parseInterpolation=function(e,t){var n=t.start.toString();try{var r=this._exprParser.parseInterpolation(e,n);return this._checkPipes(r,t),r}catch(i){return this._reportError(""+i,t),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},TemplateParseVisitor.prototype._parseAction=function(e,t){var n=t.start.toString();try{var r=this._exprParser.parseAction(e,n);return this._checkPipes(r,t),r}catch(i){return this._reportError(""+i,t),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},TemplateParseVisitor.prototype._parseBinding=function(e,t){var n=t.start.toString();try{var r=this._exprParser.parseBinding(e,n);return this._checkPipes(r,t),r}catch(i){return this._reportError(""+i,t),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},TemplateParseVisitor.prototype._parseTemplateBindings=function(e,t){var n=this,r=t.start.toString();try{var i=this._exprParser.parseTemplateBindings(e,r);return i.forEach(function(e){c.isPresent(e.expression)&&n._checkPipes(e.expression,t)}),i}catch(o){return this._reportError(""+o,t),[]}},TemplateParseVisitor.prototype._checkPipes=function(e,t){var n=this;if(c.isPresent(e)){var r=new H;e.visit(r),r.pipes.forEach(function(e){n.pipesByName.has(e)||n._reportError("The pipe '"+e+"' could not be found",t)})}},TemplateParseVisitor.prototype.visitText=function(e,t){var n=t.findNgContentIndex(M),r=this._parseInterpolation(e.value,e.sourceSpan);return c.isPresent(r)?new m.BoundTextAst(r,n,e.sourceSpan):new m.TextAst(e.value,n,e.sourceSpan)},TemplateParseVisitor.prototype.visitAttr=function(e,t){return new m.AttrAst(e.name,e.value,e.sourceSpan)},TemplateParseVisitor.prototype.visitComment=function(e,t){return null},TemplateParseVisitor.prototype.visitElement=function(e,t){var n=this,r=e.name,i=b.preparseElement(e);if(i.type===b.PreparsedElementType.SCRIPT||i.type===b.PreparsedElementType.STYLE)return null;if(i.type===b.PreparsedElementType.STYLESHEET&&C.isStyleUrlResolvable(i.hrefAttr))return null;var o=[],a=[],s=[],u=[],l=[],p=[],f=[],h=!1,g=[];e.attrs.forEach(function(e){var t=n._parseAttr(e,o,a,u,s),r=n._parseInlineTemplateBinding(e,f,l,p);t||r||(g.push(n.visitAttr(e,null)),o.push([e.name,e.value])),r&&(h=!0)});var y,v=d.splitNsName(r.toLowerCase())[1],R=v==E,w=createElementCssSelector(r,o),S=this._createDirectiveAsts(e.name,this._parseDirectives(this.selectorMatcher,w),a,R?[]:s,e.sourceSpan),D=this._createElementPropertyAsts(e.name,a,S),A=P.htmlVisitAll(i.nonBindable?U:this,e.children,F.create(S)),x=c.isPresent(i.projectAs)?_.CssSelector.parse(i.projectAs)[0]:w,O=t.findNgContentIndex(x);if(i.type===b.PreparsedElementType.NG_CONTENT)c.isPresent(e.children)&&e.children.length>0&&this._reportError("<ng-content> element cannot have content. <ng-content> must be immediately followed by </ng-content>",e.sourceSpan),y=new m.NgContentAst(this.ngContentCount++,h?null:O,e.sourceSpan);else if(R)this._assertAllEventsPublishedByDirectives(S,u),this._assertNoComponentsNorElementBindingsOnTemplate(S,D,e.sourceSpan),y=new m.EmbeddedTemplateAst(g,u,s,S,A,h?null:O,e.sourceSpan);else{this._assertOnlyOneComponent(S,e.sourceSpan);var T=s.filter(function(e){return 0===e.value.length}),N=h?null:t.findNgContentIndex(x);y=new m.ElementAst(r,g,D,u,T,S,A,h?null:N,e.sourceSpan)}if(h){var M=createElementCssSelector(E,f),I=this._createDirectiveAsts(e.name,this._parseDirectives(this.selectorMatcher,M),l,[],e.sourceSpan),k=this._createElementPropertyAsts(e.name,l,I);this._assertNoComponentsNorElementBindingsOnTemplate(I,k,e.sourceSpan),y=new m.EmbeddedTemplateAst([],[],p,I,[y],O,e.sourceSpan)}return y},TemplateParseVisitor.prototype._parseInlineTemplateBinding=function(e,t,n,r){var i=null;if(e.name==S)i=e.value;else if(e.name.startsWith(D)){var o=e.name.substring(D.length);i=0==e.value.length?o:o+" "+e.value}if(c.isPresent(i)){for(var a=this._parseTemplateBindings(i,e.sourceSpan),s=0;s<a.length;s++){var u=a[s];u.keyIsVar?(r.push(new m.VariableAst(u.key,u.name,e.sourceSpan)),t.push([u.key,u.name])):c.isPresent(u.expression)?this._parsePropertyAst(u.key,u.expression,e.sourceSpan,t,n):(t.push([u.key,""]),this._parseLiteralAttr(u.key,null,e.sourceSpan,n))}return!0}return!1},TemplateParseVisitor.prototype._parseAttr=function(e,t,n,r,i){var o=this._normalizeAttributeName(e.name),a=e.value,s=c.RegExpWrapper.firstMatch(w,o),u=!1;if(c.isPresent(s))if(u=!0,c.isPresent(s[1]))this._parseProperty(s[5],a,e.sourceSpan,t,n);else if(c.isPresent(s[2])){var l=s[5];this._parseVariable(l,a,e.sourceSpan,i)}else c.isPresent(s[3])?this._parseEvent(s[5],a,e.sourceSpan,t,r):c.isPresent(s[4])?(this._parseProperty(s[5],a,e.sourceSpan,t,n),this._parseAssignmentEvent(s[5],a,e.sourceSpan,t,r)):c.isPresent(s[6])?(this._parseProperty(s[6],a,e.sourceSpan,t,n),this._parseAssignmentEvent(s[6],a,e.sourceSpan,t,r)):c.isPresent(s[7])?this._parseProperty(s[7],a,e.sourceSpan,t,n):c.isPresent(s[8])&&this._parseEvent(s[8],a,e.sourceSpan,t,r);else u=this._parsePropertyInterpolation(o,a,e.sourceSpan,t,n);return u||this._parseLiteralAttr(o,a,e.sourceSpan,n),u},TemplateParseVisitor.prototype._normalizeAttributeName=function(e){return e.toLowerCase().startsWith("data-")?e.substring(5):e},TemplateParseVisitor.prototype._parseVariable=function(e,t,n,r){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',n),r.push(new m.VariableAst(e,t,n))},TemplateParseVisitor.prototype._parseProperty=function(e,t,n,r,i){this._parsePropertyAst(e,this._parseBinding(t,n),n,r,i)},TemplateParseVisitor.prototype._parsePropertyInterpolation=function(e,t,n,r,i){var o=this._parseInterpolation(t,n);return c.isPresent(o)?(this._parsePropertyAst(e,o,n,r,i),!0):!1},TemplateParseVisitor.prototype._parsePropertyAst=function(e,t,n,r,i){r.push([e,t.source]),i.push(new L(e,t,!1,n))},TemplateParseVisitor.prototype._parseAssignmentEvent=function(e,t,n,r,i){this._parseEvent(e+"Change",t+"=$event",n,r,i)},TemplateParseVisitor.prototype._parseEvent=function(e,t,n,r,i){var o=R.splitAtColon(e,[null,e]),a=o[0],s=o[1],c=this._parseAction(t,n);r.push([e,c.source]),i.push(new m.BoundEventAst(s,a,c,n))},TemplateParseVisitor.prototype._parseLiteralAttr=function(e,t,n,r){r.push(new L(e,this._exprParser.wrapLiteralPrimitive(t,""),!0,n))},TemplateParseVisitor.prototype._parseDirectives=function(e,t){var n=this,r=[];return e.match(t,function(e,t){r.push(t)}),s.ListWrapper.sort(r,function(e,t){var r=e.isComponent,i=t.isComponent;return r&&!i?-1:!r&&i?1:n.directivesIndex.get(e)-n.directivesIndex.get(t)}),r},TemplateParseVisitor.prototype._createDirectiveAsts=function(e,t,n,r,i){var o=this,a=new Set,c=t.map(function(t){var s=[],c=[],u=[];o._createDirectiveHostPropertyAsts(e,t.hostProperties,i,s),o._createDirectiveHostEventAsts(t.hostListeners,i,c),o._createDirectivePropertyAsts(t.inputs,n,u);var l=[];return r.forEach(function(e){(0===e.value.length&&t.isComponent||t.exportAs==e.value)&&(l.push(e),a.add(e.name))}),new m.DirectiveAst(t,u,s,c,l,i)});return r.forEach(function(e){e.value.length>0&&!s.SetWrapper.has(a,e.name)&&o._reportError('There is no directive with "exportAs" set to "'+e.value+'"',e.sourceSpan)}),c},TemplateParseVisitor.prototype._createDirectiveHostPropertyAsts=function(e,t,n,r){var i=this;c.isPresent(t)&&s.StringMapWrapper.forEach(t,function(t,o){var a=i._parseBinding(t,n);r.push(i._createElementPropertyAst(e,o,a,n))})},TemplateParseVisitor.prototype._createDirectiveHostEventAsts=function(e,t,n){var r=this;c.isPresent(e)&&s.StringMapWrapper.forEach(e,function(e,i){r._parseEvent(i,e,t,[],n)})},TemplateParseVisitor.prototype._createDirectivePropertyAsts=function(e,t,n){if(c.isPresent(e)){var r=new Map;t.forEach(function(e){var t=r.get(e.name);(c.isBlank(t)||t.isLiteral)&&r.set(e.name,e)}),s.StringMapWrapper.forEach(e,function(e,t){var i=r.get(e);c.isPresent(i)&&n.push(new m.BoundDirectivePropertyAst(t,i.name,i.expression,i.sourceSpan))})}},TemplateParseVisitor.prototype._createElementPropertyAsts=function(e,t,n){var r=this,i=[],o=new Map;return n.forEach(function(e){e.inputs.forEach(function(e){o.set(e.templateName,e)})}),t.forEach(function(t){!t.isLiteral&&c.isBlank(o.get(t.name))&&i.push(r._createElementPropertyAst(e,t.name,t.expression,t.sourceSpan))}),i},TemplateParseVisitor.prototype._createElementPropertyAst=function(e,t,n,r){var i,o,a=null,s=t.split(x);if(1===s.length)o=this._schemaRegistry.getMappedPropName(s[0]),i=m.PropertyBindingType.Property,this._schemaRegistry.hasProperty(e,o)||this._reportError("Can't bind to '"+o+"' since it isn't a known native property",r);else if(s[0]==O){o=s[1];var c=o.indexOf(":");if(c>-1){var u=o.substring(0,c),l=o.substring(c+1);o=d.mergeNsAndName(u,l)}i=m.PropertyBindingType.Attribute}else s[0]==T?(o=s[1],i=m.PropertyBindingType.Class):s[0]==N?(a=s.length>2?s[2]:null,o=s[1],i=m.PropertyBindingType.Style):(this._reportError("Invalid property name '"+t+"'",r),i=null);return new m.BoundElementPropertyAst(o,i,n,a,r)},TemplateParseVisitor.prototype._findComponentDirectiveNames=function(e){var t=[];return e.forEach(function(e){var n=e.directive.type.name;e.directive.isComponent&&t.push(n)}),t},TemplateParseVisitor.prototype._assertOnlyOneComponent=function(e,t){var n=this._findComponentDirectiveNames(e);n.length>1&&this._reportError("More than one component: "+n.join(","),t)},TemplateParseVisitor.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(e,t,n){var r=this,i=this._findComponentDirectiveNames(e);i.length>0&&this._reportError("Components on an embedded template: "+i.join(","),n),t.forEach(function(e){r._reportError("Property binding "+e.name+" not used by any directive on an embedded template",n)})},TemplateParseVisitor.prototype._assertAllEventsPublishedByDirectives=function(e,t){var n=this,r=new Set;e.forEach(function(e){s.StringMapWrapper.forEach(e.directive.outputs,function(e,t){r.add(e)})}),t.forEach(function(e){!c.isPresent(e.target)&&s.SetWrapper.has(r,e.name)||n._reportError("Event binding "+e.fullName+" not emitted by any directive on an embedded template",e.sourceSpan)})},TemplateParseVisitor}(),B=function(){function NonBindableVisitor(){}return NonBindableVisitor.prototype.visitElement=function(e,t){var n=b.preparseElement(e);if(n.type===b.PreparsedElementType.SCRIPT||n.type===b.PreparsedElementType.STYLE||n.type===b.PreparsedElementType.STYLESHEET)return null;var r=e.attrs.map(function(e){return[e.name,e.value]}),i=createElementCssSelector(e.name,r),o=t.findNgContentIndex(i),a=P.htmlVisitAll(this,e.children,W);return new m.ElementAst(e.name,P.htmlVisitAll(this,e.attrs),[],[],[],[],a,o,e.sourceSpan)},NonBindableVisitor.prototype.visitComment=function(e,t){return null},NonBindableVisitor.prototype.visitAttr=function(e,t){return new m.AttrAst(e.name,e.value,e.sourceSpan)},NonBindableVisitor.prototype.visitText=function(e,t){var n=t.findNgContentIndex(M);return new m.TextAst(e.value,n,e.sourceSpan)},NonBindableVisitor}(),L=function(){function BoundElementOrDirectiveProperty(e,t,n,r){this.name=e,this.expression=t,this.isLiteral=n,this.sourceSpan=r}return BoundElementOrDirectiveProperty}();t.splitClasses=splitClasses;var F=function(){function Component(e,t){this.ngContentIndexMatcher=e,this.wildcardNgContentIndex=t}return Component.create=function(e){if(0===e.length||!e[0].directive.isComponent)return W;for(var t=new _.SelectorMatcher,n=e[0].directive.template.ngContentSelectors,r=null,i=0;i<n.length;i++){var o=n[i];c.StringWrapper.equals(o,"*")?r=i:t.addSelectables(_.CssSelector.parse(n[i]),i)}return new Component(t,r)},Component.prototype.findNgContentIndex=function(e){var t=[];return this.ngContentIndexMatcher.match(e,function(e,n){t.push(n)}),s.ListWrapper.sort(t),c.isPresent(this.wildcardNgContentIndex)&&t.push(this.wildcardNgContentIndex),t.length>0?t[0]:null},Component}(),W=new F(new _.SelectorMatcher,null),U=new B,H=function(e){function PipeCollector(){e.apply(this,arguments),this.pipes=new Set}return r(PipeCollector,e),PipeCollector.prototype.visitPipe=function(e){return this.pipes.add(e.name),e.exp.visit(this),this.visitAll(e.args),null},PipeCollector}(y.RecursiveAstVisitor);t.PipeCollector=H},function(e,t,n){"use strict";var r=n(1),i=n(3),o=n(67),a=n(246),s=n(253),c=n(255),u=n(42),l=n(169),p=n(9),f=l.wtfCreateScope("ChangeDetector#check(ascii id, bool throwOnChange)"),h=function(){function _Context(e,t,n,r,i,o){this.element=e,this.componentElement=t,this.context=n,this.locals=r,this.injector=i,this.expression=o}return _Context}(),d=function(){function AbstractChangeDetector(e,t,n,r,i){this.id=e,this.numberOfPropertyProtoRecords=t,this.bindingTargets=n,this.directiveIndices=r,this.strategy=i,this.contentChildren=[],this.viewChildren=[],this.state=u.ChangeDetectorState.NeverChecked,this.locals=null,this.mode=null,this.pipes=null,this.ref=new a.ChangeDetectorRef_(this)}return AbstractChangeDetector.prototype.addContentChild=function(e){this.contentChildren.push(e),e.parent=this},AbstractChangeDetector.prototype.removeContentChild=function(e){i.ListWrapper.remove(this.contentChildren,e)},AbstractChangeDetector.prototype.addViewChild=function(e){this.viewChildren.push(e),e.parent=this},AbstractChangeDetector.prototype.removeViewChild=function(e){i.ListWrapper.remove(this.viewChildren,e)},AbstractChangeDetector.prototype.remove=function(){this.parent.removeContentChild(this)},AbstractChangeDetector.prototype.handleEvent=function(e,t,n){this.hydrated()||this.throwDehydratedError(this.id+" -> "+e);try{var i=new Map;i.set("$event",n);var o=!this.handleEventInternal(e,t,new c.Locals(this.locals,i));return this.markPathToRootAsCheckOnce(),o}catch(a){var u=this.dispatcher.getDebugContext(null,t,null),l=r.isPresent(u)?new s.EventEvaluationErrorContext(u.element,u.componentElement,u.context,u.locals,u.injector):null;throw new s.EventEvaluationError(e,a,a.stack,l)}},AbstractChangeDetector.prototype.handleEventInternal=function(e,t,n){return!1},AbstractChangeDetector.prototype.detectChanges=function(){this.runDetectChanges(!1)},AbstractChangeDetector.prototype.checkNoChanges=function(){r.assertionsEnabled()&&this.runDetectChanges(!0)},AbstractChangeDetector.prototype.runDetectChanges=function(e){if(this.mode!==u.ChangeDetectionStrategy.Detached&&this.mode!==u.ChangeDetectionStrategy.Checked&&this.state!==u.ChangeDetectorState.Errored){var t=f(this.id,e);this.detectChangesInRecords(e),this._detectChangesContentChildren(e),e||this.afterContentLifecycleCallbacks(),this._detectChangesInViewChildren(e),e||this.afterViewLifecycleCallbacks(),this.mode===u.ChangeDetectionStrategy.CheckOnce&&(this.mode=u.ChangeDetectionStrategy.Checked),this.state=u.ChangeDetectorState.CheckedBefore,l.wtfLeave(t)}},AbstractChangeDetector.prototype.detectChangesInRecords=function(e){this.hydrated()||this.throwDehydratedError(this.id);try{this.detectChangesInRecordsInternal(e)}catch(t){t instanceof s.ExpressionChangedAfterItHasBeenCheckedException||(this.state=u.ChangeDetectorState.Errored),this._throwError(t,t.stack)}},AbstractChangeDetector.prototype.detectChangesInRecordsInternal=function(e){},AbstractChangeDetector.prototype.hydrate=function(e,t,n,r){this.dispatcher=n,this.mode=o.ChangeDetectionUtil.changeDetectionMode(this.strategy),this.context=e,this.locals=t,this.pipes=r,this.hydrateDirectives(n),this.state=u.ChangeDetectorState.NeverChecked},AbstractChangeDetector.prototype.hydrateDirectives=function(e){},AbstractChangeDetector.prototype.dehydrate=function(){this.dehydrateDirectives(!0),this._unsubscribeFromOutputs(),this.dispatcher=null,this.context=null,this.locals=null,this.pipes=null},AbstractChangeDetector.prototype.dehydrateDirectives=function(e){},AbstractChangeDetector.prototype.hydrated=function(){return r.isPresent(this.context)},AbstractChangeDetector.prototype.destroyRecursive=function(){this.dispatcher.notifyOnDestroy(),this.dehydrate();for(var e=this.contentChildren,t=0;t<e.length;t++)e[t].destroyRecursive();e=this.viewChildren;for(var t=0;t<e.length;t++)e[t].destroyRecursive()},AbstractChangeDetector.prototype.afterContentLifecycleCallbacks=function(){this.dispatcher.notifyAfterContentChecked(),this.afterContentLifecycleCallbacksInternal()},AbstractChangeDetector.prototype.afterContentLifecycleCallbacksInternal=function(){},AbstractChangeDetector.prototype.afterViewLifecycleCallbacks=function(){this.dispatcher.notifyAfterViewChecked(),this.afterViewLifecycleCallbacksInternal()},AbstractChangeDetector.prototype.afterViewLifecycleCallbacksInternal=function(){},AbstractChangeDetector.prototype._detectChangesContentChildren=function(e){for(var t=this.contentChildren,n=0;n<t.length;++n)t[n].runDetectChanges(e)},AbstractChangeDetector.prototype._detectChangesInViewChildren=function(e){for(var t=this.viewChildren,n=0;n<t.length;++n)t[n].runDetectChanges(e)},AbstractChangeDetector.prototype.markAsCheckOnce=function(){this.mode=u.ChangeDetectionStrategy.CheckOnce},AbstractChangeDetector.prototype.markPathToRootAsCheckOnce=function(){for(var e=this;r.isPresent(e)&&e.mode!==u.ChangeDetectionStrategy.Detached;)e.mode===u.ChangeDetectionStrategy.Checked&&(e.mode=u.ChangeDetectionStrategy.CheckOnce),e=e.parent},AbstractChangeDetector.prototype._unsubscribeFromOutputs=function(){if(r.isPresent(this.outputSubscriptions))for(var e=0;e<this.outputSubscriptions.length;++e)p.ObservableWrapper.dispose(this.outputSubscriptions[e]),this.outputSubscriptions[e]=null},AbstractChangeDetector.prototype.getDirectiveFor=function(e,t){return e.getDirectiveFor(this.directiveIndices[t])},AbstractChangeDetector.prototype.getDetectorFor=function(e,t){return e.getDetectorFor(this.directiveIndices[t])},AbstractChangeDetector.prototype.notifyDispatcher=function(e){this.dispatcher.notifyOnBinding(this._currentBinding(),e)},AbstractChangeDetector.prototype.logBindingUpdate=function(e){this.dispatcher.logBindingUpdate(this._currentBinding(),e)},AbstractChangeDetector.prototype.addChange=function(e,t,n){return r.isBlank(e)&&(e={}),e[this._currentBinding().name]=o.ChangeDetectionUtil.simpleChange(t,n),e},AbstractChangeDetector.prototype._throwError=function(e,t){var n;try{var i=this.dispatcher.getDebugContext(null,this._currentBinding().elementIndex,null),o=r.isPresent(i)?new h(i.element,i.componentElement,i.context,i.locals,i.injector,this._currentBinding().debug):null;n=new s.ChangeDetectionError(this._currentBinding().debug,e,t,o)}catch(a){n=new s.ChangeDetectionError(null,e,t,null)}throw n},AbstractChangeDetector.prototype.throwOnChangeError=function(e,t){throw new s.ExpressionChangedAfterItHasBeenCheckedException(this._currentBinding().debug,e,t,null)},AbstractChangeDetector.prototype.throwDehydratedError=function(e){throw new s.DehydratedException(e)},AbstractChangeDetector.prototype._currentBinding=function(){return this.bindingTargets[this.propertyBindingIndex]},AbstractChangeDetector}();t.AbstractChangeDetector=d},function(e,t,n){"use strict";var r=n(1),i=n(42),o=function(){function DirectiveIndex(e,t){this.elementIndex=e,this.directiveIndex=t}return Object.defineProperty(DirectiveIndex.prototype,"name",{get:function(){return this.elementIndex+"_"+this.directiveIndex},enumerable:!0,configurable:!0}),DirectiveIndex}();t.DirectiveIndex=o;var a=function(){function DirectiveRecord(e){var t=void 0===e?{}:e,n=t.directiveIndex,i=t.callAfterContentInit,o=t.callAfterContentChecked,a=t.callAfterViewInit,s=t.callAfterViewChecked,c=t.callOnChanges,u=t.callDoCheck,l=t.callOnInit,p=t.callOnDestroy,f=t.changeDetection,h=t.outputs;this.directiveIndex=n,this.callAfterContentInit=r.normalizeBool(i),this.callAfterContentChecked=r.normalizeBool(o),this.callOnChanges=r.normalizeBool(c),this.callAfterViewInit=r.normalizeBool(a),this.callAfterViewChecked=r.normalizeBool(s),this.callDoCheck=r.normalizeBool(u),this.callOnInit=r.normalizeBool(l),this.callOnDestroy=r.normalizeBool(p),this.changeDetection=f,this.outputs=h}return DirectiveRecord.prototype.isDefaultChangeDetection=function(){return i.isDefaultChangeDetectionStrategy(this.changeDetection)},DirectiveRecord}();t.DirectiveRecord=a},function(e,t){"use strict";var n=function(){function DebugContext(e,t,n,r,i,o){this.element=e,this.componentElement=t,this.directive=n,this.context=r,this.locals=i,this.injector=o}return DebugContext}();t.DebugContext=n;var r=function(){function ChangeDetectorGenConfig(e,t,n){this.genDebugInfo=e,this.logBindingUpdate=t,this.useJit=n}return ChangeDetectorGenConfig}();t.ChangeDetectorGenConfig=r;var i=function(){function ChangeDetectorDefinition(e,t,n,r,i,o,a){this.id=e,this.strategy=t,this.variableNames=n,this.bindingRecords=r,this.eventRecords=i,this.directiveRecords=o,this.genConfig=a}return ChangeDetectorDefinition}();t.ChangeDetectorDefinition=i},function(e,t,n){"use strict";function asNativeElements(e){return e.map(function(e){return e.nativeElement})}function _queryElementChildren(e,t,n){e.childNodes.forEach(function(e){e instanceof c&&(t(e)&&n.push(e),_queryElementChildren(e,t,n))})}function _queryNodeChildren(e,t,n){e instanceof c&&e.childNodes.forEach(function(e){t(e)&&n.push(e),e instanceof c&&_queryNodeChildren(e,t,n)})}function getDebugNode(e){return u.get(e)}function getAllDebugNodes(){return o.MapWrapper.values(u)}function indexDebugNode(e){u.set(e.nativeNode,e)}function removeDebugNodeFromIndex(e){u.delete(e.nativeNode)}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(1),o=n(3),a=function(){function EventListener(e,t){this.name=e,this.callback=t}return EventListener}();t.EventListener=a;var s=function(){function DebugNode(e,t){this.nativeNode=e,i.isPresent(t)&&t instanceof c?t.addChild(this):this.parent=null,this.listeners=[],this.providerTokens=[]}return DebugNode.prototype.setDebugInfo=function(e){this.injector=e.injector,this.providerTokens=e.providerTokens,this.locals=e.locals,this.componentInstance=e.component},DebugNode.prototype.inject=function(e){return this.injector.get(e)},DebugNode.prototype.getLocal=function(e){return this.locals.get(e)},DebugNode}();t.DebugNode=s;var c=function(e){function DebugElement(t,n){e.call(this,t,n),this.properties=new Map,this.attributes=new Map,this.childNodes=[],this.nativeElement=t}return r(DebugElement,e),DebugElement.prototype.addChild=function(e){i.isPresent(e)&&(this.childNodes.push(e),e.parent=this)},DebugElement.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))},DebugElement.prototype.insertChildrenAfter=function(e,t){var n=this.childNodes.indexOf(e);if(-1!==n){var r=this.childNodes.slice(0,n+1),a=this.childNodes.slice(n+1);this.childNodes=o.ListWrapper.concat(o.ListWrapper.concat(r,t),a);for(var s=0;s<t.length;++s){var c=t[s];i.isPresent(c.parent)&&c.parent.removeChild(c),c.parent=this}}},DebugElement.prototype.query=function(e){var t=this.queryAll(e);return t.length>0?t[0]:null},DebugElement.prototype.queryAll=function(e){var t=[];return _queryElementChildren(this,e,t),t},DebugElement.prototype.queryAllNodes=function(e){var t=[];return _queryNodeChildren(this,e,t),t},Object.defineProperty(DebugElement.prototype,"children",{get:function(){var e=[];return this.childNodes.forEach(function(t){t instanceof DebugElement&&e.push(t)}),e},enumerable:!0,configurable:!0}),DebugElement.prototype.triggerEventHandler=function(e,t){this.listeners.forEach(function(n){n.name==e&&n.callback(t)})},DebugElement}(s);t.DebugElement=c,t.asNativeElements=asNativeElements;var u=new Map;t.getDebugNode=getDebugNode,t.getAllDebugNodes=getAllDebugNodes,t.indexDebugNode=indexDebugNode,t.removeDebugNodeFromIndex=removeDebugNodeFromIndex},function(e,t,n){"use strict";var r=n(68),i=n(88);t.Inject=i.makeParamDecorator(r.InjectMetadata),t.Optional=i.makeParamDecorator(r.OptionalMetadata),t.Injectable=i.makeDecorator(r.InjectableMetadata),t.Self=i.makeParamDecorator(r.SelfMetadata),t.Host=i.makeParamDecorator(r.HostMetadata),t.SkipSelf=i.makeParamDecorator(r.SkipSelfMetadata)},function(e,t,n){"use strict";function findFirstClosedCycle(e){for(var t=[],n=0;n<e.length;++n){if(i.ListWrapper.contains(t,e[n]))return t.push(e[n]),t;t.push(e[n])}return t}function constructResolvingPath(e){if(e.length>1){var t=findFirstClosedCycle(i.ListWrapper.reversed(e)),n=t.map(function(e){return o.stringify(e.token)});return" ("+n.join(" -> ")+")"}return""}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(3),o=n(1),a=n(5),s=function(e){function AbstractProviderError(t,n,r){e.call(this,"DI Exception"),this.keys=[n],this.injectors=[t],this.constructResolvingMessage=r,this.message=this.constructResolvingMessage(this.keys)}return r(AbstractProviderError,e),AbstractProviderError.prototype.addKey=function(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)},Object.defineProperty(AbstractProviderError.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext()},enumerable:!0,configurable:!0}),AbstractProviderError}(a.BaseException);t.AbstractProviderError=s;var c=function(e){function NoProviderError(t,n){e.call(this,t,n,function(e){var t=o.stringify(i.ListWrapper.first(e).token);return"No provider for "+t+"!"+constructResolvingPath(e)})}return r(NoProviderError,e),NoProviderError}(s);t.NoProviderError=c;var u=function(e){function CyclicDependencyError(t,n){e.call(this,t,n,function(e){return"Cannot instantiate cyclic dependency!"+constructResolvingPath(e)})}return r(CyclicDependencyError,e),CyclicDependencyError}(s);t.CyclicDependencyError=u;var l=function(e){function InstantiationError(t,n,r,i){e.call(this,"DI Exception",n,r,null),this.keys=[i],this.injectors=[t]}return r(InstantiationError,e),InstantiationError.prototype.addKey=function(e,t){this.injectors.push(e),this.keys.push(t)},Object.defineProperty(InstantiationError.prototype,"wrapperMessage",{
get:function(){var e=o.stringify(i.ListWrapper.first(this.keys).token);return"Error during instantiation of "+e+"!"+constructResolvingPath(this.keys)+"."},enumerable:!0,configurable:!0}),Object.defineProperty(InstantiationError.prototype,"causeKey",{get:function(){return this.keys[0]},enumerable:!0,configurable:!0}),Object.defineProperty(InstantiationError.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext()},enumerable:!0,configurable:!0}),InstantiationError}(a.WrappedException);t.InstantiationError=l;var p=function(e){function InvalidProviderError(t){e.call(this,"Invalid provider - only instances of Provider and Type are allowed, got: "+t.toString())}return r(InvalidProviderError,e),InvalidProviderError}(a.BaseException);t.InvalidProviderError=p;var f=function(e){function NoAnnotationError(t,n){e.call(this,NoAnnotationError._genMessage(t,n))}return r(NoAnnotationError,e),NoAnnotationError._genMessage=function(e,t){for(var n=[],r=0,i=t.length;i>r;r++){var a=t[r];o.isBlank(a)||0==a.length?n.push("?"):n.push(a.map(o.stringify).join(" "))}return"Cannot resolve all parameters for '"+o.stringify(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+o.stringify(e)+"' is decorated with Injectable."},NoAnnotationError}(a.BaseException);t.NoAnnotationError=f;var h=function(e){function OutOfBoundsError(t){e.call(this,"Index "+t+" is out-of-bounds.")}return r(OutOfBoundsError,e),OutOfBoundsError}(a.BaseException);t.OutOfBoundsError=h;var d=function(e){function MixingMultiProvidersWithRegularProvidersError(t,n){e.call(this,"Cannot mix multi providers and regular providers, got: "+t.toString()+" "+n.toString())}return r(MixingMultiProvidersWithRegularProvidersError,e),MixingMultiProvidersWithRegularProvidersError}(a.BaseException);t.MixingMultiProvidersWithRegularProvidersError=d},function(e,t,n){"use strict";function forwardRef(e){return e.__forward_ref__=forwardRef,e.toString=function(){return r.stringify(this())},e}function resolveForwardRef(e){return r.isFunction(e)&&e.hasOwnProperty("__forward_ref__")&&e.__forward_ref__===forwardRef?e():e}var r=n(1);t.forwardRef=forwardRef,t.resolveForwardRef=resolveForwardRef},function(e,t,n){"use strict";var r=n(1),i=n(5),o=n(161),a=function(){function Key(e,t){if(this.token=e,this.id=t,r.isBlank(e))throw new i.BaseException("Token must be defined!")}return Object.defineProperty(Key.prototype,"displayName",{get:function(){return r.stringify(this.token)},enumerable:!0,configurable:!0}),Key.get=function(e){return c.get(o.resolveForwardRef(e))},Object.defineProperty(Key,"numberOfKeys",{get:function(){return c.numberOfKeys},enumerable:!0,configurable:!0}),Key}();t.Key=a;var s=function(){function KeyRegistry(){this._allKeys=new Map}return KeyRegistry.prototype.get=function(e){if(e instanceof a)return e;if(this._allKeys.has(e))return this._allKeys.get(e);var t=new a(e,a.numberOfKeys);return this._allKeys.set(e,t),t},Object.defineProperty(KeyRegistry.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),KeyRegistry}();t.KeyRegistry=s;var c=new s},function(e,t,n){"use strict";var r=n(5),i=function(){function ElementRef(){}return Object.defineProperty(ElementRef.prototype,"nativeElement",{get:function(){return r.unimplemented()},enumerable:!0,configurable:!0}),ElementRef}();t.ElementRef=i;var o=function(){function ElementRef_(e){this._appElement=e}return Object.defineProperty(ElementRef_.prototype,"internalElement",{get:function(){return this._appElement},enumerable:!0,configurable:!0}),Object.defineProperty(ElementRef_.prototype,"nativeElement",{get:function(){return this._appElement.nativeElement},enumerable:!0,configurable:!0}),ElementRef_}();t.ElementRef_=o},function(e,t,n){"use strict";function _isPipeMetadata(e){return e instanceof c.PipeMetadata}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(6),a=n(1),s=n(5),c=n(112),u=n(87),l=n(18),p=function(){function PipeResolver(e){a.isPresent(e)?this._reflector=e:this._reflector=l.reflector}return PipeResolver.prototype.resolve=function(e){var t=this._reflector.annotations(o.resolveForwardRef(e));if(a.isPresent(t)){var n=t.find(_isPipeMetadata);if(a.isPresent(n))return n}throw new s.BaseException("No Pipe decorator found on "+a.stringify(e))},PipeResolver=r([o.Injectable(),i("design:paramtypes",[u.ReflectorReader])],PipeResolver)}();t.PipeResolver=p,t.CODEGEN_PIPE_RESOLVER=new p(l.reflector)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(3),o=n(5),a=n(1),s=function(){function ViewContainerRef(){}return Object.defineProperty(ViewContainerRef.prototype,"element",{get:function(){return o.unimplemented()},enumerable:!0,configurable:!0}),ViewContainerRef.prototype.clear=function(){for(var e=this.length-1;e>=0;e--)this.remove(e)},Object.defineProperty(ViewContainerRef.prototype,"length",{get:function(){return o.unimplemented()},enumerable:!0,configurable:!0}),ViewContainerRef}();t.ViewContainerRef=s;var c=function(e){function ViewContainerRef_(t){e.call(this),this._element=t}return r(ViewContainerRef_,e),ViewContainerRef_.prototype.get=function(e){return this._element.nestedViews[e].ref},Object.defineProperty(ViewContainerRef_.prototype,"length",{get:function(){var e=this._element.nestedViews;return a.isPresent(e)?e.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef_.prototype,"element",{get:function(){return this._element.ref},enumerable:!0,configurable:!0}),ViewContainerRef_.prototype.createEmbeddedView=function(e,t){void 0===t&&(t=-1),-1==t&&(t=this.length);var n=this._element.parentView.viewManager;return n.createEmbeddedViewInContainer(this._element.ref,t,e)},ViewContainerRef_.prototype.createHostView=function(e,t,n,r){void 0===t&&(t=-1),void 0===n&&(n=null),void 0===r&&(r=null),-1==t&&(t=this.length);var i=this._element.parentView.viewManager;return i.createHostViewInContainer(this._element.ref,t,e,n,r)},ViewContainerRef_.prototype.insert=function(e,t){void 0===t&&(t=-1),-1==t&&(t=this.length);var n=this._element.parentView.viewManager;return n.attachViewInContainer(this._element.ref,t,e)},ViewContainerRef_.prototype.indexOf=function(e){return i.ListWrapper.indexOf(this._element.nestedViews,e.internalView)},ViewContainerRef_.prototype.remove=function(e){void 0===e&&(e=-1),-1==e&&(e=this.length-1);var t=this._element.parentView.viewManager;return t.destroyViewInContainer(this._element.ref,e)},ViewContainerRef_.prototype.detach=function(e){void 0===e&&(e=-1),-1==e&&(e=this.length-1);var t=this._element.parentView.viewManager;return t.detachViewInContainer(this._element.ref,e)},ViewContainerRef_}(s);t.ViewContainerRef_=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(6),a=n(52),s=n(86),c=n(1),u=n(5),l=n(3),p=n(87),f=n(18),h=function(){function ViewResolver(e){this._cache=new l.Map,c.isPresent(e)?this._reflector=e:this._reflector=f.reflector}return ViewResolver.prototype.resolve=function(e){var t=this._cache.get(e);return c.isBlank(t)&&(t=this._resolve(e),this._cache.set(e,t)),t},ViewResolver.prototype._resolve=function(e){var t,n;if(this._reflector.annotations(e).forEach(function(e){e instanceof a.ViewMetadata&&(n=e),e instanceof s.ComponentMetadata&&(t=e)}),!c.isPresent(t)){if(c.isBlank(n))throw new u.BaseException("Could not compile '"+c.stringify(e)+"' because it is not a component.");return n}if(c.isBlank(t.template)&&c.isBlank(t.templateUrl)&&c.isBlank(n))throw new u.BaseException("Component '"+c.stringify(e)+"' must have either 'template' or 'templateUrl' set.");if(c.isPresent(t.template)&&c.isPresent(n))this._throwMixingViewAndComponent("template",e);else if(c.isPresent(t.templateUrl)&&c.isPresent(n))this._throwMixingViewAndComponent("templateUrl",e);else if(c.isPresent(t.directives)&&c.isPresent(n))this._throwMixingViewAndComponent("directives",e);else if(c.isPresent(t.pipes)&&c.isPresent(n))this._throwMixingViewAndComponent("pipes",e);else if(c.isPresent(t.encapsulation)&&c.isPresent(n))this._throwMixingViewAndComponent("encapsulation",e);else if(c.isPresent(t.styles)&&c.isPresent(n))this._throwMixingViewAndComponent("styles",e);else{if(!c.isPresent(t.styleUrls)||!c.isPresent(n))return c.isPresent(n)?n:new a.ViewMetadata({templateUrl:t.templateUrl,template:t.template,directives:t.directives,pipes:t.pipes,encapsulation:t.encapsulation,styles:t.styles,styleUrls:t.styleUrls});this._throwMixingViewAndComponent("styleUrls",e)}return null},ViewResolver.prototype._throwMixingViewAndComponent=function(e,t){throw new u.BaseException("Component '"+c.stringify(t)+"' cannot have both '"+e+"' and '@View' set at the same time\"")},ViewResolver=r([o.Injectable(),i("design:paramtypes",[p.ReflectorReader])],ViewResolver)}();t.ViewResolver=h},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(1),s=n(6),c=n(68),u=function(e){function AttributeMetadata(t){e.call(this),this.attributeName=t}return r(AttributeMetadata,e),Object.defineProperty(AttributeMetadata.prototype,"token",{get:function(){return this},enumerable:!0,configurable:!0}),AttributeMetadata.prototype.toString=function(){return"@Attribute("+a.stringify(this.attributeName)+")"},AttributeMetadata=i([a.CONST(),o("design:paramtypes",[String])],AttributeMetadata)}(c.DependencyMetadata);t.AttributeMetadata=u;var l=function(e){function QueryMetadata(t,n){var r=void 0===n?{}:n,i=r.descendants,o=void 0===i?!1:i,a=r.first,s=void 0===a?!1:a;e.call(this),this._selector=t,this.descendants=o,this.first=s}return r(QueryMetadata,e),Object.defineProperty(QueryMetadata.prototype,"isViewQuery",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(QueryMetadata.prototype,"selector",{get:function(){return s.resolveForwardRef(this._selector)},enumerable:!0,configurable:!0}),Object.defineProperty(QueryMetadata.prototype,"isVarBindingQuery",{get:function(){return a.isString(this.selector)},enumerable:!0,configurable:!0}),Object.defineProperty(QueryMetadata.prototype,"varBindings",{get:function(){return this.selector.split(",")},enumerable:!0,configurable:!0}),QueryMetadata.prototype.toString=function(){return"@Query("+a.stringify(this.selector)+")"},QueryMetadata=i([a.CONST(),o("design:paramtypes",[Object,Object])],QueryMetadata)}(c.DependencyMetadata);t.QueryMetadata=l;var p=function(e){function ContentChildrenMetadata(t,n){var r=(void 0===n?{}:n).descendants,i=void 0===r?!1:r;e.call(this,t,{descendants:i})}return r(ContentChildrenMetadata,e),ContentChildrenMetadata=i([a.CONST(),o("design:paramtypes",[Object,Object])],ContentChildrenMetadata)}(l);t.ContentChildrenMetadata=p;var f=function(e){function ContentChildMetadata(t){e.call(this,t,{descendants:!0,first:!0})}return r(ContentChildMetadata,e),ContentChildMetadata=i([a.CONST(),o("design:paramtypes",[Object])],ContentChildMetadata)}(l);t.ContentChildMetadata=f;var h=function(e){function ViewQueryMetadata(t,n){var r=void 0===n?{}:n,i=r.descendants,o=void 0===i?!1:i,a=r.first,s=void 0===a?!1:a;e.call(this,t,{descendants:o,first:s})}return r(ViewQueryMetadata,e),Object.defineProperty(ViewQueryMetadata.prototype,"isViewQuery",{get:function(){return!0},enumerable:!0,configurable:!0}),ViewQueryMetadata.prototype.toString=function(){return"@ViewQuery("+a.stringify(this.selector)+")"},ViewQueryMetadata=i([a.CONST(),o("design:paramtypes",[Object,Object])],ViewQueryMetadata)}(l);t.ViewQueryMetadata=h;var d=function(e){function ViewChildrenMetadata(t){e.call(this,t,{descendants:!0})}return r(ViewChildrenMetadata,e),ViewChildrenMetadata=i([a.CONST(),o("design:paramtypes",[Object])],ViewChildrenMetadata)}(h);t.ViewChildrenMetadata=d;var g=function(e){function ViewChildMetadata(t){e.call(this,t,{descendants:!0,first:!0})}return r(ViewChildMetadata,e),ViewChildMetadata=i([a.CONST(),o("design:paramtypes",[Object])],ViewChildMetadata)}(h);t.ViewChildMetadata=g},function(e,t,n){"use strict";var r=n(6),i=n(1);t.PLATFORM_DIRECTIVES=i.CONST_EXPR(new r.OpaqueToken("Platform Directives")),t.PLATFORM_PIPES=i.CONST_EXPR(new r.OpaqueToken("Platform Pipes"))},function(e,t,n){"use strict";function noopScope(e,t){return null}var r=n(421);t.wtfEnabled=r.detectWTF(),t.wtfCreateScope=t.wtfEnabled?r.createScope:function(e,t){return noopScope},t.wtfLeave=t.wtfEnabled?r.leave:function(e,t){return t},t.wtfStartTimeRange=t.wtfEnabled?r.startTimeRange:function(e,t){return null},t.wtfEndTimeRange=t.wtfEnabled?r.endTimeRange:function(e){return null}},function(e,t,n){"use strict";var r=n(1),i=n(267),o=n(3),a=function(){function _ArrayLogger(){this.res=[]}return _ArrayLogger.prototype.log=function(e){this.res.push(e)},_ArrayLogger.prototype.logError=function(e){this.res.push(e)},_ArrayLogger.prototype.logGroup=function(e){this.res.push(e)},_ArrayLogger.prototype.logGroupEnd=function(){},_ArrayLogger}(),s=function(){function ExceptionHandler(e,t){void 0===t&&(t=!0),this._logger=e,this._rethrowException=t}return ExceptionHandler.exceptionToString=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=new a,i=new ExceptionHandler(r,!1);return i.call(e,t,n),r.res.join("\n")},ExceptionHandler.prototype.call=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var i=this._findOriginalException(e),o=this._findOriginalStack(e),a=this._findContext(e);if(this._logger.logGroup("EXCEPTION: "+this._extractMessage(e)),r.isPresent(t)&&r.isBlank(o)&&(this._logger.logError("STACKTRACE:"),this._logger.logError(this._longStackTrace(t))),r.isPresent(n)&&this._logger.logError("REASON: "+n),r.isPresent(i)&&this._logger.logError("ORIGINAL EXCEPTION: "+this._extractMessage(i)),r.isPresent(o)&&(this._logger.logError("ORIGINAL STACKTRACE:"),this._logger.logError(this._longStackTrace(o))),r.isPresent(a)&&(this._logger.logError("ERROR CONTEXT:"),this._logger.logError(a)),this._logger.logGroupEnd(),this._rethrowException)throw e},ExceptionHandler.prototype._extractMessage=function(e){return e instanceof i.BaseWrappedException?e.wrapperMessage:e.toString()},ExceptionHandler.prototype._longStackTrace=function(e){return o.isListLikeIterable(e)?e.join("\n\n-----async gap-----\n"):e.toString()},ExceptionHandler.prototype._findContext=function(e){try{return e instanceof i.BaseWrappedException?r.isPresent(e.context)?e.context:this._findContext(e.originalException):null}catch(t){return null}},ExceptionHandler.prototype._findOriginalException=function(e){if(!(e instanceof i.BaseWrappedException))return null;for(var t=e.originalException;t instanceof i.BaseWrappedException&&r.isPresent(t.originalException);)t=t.originalException;return t},ExceptionHandler.prototype._findOriginalStack=function(e){if(!(e instanceof i.BaseWrappedException))return null;for(var t=e,n=e.originalStack;t instanceof i.BaseWrappedException&&r.isPresent(t.originalException);)t=t.originalException,t instanceof i.BaseWrappedException&&r.isPresent(t.originalException)&&(n=t.originalStack);return n},ExceptionHandler}();t.ExceptionHandler=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(4),a=function(){function BrowserXhr(){}return BrowserXhr.prototype.build=function(){return new XMLHttpRequest},BrowserXhr=r([o.Injectable(),i("design:paramtypes",[])],BrowserXhr)}();t.BrowserXhr=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(1),s=n(89),c=n(53),u=n(4),l=n(275),p=n(117),f=function(){function RequestOptions(e){var t=void 0===e?{}:e,n=t.method,r=t.headers,i=t.body,o=t.url,s=t.search;this.method=a.isPresent(n)?p.normalizeMethodName(n):null,this.headers=a.isPresent(r)?r:null,this.body=a.isPresent(i)?i:null,this.url=a.isPresent(o)?o:null,this.search=a.isPresent(s)?a.isString(s)?new l.URLSearchParams(s):s:null}return RequestOptions.prototype.merge=function(e){return new RequestOptions({method:a.isPresent(e)&&a.isPresent(e.method)?e.method:this.method,headers:a.isPresent(e)&&a.isPresent(e.headers)?e.headers:this.headers,body:a.isPresent(e)&&a.isPresent(e.body)?e.body:this.body,url:a.isPresent(e)&&a.isPresent(e.url)?e.url:this.url,search:a.isPresent(e)&&a.isPresent(e.search)?a.isString(e.search)?new l.URLSearchParams(e.search):e.search.clone():this.search})},RequestOptions}();t.RequestOptions=f;var h=function(e){function BaseRequestOptions(){e.call(this,{method:c.RequestMethod.Get,headers:new s.Headers})}return r(BaseRequestOptions,e),BaseRequestOptions=i([u.Injectable(),o("design:paramtypes",[])],BaseRequestOptions)}(f);t.BaseRequestOptions=h},function(e,t){"use strict";var n=function(){function ConnectionBackend(){}return ConnectionBackend}();t.ConnectionBackend=n;var r=function(){function Connection(){}return Connection}();t.Connection=r},function(e,t,n){"use strict";var r=n(1),i=n(5),o=n(117),a=function(){function Response(e){this._body=e.body,this.status=e.status,this.statusText=e.statusText,this.headers=e.headers,this.type=e.type,this.url=e.url}return Response.prototype.blob=function(){throw new i.BaseException('"blob()" method not implemented on Response superclass')},Response.prototype.json=function(){var e;return o.isJsObject(this._body)?e=this._body:r.isString(this._body)&&(e=r.Json.parse(this._body)),e},Response.prototype.text=function(){return this._body.toString()},Response.prototype.arrayBuffer=function(){throw new i.BaseException('"arrayBuffer()" method not implemented on Response superclass')},Response}();t.Response=a},function(e,t,n){"use strict";function moveNodesAfterSibling(e,t){var n=g.DOM.parentElement(e);if(t.length>0&&u.isPresent(n)){var r=g.DOM.nextSibling(e);if(u.isPresent(r))for(var i=0;i<t.length;i++)g.DOM.insertBefore(r,t[i]);else for(var i=0;i<t.length;i++)g.DOM.appendChild(n,t[i])}}function appendNodes(e,t){for(var n=0;n<t.length;n++)g.DOM.appendChild(e,t[n])}function decoratePreventDefault(e){return function(t){var n=e(t);n===!1&&g.DOM.preventDefault(t)}}function _shimContentAttribute(e){return u.StringWrapper.replaceAll(t.CONTENT_ATTR,R,e)}function _shimHostAttribute(e){return u.StringWrapper.replaceAll(t.HOST_ATTR,R,e)}function _flattenStyles(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];u.isArray(i)?_flattenStyles(e,i,n):(i=u.StringWrapper.replaceAll(i,R,e),n.push(i))}return n}function splitNamespace(e){if("@"!=e[0])return[null,e];var t=u.RegExpWrapper.firstMatch(w,e);return[t[1],t[2]]}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(6),c=n(214),u=n(1),l=n(5),p=n(118),f=n(71),h=n(90),d=n(112),g=n(14),y=n(280),m=u.CONST_EXPR({xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"}),_="template bindings={}",v=/^template bindings=(.*)$/g,b=function(){function DomRootRenderer(e,t,n,r){this.document=e,this.eventManager=t,this.sharedStylesHost=n,this.animate=r,this._registeredComponents=new Map}return DomRootRenderer.prototype.renderComponent=function(e){var t=this._registeredComponents.get(e.id);return u.isBlank(t)&&(t=new P(this,e),this._registeredComponents.set(e.id,t)),t},DomRootRenderer}();t.DomRootRenderer=b;var C=function(e){function DomRootRenderer_(t,n,r,i){e.call(this,t,n,r,i)}return r(DomRootRenderer_,e),DomRootRenderer_=i([s.Injectable(),a(0,s.Inject(h.DOCUMENT)),o("design:paramtypes",[Object,f.EventManager,p.DomSharedStylesHost,c.AnimationBuilder])],DomRootRenderer_)}(b);t.DomRootRenderer_=C;var P=function(){function DomRenderer(e,t){this._rootRenderer=e,this.componentProto=t,this._styles=_flattenStyles(t.id,t.styles,[]),t.encapsulation!==d.ViewEncapsulation.Native&&this._rootRenderer.sharedStylesHost.addStyles(this._styles),this.componentProto.encapsulation===d.ViewEncapsulation.Emulated?(this._contentAttr=_shimContentAttribute(t.id),this._hostAttr=_shimHostAttribute(t.id)):(this._contentAttr=null,this._hostAttr=null)}return DomRenderer.prototype.renderComponent=function(e){return this._rootRenderer.renderComponent(e)},DomRenderer.prototype.selectRootElement=function(e){var t=g.DOM.querySelector(this._rootRenderer.document,e);if(u.isBlank(t))throw new l.BaseException('The selector "'+e+'" did not match any elements');return g.DOM.clearNodes(t),t},DomRenderer.prototype.createElement=function(e,t){var n=splitNamespace(t),r=u.isPresent(n[0])?g.DOM.createElementNS(m[n[0]],n[1]):g.DOM.createElement(n[1]);return u.isPresent(this._contentAttr)&&g.DOM.setAttribute(r,this._contentAttr,""),u.isPresent(e)&&g.DOM.appendChild(e,r),r},DomRenderer.prototype.createViewRoot=function(e){var t;if(this.componentProto.encapsulation===d.ViewEncapsulation.Native){t=g.DOM.createShadowRoot(e),this._rootRenderer.sharedStylesHost.addHost(t);for(var n=0;n<this._styles.length;n++)g.DOM.appendChild(t,g.DOM.createStyleElement(this._styles[n]))}else u.isPresent(this._hostAttr)&&g.DOM.setAttribute(e,this._hostAttr,""),t=e;return t},DomRenderer.prototype.createTemplateAnchor=function(e){var t=g.DOM.createComment(_);return u.isPresent(e)&&g.DOM.appendChild(e,t),t},DomRenderer.prototype.createText=function(e,t){var n=g.DOM.createTextNode(t);return u.isPresent(e)&&g.DOM.appendChild(e,n),n},DomRenderer.prototype.projectNodes=function(e,t){u.isBlank(e)||appendNodes(e,t)},DomRenderer.prototype.attachViewAfter=function(e,t){moveNodesAfterSibling(e,t);for(var n=0;n<t.length;n++)this.animateNodeEnter(t[n])},DomRenderer.prototype.detachView=function(e){for(var t=0;t<e.length;t++){var n=e[t];g.DOM.remove(n),this.animateNodeLeave(n)}},DomRenderer.prototype.destroyView=function(e,t){this.componentProto.encapsulation===d.ViewEncapsulation.Native&&u.isPresent(e)&&this._rootRenderer.sharedStylesHost.removeHost(g.DOM.getShadowRoot(e))},DomRenderer.prototype.listen=function(e,t,n){return this._rootRenderer.eventManager.addEventListener(e,t,decoratePreventDefault(n))},DomRenderer.prototype.listenGlobal=function(e,t,n){return this._rootRenderer.eventManager.addGlobalEventListener(e,t,decoratePreventDefault(n))},DomRenderer.prototype.setElementProperty=function(e,t,n){g.DOM.setProperty(e,t,n)},DomRenderer.prototype.setElementAttribute=function(e,t,n){var r,i=splitNamespace(t);u.isPresent(i[0])&&(t=i[0]+":"+i[1],r=m[i[0]]),u.isPresent(n)?u.isPresent(r)?g.DOM.setAttributeNS(e,r,t,n):g.DOM.setAttribute(e,t,n):u.isPresent(r)?g.DOM.removeAttributeNS(e,r,i[1]):g.DOM.removeAttribute(e,t)},DomRenderer.prototype.setBindingDebugInfo=function(e,t,n){var r=y.camelCaseToDashCase(t);if(g.DOM.isCommentNode(e)){var i=u.RegExpWrapper.firstMatch(v,u.StringWrapper.replaceAll(g.DOM.getText(e),/\n/g,"")),o=u.Json.parse(i[1]);o[r]=n,g.DOM.setText(e,u.StringWrapper.replace(_,"{}",u.Json.stringify(o)))}else this.setElementAttribute(e,t,n)},DomRenderer.prototype.setElementDebugInfo=function(e,t){},DomRenderer.prototype.setElementClass=function(e,t,n){n?g.DOM.addClass(e,t):g.DOM.removeClass(e,t)},DomRenderer.prototype.setElementStyle=function(e,t,n){u.isPresent(n)?g.DOM.setStyle(e,t,u.stringify(n)):g.DOM.removeStyle(e,t)},DomRenderer.prototype.invokeElementMethod=function(e,t,n){g.DOM.invoke(e,t,n)},DomRenderer.prototype.setText=function(e,t){g.DOM.setText(e,t)},DomRenderer.prototype.animateNodeEnter=function(e){g.DOM.isElementNode(e)&&g.DOM.hasClass(e,"ng-animate")&&(g.DOM.addClass(e,"ng-enter"),this._rootRenderer.animate.css().addAnimationClass("ng-enter-active").start(e).onComplete(function(){g.DOM.removeClass(e,"ng-enter")}))},DomRenderer.prototype.animateNodeLeave=function(e){g.DOM.isElementNode(e)&&g.DOM.hasClass(e,"ng-animate")?(g.DOM.addClass(e,"ng-leave"),this._rootRenderer.animate.css().addAnimationClass("ng-leave-active").start(e).onComplete(function(){g.DOM.removeClass(e,"ng-leave"),g.DOM.remove(e)})):g.DOM.remove(e)},DomRenderer}();t.DomRenderer=P;var R=/%COMP%/g;t.COMPONENT_VARIABLE="%COMP%",t.HOST_ATTR="_nghost-"+t.COMPONENT_VARIABLE,t.CONTENT_ATTR="_ngcontent-"+t.COMPONENT_VARIABLE;var w=/^@([^:]+):(.+)/g},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(437),c=n(1),u=n(5),l=n(4);t.HAMMER_GESTURE_CONFIG=c.CONST_EXPR(new l.OpaqueToken("HammerGestureConfig"));var p=function(){function HammerGestureConfig(){this.events=[],this.overrides={}}return HammerGestureConfig.prototype.buildHammer=function(e){var t=new Hammer(e);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(var n in this.overrides)t.get(n).set(this.overrides[n]);return t},HammerGestureConfig=i([l.Injectable(),o("design:paramtypes",[])],HammerGestureConfig)}();t.HammerGestureConfig=p;var f=function(e){function HammerGesturesPlugin(t){e.call(this),this._config=t}return r(HammerGesturesPlugin,e),HammerGesturesPlugin.prototype.supports=function(t){if(!e.prototype.supports.call(this,t)&&!this.isCustomEvent(t))return!1;if(!c.isPresent(window.Hammer))throw new u.BaseException("Hammer.js is not loaded, can not bind "+t+" event");return!0},HammerGesturesPlugin.prototype.addEventListener=function(e,t,n){var r=this,i=this.manager.getZone();return t=t.toLowerCase(),i.runOutsideAngular(function(){var o=r._config.buildHammer(e),a=function(e){i.run(function(){n(e)})};return o.on(t,a),function(){o.off(t,a)}})},HammerGesturesPlugin.prototype.isCustomEvent=function(e){return this._config.events.indexOf(e)>-1},HammerGesturesPlugin=i([l.Injectable(),a(0,l.Inject(t.HAMMER_GESTURE_CONFIG)),o("design:paramtypes",[p])],HammerGesturesPlugin)}(s.HammerGesturesPluginCommon);t.HammerGesturesPlugin=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(1),a=function(){function RouteLifecycleHook(e){this.name=e}return RouteLifecycleHook=r([o.CONST(),i("design:paramtypes",[String])],RouteLifecycleHook)}();t.RouteLifecycleHook=a;var s=function(){function CanActivate(e){this.fn=e}return CanActivate=r([o.CONST(),i("design:paramtypes",[Function])],CanActivate)}();t.CanActivate=s,t.routerCanReuse=o.CONST_EXPR(new a("routerCanReuse")),t.routerCanDeactivate=o.CONST_EXPR(new a("routerCanDeactivate")),t.routerOnActivate=o.CONST_EXPR(new a("routerOnActivate")),t.routerOnReuse=o.CONST_EXPR(new a("routerOnReuse")),t.routerOnDeactivate=o.CONST_EXPR(new a("routerOnDeactivate"))},function(e,t,n){"use strict";function splitAndFlattenLinkParams(e){var t=[];return e.forEach(function(e){if(c.isString(e)){var n=e;t=t.concat(n.split("/"))}else t.push(e)}),t}function mostSpecific(e){if(e=e.filter(function(e){return c.isPresent(e)}),0==e.length)return null;if(1==e.length)return e[0];var t=e[0],n=e.slice(1);return n.reduce(function(e,t){return-1==compareSpecificityStrings(t.specificity,e.specificity)?t:e},t)}function compareSpecificityStrings(e,t){for(var n=c.Math.min(e.length,t.length),r=0;n>r;r+=1){var i=c.StringWrapper.charCodeAt(e,r),o=c.StringWrapper.charCodeAt(t,r),a=o-i;if(0!=a)return a}return e.length-t.length}function assertTerminalComponent(e,t){if(c.isType(e)){var n=l.reflector.annotations(e);if(c.isPresent(n))for(var r=0;r<n.length;r++){var i=n[r];if(i instanceof f.RouteConfig)throw new u.BaseException('Child routes are not allowed for "'+t+'". Use "..." on the parent\'s route path.')}}}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(3),s=n(9),c=n(1),u=n(5),l=n(18),p=n(4),f=n(120),h=n(289),d=n(447),g=n(54),y=n(441),m=n(179),_=s.PromiseWrapper.resolve(null);
t.ROUTER_PRIMARY_COMPONENT=c.CONST_EXPR(new p.OpaqueToken("RouterPrimaryComponent"));var v=function(){function RouteRegistry(e){this._rootComponent=e,this._rules=new a.Map}return RouteRegistry.prototype.config=function(e,t){t=y.normalizeRouteConfig(t,this),t instanceof f.Route?y.assertComponentExists(t.component,t.path):t instanceof f.AuxRoute&&y.assertComponentExists(t.component,t.path);var n=this._rules.get(e);c.isBlank(n)&&(n=new d.RuleSet,this._rules.set(e,n));var r=n.config(t);t instanceof f.Route&&(r?assertTerminalComponent(t.component,t.path):this.configFromComponent(t.component))},RouteRegistry.prototype.configFromComponent=function(e){var t=this;if(c.isType(e)&&!this._rules.has(e)){var n=l.reflector.annotations(e);if(c.isPresent(n))for(var r=0;r<n.length;r++){var i=n[r];if(i instanceof f.RouteConfig){var o=i.configs;o.forEach(function(n){return t.config(e,n)})}}}},RouteRegistry.prototype.recognize=function(e,t){var n=m.parser.parse(e);return this._recognize(n,[])},RouteRegistry.prototype._recognize=function(e,t,n){var r=this;void 0===n&&(n=!1);var i=a.ListWrapper.last(t),o=c.isPresent(i)?i.component.componentType:this._rootComponent,u=this._rules.get(o);if(c.isBlank(u))return _;var l=n?u.recognizeAuxiliary(e):u.recognize(e),p=l.map(function(e){return e.then(function(e){if(e instanceof h.PathMatch){var n=t.length>0?[a.ListWrapper.last(t)]:[],i=r._auxRoutesToUnresolved(e.remainingAux,n),o=new g.ResolvedInstruction(e.instruction,null,i);if(c.isBlank(e.instruction)||e.instruction.terminal)return o;var s=t.concat([o]);return r._recognize(e.remaining,s).then(function(e){return c.isBlank(e)?null:e instanceof g.RedirectInstruction?e:(o.child=e,o)})}if(e instanceof h.RedirectMatch){var o=r.generate(e.redirectTo,t.concat([null]));return new g.RedirectInstruction(o.component,o.child,o.auxInstruction,e.specificity)}})});return!c.isBlank(e)&&""!=e.path||0!=l.length?s.PromiseWrapper.all(p).then(mostSpecific):s.PromiseWrapper.resolve(this.generateDefault(o))},RouteRegistry.prototype._auxRoutesToUnresolved=function(e,t){var n=this,r={};return e.forEach(function(e){r[e.path]=new g.UnresolvedInstruction(function(){return n._recognize(e,t,!0)})}),r},RouteRegistry.prototype.generate=function(e,t,n){void 0===n&&(n=!1);var r,i=splitAndFlattenLinkParams(e);if(""==a.ListWrapper.first(i))i.shift(),r=a.ListWrapper.first(t),t=[];else if(r=t.length>0?t.pop():null,"."==a.ListWrapper.first(i))i.shift();else if(".."==a.ListWrapper.first(i))for(;".."==a.ListWrapper.first(i);){if(t.length<=0)throw new u.BaseException('Link "'+a.ListWrapper.toJSON(e)+'" has too many "../" segments.');r=t.pop(),i=a.ListWrapper.slice(i,1)}else{var o=a.ListWrapper.first(i),s=this._rootComponent,l=null;if(t.length>1){var p=t[t.length-1],f=t[t.length-2];s=p.component.componentType,l=f.component.componentType}else 1==t.length&&(s=t[0].component.componentType,l=this._rootComponent);var h=this.hasRoute(o,s),d=c.isPresent(l)&&this.hasRoute(o,l);if(d&&h){var g='Link "'+a.ListWrapper.toJSON(e)+'" is ambiguous, use "./" or "../" to disambiguate.';throw new u.BaseException(g)}d&&(r=t.pop())}if(""==i[i.length-1]&&i.pop(),i.length>0&&""==i[0]&&i.shift(),i.length<1){var g='Link "'+a.ListWrapper.toJSON(e)+'" must include a route name.';throw new u.BaseException(g)}for(var y=this._generate(i,t,r,n,e),m=t.length-1;m>=0;m--){var _=t[m];if(c.isBlank(_))break;y=_.replaceChild(y)}return y},RouteRegistry.prototype._generate=function(e,t,n,r,i){var o=this;void 0===r&&(r=!1);var s=this._rootComponent,l=null,p={},f=a.ListWrapper.last(t);if(c.isPresent(f)&&c.isPresent(f.component)&&(s=f.component.componentType),0==e.length){var h=this.generateDefault(s);if(c.isBlank(h))throw new u.BaseException('Link "'+a.ListWrapper.toJSON(i)+'" does not resolve to a terminal instruction.');return h}c.isPresent(n)&&!r&&(p=a.StringMapWrapper.merge(n.auxInstruction,p),l=n.component);var d=this._rules.get(s);if(c.isBlank(d))throw new u.BaseException('Component "'+c.getTypeNameForDebugging(s)+'" has no route config.');var y=0,_={};if(y<e.length&&c.isString(e[y])){var v=e[y];if(""==v||"."==v||".."==v)throw new u.BaseException('"'+v+'/" is only allowed at the beginning of a link DSL.');if(y+=1,y<e.length){var b=e[y];c.isStringMap(b)&&!c.isArray(b)&&(_=b,y+=1)}var C=(r?d.auxRulesByName:d.rulesByName).get(v);if(c.isBlank(C))throw new u.BaseException('Component "'+c.getTypeNameForDebugging(s)+'" has no route named "'+v+'".');if(c.isBlank(C.handler.componentType)){var P=C.generateComponentPathValues(_);return new g.UnresolvedInstruction(function(){return C.handler.resolveComponentType().then(function(a){return o._generate(e,t,n,r,i)})},P.urlPath,m.convertUrlParamsToArray(P.urlParams))}l=r?d.generateAuxiliary(v,_):d.generate(v,_)}for(;y<e.length&&c.isArray(e[y]);){var R=[f],w=this._generate(e[y],R,null,!0,i);p[w.component.urlPath]=w,y+=1}var E=new g.ResolvedInstruction(l,null,p);if(c.isPresent(l)&&c.isPresent(l.componentType)){var S=null;if(l.terminal)y>=e.length;else{var D=t.concat([E]),A=e.slice(y);S=this._generate(A,D,null,!1,i)}E.child=S}return E},RouteRegistry.prototype.hasRoute=function(e,t){var n=this._rules.get(t);return c.isBlank(n)?!1:n.hasRoute(e)},RouteRegistry.prototype.generateDefault=function(e){var t=this;if(c.isBlank(e))return null;var n=this._rules.get(e);if(c.isBlank(n)||c.isBlank(n.defaultRule))return null;var r=null;if(c.isPresent(n.defaultRule.handler.componentType)){var i=n.defaultRule.generate({});return n.defaultRule.terminal||(r=this.generateDefault(n.defaultRule.handler.componentType)),new g.DefaultInstruction(i,r)}return new g.UnresolvedInstruction(function(){return n.defaultRule.handler.resolveComponentType().then(function(n){return t.generateDefault(e)})})},RouteRegistry=r([p.Injectable(),o(0,p.Inject(t.ROUTER_PRIMARY_COMPONENT)),i("design:paramtypes",[c.Type])],RouteRegistry)}();t.RouteRegistry=v},function(e,t,n){"use strict";function convertUrlParamsToArray(e){var t=[];return o.isBlank(e)?[]:(i.StringMapWrapper.forEach(e,function(e,n){t.push(e===!0?n:n+"="+e)}),t)}function serializeParams(e,t){return void 0===t&&(t="&"),convertUrlParamsToArray(e).join(t)}function pathSegmentsToUrl(e){for(var t=new s(e[e.length-1]),n=e.length-2;n>=0;n-=1)t=new s(e[n],t);return t}function matchUrlSegment(e){var t=o.RegExpWrapper.firstMatch(u,e);return o.isPresent(t)?t[0]:""}function matchUrlQueryParamValue(e){var t=o.RegExpWrapper.firstMatch(l,e);return o.isPresent(t)?t[0]:""}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(3),o=n(1),a=n(5);t.convertUrlParamsToArray=convertUrlParamsToArray,t.serializeParams=serializeParams;var s=function(){function Url(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=o.CONST_EXPR([])),void 0===r&&(r=o.CONST_EXPR({})),this.path=e,this.child=t,this.auxiliary=n,this.params=r}return Url.prototype.toString=function(){return this.path+this._matrixParamsToString()+this._auxToString()+this._childString()},Url.prototype.segmentToString=function(){return this.path+this._matrixParamsToString()},Url.prototype._auxToString=function(){return this.auxiliary.length>0?"("+this.auxiliary.map(function(e){return e.toString()}).join("//")+")":""},Url.prototype._matrixParamsToString=function(){var e=serializeParams(this.params,";");return e.length>0?";"+e:""},Url.prototype._childString=function(){return o.isPresent(this.child)?"/"+this.child.toString():""},Url}();t.Url=s;var c=function(e){function RootUrl(t,n,r,i){void 0===n&&(n=null),void 0===r&&(r=o.CONST_EXPR([])),void 0===i&&(i=null),e.call(this,t,n,r,i)}return r(RootUrl,e),RootUrl.prototype.toString=function(){return this.path+this._auxToString()+this._childString()+this._queryParamsToString()},RootUrl.prototype.segmentToString=function(){return this.path+this._queryParamsToString()},RootUrl.prototype._queryParamsToString=function(){return o.isBlank(this.params)?"":"?"+serializeParams(this.params)},RootUrl}(s);t.RootUrl=c,t.pathSegmentsToUrl=pathSegmentsToUrl;var u=o.RegExpWrapper.create("^[^\\/\\(\\)\\?;=&#]+"),l=o.RegExpWrapper.create("^[^\\(\\)\\?;&#]+"),p=function(){function UrlParser(){}return UrlParser.prototype.peekStartsWith=function(e){return this._remaining.startsWith(e)},UrlParser.prototype.capture=function(e){if(!this._remaining.startsWith(e))throw new a.BaseException('Expected "'+e+'".');this._remaining=this._remaining.substring(e.length)},UrlParser.prototype.parse=function(e){return this._remaining=e,""==e||"/"==e?new s(""):this.parseRoot()},UrlParser.prototype.parseRoot=function(){this.peekStartsWith("/")&&this.capture("/");var e=matchUrlSegment(this._remaining);this.capture(e);var t=[];this.peekStartsWith("(")&&(t=this.parseAuxiliaryRoutes()),this.peekStartsWith(";")&&this.parseMatrixParams();var n=null;this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),n=this.parseSegment());var r=null;return this.peekStartsWith("?")&&(r=this.parseQueryParams()),new c(e,n,t,r)},UrlParser.prototype.parseSegment=function(){if(0==this._remaining.length)return null;this.peekStartsWith("/")&&this.capture("/");var e=matchUrlSegment(this._remaining);this.capture(e);var t=null;this.peekStartsWith(";")&&(t=this.parseMatrixParams());var n=[];this.peekStartsWith("(")&&(n=this.parseAuxiliaryRoutes());var r=null;return this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),r=this.parseSegment()),new s(e,r,n,t)},UrlParser.prototype.parseQueryParams=function(){var e={};for(this.capture("?"),this.parseQueryParam(e);this._remaining.length>0&&this.peekStartsWith("&");)this.capture("&"),this.parseQueryParam(e);return e},UrlParser.prototype.parseMatrixParams=function(){for(var e={};this._remaining.length>0&&this.peekStartsWith(";");)this.capture(";"),this.parseParam(e);return e},UrlParser.prototype.parseParam=function(e){var t=matchUrlSegment(this._remaining);if(!o.isBlank(t)){this.capture(t);var n=!0;if(this.peekStartsWith("=")){this.capture("=");var r=matchUrlSegment(this._remaining);o.isPresent(r)&&(n=r,this.capture(n))}e[t]=n}},UrlParser.prototype.parseQueryParam=function(e){var t=matchUrlSegment(this._remaining);if(!o.isBlank(t)){this.capture(t);var n=!0;if(this.peekStartsWith("=")){this.capture("=");var r=matchUrlQueryParamValue(this._remaining);o.isPresent(r)&&(n=r,this.capture(n))}e[t]=n}},UrlParser.prototype.parseAuxiliaryRoutes=function(){var e=[];for(this.capture("(");!this.peekStartsWith(")")&&this._remaining.length>0;)e.push(this.parseSegment()),this.peekStartsWith("//")&&this.capture("//");return this.capture(")"),e},UrlParser}();t.UrlParser=p,t.parser=new p},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(40),o=n(76),a=n(131),s=n(377),c=n(132),u=n(383),l=n(379),p=function(e){function Subject(t,n){e.call(this),this.destination=t,this.source=n,this.observers=[],this.isUnsubscribed=!1,this.isStopped=!1,this.hasErrored=!1,this.dispatching=!1,this.hasCompleted=!1,this.source=n}return r(Subject,e),Subject.prototype.lift=function(e){var t=new Subject(this.destination||this,this);return t.operator=e,t},Subject.prototype.add=function(e){return a.Subscription.prototype.add.call(this,e)},Subject.prototype.remove=function(e){a.Subscription.prototype.remove.call(this,e)},Subject.prototype.unsubscribe=function(){a.Subscription.prototype.unsubscribe.call(this)},Subject.prototype._subscribe=function(e){if(this.source)return this.source.subscribe(e);if(!e.isUnsubscribed){if(this.hasErrored)return e.error(this.errorValue);if(this.hasCompleted)return e.complete();this.throwIfUnsubscribed();var t=new s.SubjectSubscription(this,e);return this.observers.push(e),t}},Subject.prototype._unsubscribe=function(){this.source=null,this.isStopped=!0,this.observers=null,this.destination=null},Subject.prototype.next=function(e){this.throwIfUnsubscribed(),this.isStopped||(this.dispatching=!0,this._next(e),this.dispatching=!1,this.hasErrored?this._error(this.errorValue):this.hasCompleted&&this._complete())},Subject.prototype.error=function(e){this.throwIfUnsubscribed(),this.isStopped||(this.isStopped=!0,this.hasErrored=!0,this.errorValue=e,this.dispatching||this._error(e))},Subject.prototype.complete=function(){this.throwIfUnsubscribed(),this.isStopped||(this.isStopped=!0,this.hasCompleted=!0,this.dispatching||this._complete())},Subject.prototype.asObservable=function(){var e=new f(this);return e},Subject.prototype._next=function(e){this.destination?this.destination.next(e):this._finalNext(e)},Subject.prototype._finalNext=function(e){for(var t=-1,n=this.observers.slice(0),r=n.length;++t<r;)n[t].next(e)},Subject.prototype._error=function(e){this.destination?this.destination.error(e):this._finalError(e)},Subject.prototype._finalError=function(e){var t=-1,n=this.observers;if(this.observers=null,this.isUnsubscribed=!0,n)for(var r=n.length;++t<r;)n[t].error(e);this.isUnsubscribed=!1,this.unsubscribe()},Subject.prototype._complete=function(){this.destination?this.destination.complete():this._finalComplete()},Subject.prototype._finalComplete=function(){var e=-1,t=this.observers;if(this.observers=null,this.isUnsubscribed=!0,t)for(var n=t.length;++e<n;)t[e].complete();this.isUnsubscribed=!1,this.unsubscribe()},Subject.prototype.throwIfUnsubscribed=function(){this.isUnsubscribed&&u.throwError(new l.ObjectUnsubscribedError)},Subject.prototype[c.$$rxSubscriber]=function(){return new o.Subscriber(this)},Subject.create=function(e,t){return new Subject(e,t)},Subject}(i.Observable);t.Subject=p;var f=function(e){function SubjectObservable(t){e.call(this),this.source=t}return r(SubjectObservable,e),SubjectObservable}(i.Observable)},function(e,t,n){"use strict";var r=n(49),i=r.root.Symbol;"function"==typeof i?i.observable?t.$$observable=i.observable:("function"==typeof i.for?t.$$observable=i.for("observable"):t.$$observable=i("observable"),i.observable=t.$$observable):t.$$observable="@@observable"},function(e,t){"use strict";t.errorObject={e:{}}},function(e,t){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},function(e,t){"use strict";function isFunction(e){return"function"==typeof e}t.isFunction=isFunction},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(79)),__export(n(66)),__export(n(401))},function(e,t,n){"use strict";var r=n(4),i=n(273),o=n(272),a=n(271),s=n(171),c=n(270),u=n(172),l=n(116),p=n(274);t.Request=p.Request;var f=n(174);t.Response=f.Response;var h=n(173);t.Connection=h.Connection,t.ConnectionBackend=h.ConnectionBackend;var d=n(171);t.BrowserXhr=d.BrowserXhr;var g=n(172);t.BaseRequestOptions=g.BaseRequestOptions,t.RequestOptions=g.RequestOptions;var y=n(116);t.BaseResponseOptions=y.BaseResponseOptions,t.ResponseOptions=y.ResponseOptions;var m=n(272);t.XHRBackend=m.XHRBackend,t.XHRConnection=m.XHRConnection;var _=n(271);t.JSONPBackend=_.JSONPBackend,t.JSONPConnection=_.JSONPConnection;var v=n(273);t.Http=v.Http,t.Jsonp=v.Jsonp;var b=n(89);t.Headers=b.Headers;var C=n(53);t.ResponseType=C.ResponseType,t.ReadyState=C.ReadyState,t.RequestMethod=C.RequestMethod;var P=n(275);t.URLSearchParams=P.URLSearchParams,t.HTTP_PROVIDERS=[r.provide(i.Http,{useFactory:function(e,t){return new i.Http(e,t)},deps:[o.XHRBackend,u.RequestOptions]}),s.BrowserXhr,r.provide(u.RequestOptions,{useClass:u.BaseRequestOptions}),r.provide(l.ResponseOptions,{useClass:l.BaseResponseOptions}),o.XHRBackend],t.HTTP_BINDINGS=t.HTTP_PROVIDERS,t.JSONP_PROVIDERS=[r.provide(i.Jsonp,{useFactory:function(e,t){return new i.Jsonp(e,t)},deps:[a.JSONPBackend,u.RequestOptions]}),c.BrowserJsonp,r.provide(u.RequestOptions,{useClass:u.BaseRequestOptions}),r.provide(l.ResponseOptions,{useClass:l.BaseResponseOptions}),r.provide(a.JSONPBackend,{useClass:a.JSONPBackend_})],t.JSON_BINDINGS=t.JSONP_PROVIDERS},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(6),a=n(390),s=n(215),c=function(){function AnimationBuilder(e){this.browserDetails=e}return AnimationBuilder.prototype.css=function(){return new a.CssAnimationBuilder(this.browserDetails)},AnimationBuilder=r([o.Injectable(),i("design:paramtypes",[s.BrowserDetails])],AnimationBuilder)}();t.AnimationBuilder=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(6),a=n(269),s=n(14),c=function(){function BrowserDetails(){this.elapsedTimeIncludesDelay=!1,this.doesElapsedTimeIncludesDelay()}return BrowserDetails.prototype.doesElapsedTimeIncludesDelay=function(){var e=this,t=s.DOM.createElement("div");s.DOM.setAttribute(t,"style","position: absolute; top: -9999px; left: -9999px; width: 1px;\n      height: 1px; transition: all 1ms linear 1ms;"),this.raf(function(n){s.DOM.on(t,"transitionend",function(n){var r=a.Math.round(1e3*n.elapsedTime);e.elapsedTimeIncludesDelay=2==r,s.DOM.remove(t)}),s.DOM.setStyle(t,"width","2px")},2)},BrowserDetails.prototype.raf=function(e,t){void 0===t&&(t=1);var n=new u(e,t);return function(){return n.cancel()}},BrowserDetails=r([o.Injectable(),i("design:paramtypes",[])],BrowserDetails)}();t.BrowserDetails=c;var u=function(){function RafQueue(e,t){this.callback=e,this.frames=t,this._raf()}return RafQueue.prototype._raf=function(){var e=this;this.currentFrameId=s.DOM.requestAnimationFrame(function(t){return e._nextFrame(t)})},RafQueue.prototype._nextFrame=function(e){this.frames--,this.frames>0?this._raf():this.callback(e)},RafQueue.prototype.cancel=function(){s.DOM.cancelAnimationFrame(this.currentFrameId),this.currentFrameId=null},RafQueue}()},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var r=n(217);t.NgClass=r.NgClass;var i=n(218);t.NgFor=i.NgFor;var o=n(219);t.NgIf=o.NgIf;var a=n(221);t.NgStyle=a.NgStyle;var s=n(136);t.NgSwitch=s.NgSwitch,t.NgSwitchWhen=s.NgSwitchWhen,t.NgSwitchDefault=s.NgSwitchDefault;var c=n(220);t.NgPlural=c.NgPlural,t.NgPluralCase=c.NgPluralCase,t.NgLocalization=c.NgLocalization,__export(n(394));var u=n(393);t.CORE_DIRECTIVES=u.CORE_DIRECTIVES},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(1),a=n(4),s=n(3),c=function(){function NgClass(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(NgClass.prototype,"initialClasses",{set:function(e){this._applyInitialClasses(!0),this._initialClasses=o.isPresent(e)&&o.isString(e)?e.split(" "):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(NgClass.prototype,"rawClass",{set:function(e){this._cleanupClasses(this._rawClass),o.isString(e)&&(e=e.split(" ")),this._rawClass=e,this._iterableDiffer=null,this._keyValueDiffer=null,o.isPresent(e)&&(s.isListLikeIterable(e)?this._iterableDiffer=this._iterableDiffers.find(e).create(null):this._keyValueDiffer=this._keyValueDiffers.find(e).create(null))},enumerable:!0,configurable:!0}),NgClass.prototype.ngDoCheck=function(){if(o.isPresent(this._iterableDiffer)){var e=this._iterableDiffer.diff(this._rawClass);o.isPresent(e)&&this._applyIterableChanges(e)}if(o.isPresent(this._keyValueDiffer)){var e=this._keyValueDiffer.diff(this._rawClass);o.isPresent(e)&&this._applyKeyValueChanges(e)}},NgClass.prototype.ngOnDestroy=function(){this._cleanupClasses(this._rawClass)},NgClass.prototype._cleanupClasses=function(e){this._applyClasses(e,!0),this._applyInitialClasses(!1)},NgClass.prototype._applyKeyValueChanges=function(e){var t=this;e.forEachAddedItem(function(e){t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})},NgClass.prototype._applyIterableChanges=function(e){var t=this;e.forEachAddedItem(function(e){t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){t._toggleClass(e.item,!1)})},NgClass.prototype._applyInitialClasses=function(e){var t=this;this._initialClasses.forEach(function(n){return t._toggleClass(n,!e)})},NgClass.prototype._applyClasses=function(e,t){var n=this;o.isPresent(e)&&(o.isArray(e)?e.forEach(function(e){return n._toggleClass(e,!t)}):e instanceof Set?e.forEach(function(e){return n._toggleClass(e,!t)}):s.StringMapWrapper.forEach(e,function(e,r){o.isPresent(e)&&n._toggleClass(r,!t)}))},NgClass.prototype._toggleClass=function(e,t){if(e=e.trim(),e.length>0)if(e.indexOf(" ")>-1)for(var n=e.split(/\s+/g),r=0,i=n.length;i>r;r++)this._renderer.setElementClass(this._ngEl.nativeElement,n[r],t);else this._renderer.setElementClass(this._ngEl.nativeElement,e,t)},NgClass=r([a.Directive({selector:"[ngClass]",inputs:["rawClass: ngClass","initialClasses: class"]}),i("design:paramtypes",[a.IterableDiffers,a.KeyValueDiffers,a.ElementRef,a.Renderer])],NgClass)}();t.NgClass=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(4),a=n(1),s=n(5),c=function(){function NgFor(e,t,n,r){this._viewContainer=e,this._templateRef=t,this._iterableDiffers=n,this._cdr=r}return Object.defineProperty(NgFor.prototype,"ngForOf",{set:function(e){if(this._ngForOf=e,a.isBlank(this._differ)&&a.isPresent(e))try{this._differ=this._iterableDiffers.find(e).create(this._cdr,this._ngForTrackBy)}catch(t){throw new s.BaseException("Cannot find a differ supporting object '"+e+"' of type '"+a.getTypeNameForDebugging(e)+"'. NgFor only supports binding to Iterables such as Arrays.")}},enumerable:!0,configurable:!0}),Object.defineProperty(NgFor.prototype,"ngForTemplate",{set:function(e){a.isPresent(e)&&(this._templateRef=e)},enumerable:!0,configurable:!0}),Object.defineProperty(NgFor.prototype,"ngForTrackBy",{set:function(e){this._ngForTrackBy=e},enumerable:!0,configurable:!0}),NgFor.prototype.ngDoCheck=function(){if(a.isPresent(this._differ)){var e=this._differ.diff(this._ngForOf);a.isPresent(e)&&this._applyChanges(e)}},NgFor.prototype._applyChanges=function(e){var t=this,n=[];e.forEachRemovedItem(function(e){return n.push(new u(e,null))}),e.forEachMovedItem(function(e){return n.push(new u(e,null))});var r=this._bulkRemove(n);e.forEachAddedItem(function(e){return r.push(new u(e,null))}),this._bulkInsert(r);for(var i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(var i=0,o=this._viewContainer.length;o>i;i++){var a=this._viewContainer.get(i);a.setLocal("first",0===i),a.setLocal("last",i===o-1)}e.forEachIdentityChange(function(e){var n=t._viewContainer.get(e.currentIndex);n.setLocal("$implicit",e.item)})},NgFor.prototype._perViewChange=function(e,t){e.setLocal("$implicit",t.item),e.setLocal("index",t.currentIndex),e.setLocal("even",t.currentIndex%2==0),e.setLocal("odd",t.currentIndex%2==1)},NgFor.prototype._bulkRemove=function(e){e.sort(function(e,t){return e.record.previousIndex-t.record.previousIndex});for(var t=[],n=e.length-1;n>=0;n--){var r=e[n];a.isPresent(r.record.currentIndex)?(r.view=this._viewContainer.detach(r.record.previousIndex),t.push(r)):this._viewContainer.remove(r.record.previousIndex)}return t},NgFor.prototype._bulkInsert=function(e){e.sort(function(e,t){return e.record.currentIndex-t.record.currentIndex});for(var t=0;t<e.length;t++){var n=e[t];a.isPresent(n.view)?this._viewContainer.insert(n.view,n.record.currentIndex):n.view=this._viewContainer.createEmbeddedView(this._templateRef,n.record.currentIndex)}return e},NgFor=r([o.Directive({selector:"[ngFor][ngForOf]",inputs:["ngForTrackBy","ngForOf","ngForTemplate"]}),i("design:paramtypes",[o.ViewContainerRef,o.TemplateRef,o.IterableDiffers,o.ChangeDetectorRef])],NgFor)}();t.NgFor=c;var u=function(){function RecordViewTuple(e,t){this.record=e,this.view=t}return RecordViewTuple}()},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(4),a=n(1),s=function(){function NgIf(e,t){this._viewContainer=e,this._templateRef=t,this._prevCondition=null}return Object.defineProperty(NgIf.prototype,"ngIf",{set:function(e){!e||!a.isBlank(this._prevCondition)&&this._prevCondition?e||!a.isBlank(this._prevCondition)&&!this._prevCondition||(this._prevCondition=!1,this._viewContainer.clear()):(this._prevCondition=!0,this._viewContainer.createEmbeddedView(this._templateRef))},enumerable:!0,configurable:!0}),NgIf=r([o.Directive({selector:"[ngIf]",inputs:["ngIf"]}),i("design:paramtypes",[o.ViewContainerRef,o.TemplateRef])],NgIf)}();t.NgIf=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(4),s=n(1),c=n(3),u=n(136),l="other",p=function(){function NgLocalization(){}return NgLocalization}();t.NgLocalization=p;var f=function(){function NgPluralCase(e,t,n){this.value=e,this._view=new u.SwitchView(n,t)}return NgPluralCase=r([a.Directive({selector:"[ngPluralCase]"}),o(0,a.Attribute("ngPluralCase")),i("design:paramtypes",[String,a.TemplateRef,a.ViewContainerRef])],NgPluralCase)}();t.NgPluralCase=f;var h=function(){function NgPlural(e){this._localization=e,this._caseViews=new c.Map,this.cases=null}return Object.defineProperty(NgPlural.prototype,"ngPlural",{set:function(e){this._switchValue=e,this._updateView()},enumerable:!0,configurable:!0}),NgPlural.prototype.ngAfterContentInit=function(){var e=this;this.cases.forEach(function(t){e._caseViews.set(e._formatValue(t),t._view)}),this._updateView()},NgPlural.prototype._updateView=function(){this._clearViews();var e=this._caseViews.get(this._switchValue);s.isPresent(e)||(e=this._getCategoryView(this._switchValue)),this._activateView(e)},NgPlural.prototype._clearViews=function(){s.isPresent(this._activeView)&&this._activeView.destroy()},NgPlural.prototype._activateView=function(e){s.isPresent(e)&&(this._activeView=e,this._activeView.create())},NgPlural.prototype._getCategoryView=function(e){var t=this._localization.getPluralCategory(e),n=this._caseViews.get(t);return s.isPresent(n)?n:this._caseViews.get(l)},NgPlural.prototype._isValueView=function(e){return"="===e.value[0]},NgPlural.prototype._formatValue=function(e){return this._isValueView(e)?this._stripValue(e.value):e.value},NgPlural.prototype._stripValue=function(e){return s.NumberWrapper.parseInt(e.substring(1),10)},r([a.ContentChildren(f),i("design:type",a.QueryList)],NgPlural.prototype,"cases",void 0),r([a.Input(),i("design:type",Number),i("design:paramtypes",[Number])],NgPlural.prototype,"ngPlural",null),NgPlural=r([a.Directive({selector:"[ngPlural]"}),i("design:paramtypes",[p])],NgPlural)}();t.NgPlural=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(4),a=n(1),s=function(){function NgStyle(e,t,n){this._differs=e,this._ngEl=t,this._renderer=n}return Object.defineProperty(NgStyle.prototype,"rawStyle",{set:function(e){this._rawStyle=e,a.isBlank(this._differ)&&a.isPresent(e)&&(this._differ=this._differs.find(this._rawStyle).create(null))},enumerable:!0,configurable:!0}),NgStyle.prototype.ngDoCheck=function(){if(a.isPresent(this._differ)){var e=this._differ.diff(this._rawStyle);a.isPresent(e)&&this._applyChanges(e)}},NgStyle.prototype._applyChanges=function(e){var t=this;e.forEachAddedItem(function(e){t._setStyle(e.key,e.currentValue)}),e.forEachChangedItem(function(e){t._setStyle(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){t._setStyle(e.key,null)})},NgStyle.prototype._setStyle=function(e,t){this._renderer.setElementStyle(this._ngEl.nativeElement,e,t)},NgStyle=r([o.Directive({selector:"[ngStyle]",inputs:["rawStyle: ngStyle"]}),i("design:paramtypes",[o.KeyValueDiffers,o.ElementRef,o.Renderer])],NgStyle)}();t.NgStyle=s},function(e,t,n){"use strict";var r=n(104);t.AbstractControl=r.AbstractControl,t.Control=r.Control,t.ControlGroup=r.ControlGroup,t.ControlArray=r.ControlArray;var i=n(137);t.AbstractControlDirective=i.AbstractControlDirective;var o=n(77);t.ControlContainer=o.ControlContainer;var a=n(139);t.NgControlName=a.NgControlName;var s=n(142);t.NgFormControl=s.NgFormControl;var c=n(144);t.NgModel=c.NgModel;var u=n(51);t.NgControl=u.NgControl;var l=n(138);t.NgControlGroup=l.NgControlGroup;var p=n(143);t.NgFormModel=p.NgFormModel;var f=n(141);t.NgForm=f.NgForm;var h=n(30);t.NG_VALUE_ACCESSOR=h.NG_VALUE_ACCESSOR;var d=n(101);t.DefaultValueAccessor=d.DefaultValueAccessor;var g=n(140);t.NgControlStatus=g.NgControlStatus;var y=n(100);t.CheckboxControlValueAccessor=y.CheckboxControlValueAccessor;var m=n(103);t.NgSelectOption=m.NgSelectOption,t.SelectControlValueAccessor=m.SelectControlValueAccessor;var _=n(395);t.FORM_DIRECTIVES=_.FORM_DIRECTIVES,t.RadioButtonState=_.RadioButtonState;var v=n(31);t.NG_VALIDATORS=v.NG_VALIDATORS,t.NG_ASYNC_VALIDATORS=v.NG_ASYNC_VALIDATORS,t.Validators=v.Validators;var b=n(146);t.RequiredValidator=b.RequiredValidator,t.MinLengthValidator=b.MinLengthValidator,t.MaxLengthValidator=b.MaxLengthValidator,t.PatternValidator=b.PatternValidator;
var C=n(223);t.FormBuilder=C.FormBuilder;var P=n(223),R=n(102),w=n(1);t.FORM_PROVIDERS=w.CONST_EXPR([P.FormBuilder,R.RadioControlRegistry]),t.FORM_BINDINGS=t.FORM_PROVIDERS},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(4),a=n(3),s=n(1),c=n(104),u=function(){function FormBuilder(){}return FormBuilder.prototype.group=function(e,t){void 0===t&&(t=null);var n=this._reduceControls(e),r=s.isPresent(t)?a.StringMapWrapper.get(t,"optionals"):null,i=s.isPresent(t)?a.StringMapWrapper.get(t,"validator"):null,o=s.isPresent(t)?a.StringMapWrapper.get(t,"asyncValidator"):null;return new c.ControlGroup(n,r,i,o)},FormBuilder.prototype.control=function(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=null),new c.Control(e,t,n)},FormBuilder.prototype.array=function(e,t,n){var r=this;void 0===t&&(t=null),void 0===n&&(n=null);var i=e.map(function(e){return r._createControl(e)});return new c.ControlArray(i,t,n)},FormBuilder.prototype._reduceControls=function(e){var t=this,n={};return a.StringMapWrapper.forEach(e,function(e,r){n[r]=t._createControl(e)}),n},FormBuilder.prototype._createControl=function(e){if(e instanceof c.Control||e instanceof c.ControlGroup||e instanceof c.ControlArray)return e;if(s.isArray(e)){var t=e[0],n=e.length>1?e[1]:null,r=e.length>2?e[2]:null;return this.control(t,n,r)}return this.control(e)},FormBuilder=r([o.Injectable(),i("design:paramtypes",[])],FormBuilder)}();t.FormBuilder=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(1),a=n(9),s=n(4),c=n(32),u=function(){function ObservableStrategy(){}return ObservableStrategy.prototype.createSubscription=function(e,t){return a.ObservableWrapper.subscribe(e,t,function(e){throw e})},ObservableStrategy.prototype.dispose=function(e){a.ObservableWrapper.dispose(e)},ObservableStrategy.prototype.onDestroy=function(e){a.ObservableWrapper.dispose(e)},ObservableStrategy}(),l=function(){function PromiseStrategy(){}return PromiseStrategy.prototype.createSubscription=function(e,t){return e.then(t)},PromiseStrategy.prototype.dispose=function(e){},PromiseStrategy.prototype.onDestroy=function(e){},PromiseStrategy}(),p=new l,f=new u,h=function(){function AsyncPipe(e){this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}return AsyncPipe.prototype.ngOnDestroy=function(){o.isPresent(this._subscription)&&this._dispose()},AsyncPipe.prototype.transform=function(e,t){return o.isBlank(this._obj)?(o.isPresent(e)&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue):e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,s.WrappedValue.wrap(this._latestValue))},AsyncPipe.prototype._subscribe=function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,function(n){return t._updateLatestValue(e,n)})},AsyncPipe.prototype._selectStrategy=function(e){if(o.isPromise(e))return p;if(a.ObservableWrapper.isObservable(e))return f;throw new c.InvalidPipeArgumentException(AsyncPipe,e)},AsyncPipe.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},AsyncPipe.prototype._updateLatestValue=function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())},AsyncPipe=r([s.Pipe({name:"async",pure:!1}),s.Injectable(),i("design:paramtypes",[s.ChangeDetectorRef])],AsyncPipe)}();t.AsyncPipe=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(1),a=n(268),s=n(4),c=n(3),u=n(32),l="en-US",p=function(){function DatePipe(){}return DatePipe.prototype.transform=function(e,t){if(o.isBlank(e))return null;if(!this.supports(e))throw new u.InvalidPipeArgumentException(DatePipe,e);var n=o.isPresent(t)&&t.length>0?t[0]:"mediumDate";return o.isNumber(e)&&(e=o.DateWrapper.fromMillis(e)),c.StringMapWrapper.contains(DatePipe._ALIASES,n)&&(n=c.StringMapWrapper.get(DatePipe._ALIASES,n)),a.DateFormatter.format(e,l,n)},DatePipe.prototype.supports=function(e){return o.isDate(e)||o.isNumber(e)},DatePipe._ALIASES={medium:"yMMMdjms","short":"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},DatePipe=r([o.CONST(),s.Pipe({name:"date",pure:!0}),s.Injectable(),i("design:paramtypes",[])],DatePipe)}();t.DatePipe=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(1),a=n(4),s=n(32),c=o.RegExpWrapper.create("#"),u=function(){function I18nPluralPipe(){}return I18nPluralPipe.prototype.transform=function(e,t){void 0===t&&(t=null);var n,r,i=t[0];if(!o.isStringMap(i))throw new s.InvalidPipeArgumentException(I18nPluralPipe,i);return n=0===e||1===e?"="+e:"other",r=o.isPresent(e)?e.toString():"",o.StringWrapper.replaceAll(i[n],c,r)},I18nPluralPipe=r([o.CONST(),a.Pipe({name:"i18nPlural",pure:!0}),a.Injectable(),i("design:paramtypes",[])],I18nPluralPipe)}();t.I18nPluralPipe=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(1),a=n(3),s=n(4),c=n(32),u=function(){function I18nSelectPipe(){}return I18nSelectPipe.prototype.transform=function(e,t){void 0===t&&(t=null);var n=t[0];if(!o.isStringMap(n))throw new c.InvalidPipeArgumentException(I18nSelectPipe,n);return a.StringMapWrapper.contains(n,e)?n[e]:n.other},I18nSelectPipe=r([o.CONST(),s.Pipe({name:"i18nSelect",pure:!0}),s.Injectable(),i("design:paramtypes",[])],I18nSelectPipe)}();t.I18nSelectPipe=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(1),a=n(4),s=function(){function JsonPipe(){}return JsonPipe.prototype.transform=function(e,t){return void 0===t&&(t=null),o.Json.stringify(e)},JsonPipe=r([o.CONST(),a.Pipe({name:"json",pure:!1}),a.Injectable(),i("design:paramtypes",[])],JsonPipe)}();t.JsonPipe=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(1),a=n(4),s=n(32),c=function(){function LowerCasePipe(){}return LowerCasePipe.prototype.transform=function(e,t){if(void 0===t&&(t=null),o.isBlank(e))return e;if(!o.isString(e))throw new s.InvalidPipeArgumentException(LowerCasePipe,e);return e.toLowerCase()},LowerCasePipe=r([o.CONST(),a.Pipe({name:"lowercase"}),a.Injectable(),i("design:paramtypes",[])],LowerCasePipe)}();t.LowerCasePipe=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(1),s=n(5),c=n(268),u=n(4),l=n(3),p=n(32),f="en-US",h=a.RegExpWrapper.create("^(\\d+)?\\.((\\d+)(\\-(\\d+))?)?$"),d=function(){function NumberPipe(){}return NumberPipe._format=function(e,t,n,r,i){if(void 0===r&&(r=null),void 0===i&&(i=!1),a.isBlank(e))return null;if(!a.isNumber(e))throw new p.InvalidPipeArgumentException(NumberPipe,e);var o=1,u=0,l=3;if(a.isPresent(n)){var d=a.RegExpWrapper.firstMatch(h,n);if(a.isBlank(d))throw new s.BaseException(n+" is not a valid digit info for number pipes");a.isPresent(d[1])&&(o=a.NumberWrapper.parseIntAutoRadix(d[1])),a.isPresent(d[3])&&(u=a.NumberWrapper.parseIntAutoRadix(d[3])),a.isPresent(d[5])&&(l=a.NumberWrapper.parseIntAutoRadix(d[5]))}return c.NumberFormatter.format(e,f,t,{minimumIntegerDigits:o,minimumFractionDigits:u,maximumFractionDigits:l,currency:r,currencyAsSymbol:i})},NumberPipe=i([a.CONST(),u.Injectable(),o("design:paramtypes",[])],NumberPipe)}();t.NumberPipe=d;var g=function(e){function DecimalPipe(){e.apply(this,arguments)}return r(DecimalPipe,e),DecimalPipe.prototype.transform=function(e,t){var n=l.ListWrapper.first(t);return d._format(e,c.NumberFormatStyle.Decimal,n)},DecimalPipe=i([a.CONST(),u.Pipe({name:"number"}),u.Injectable(),o("design:paramtypes",[])],DecimalPipe)}(d);t.DecimalPipe=g;var y=function(e){function PercentPipe(){e.apply(this,arguments)}return r(PercentPipe,e),PercentPipe.prototype.transform=function(e,t){var n=l.ListWrapper.first(t);return d._format(e,c.NumberFormatStyle.Percent,n)},PercentPipe=i([a.CONST(),u.Pipe({name:"percent"}),u.Injectable(),o("design:paramtypes",[])],PercentPipe)}(d);t.PercentPipe=y;var m=function(e){function CurrencyPipe(){e.apply(this,arguments)}return r(CurrencyPipe,e),CurrencyPipe.prototype.transform=function(e,t){var n=a.isPresent(t)&&t.length>0?t[0]:"USD",r=a.isPresent(t)&&t.length>1?t[1]:!1,i=a.isPresent(t)&&t.length>2?t[2]:null;return d._format(e,c.NumberFormatStyle.Currency,i,n,r)},CurrencyPipe=i([a.CONST(),u.Pipe({name:"currency"}),u.Injectable(),o("design:paramtypes",[])],CurrencyPipe)}(d);t.CurrencyPipe=m},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(1),a=n(5),s=n(4),c=n(32),u=function(){function ReplacePipe(){}return ReplacePipe.prototype.transform=function(e,t){if(o.isBlank(t)||2!==t.length)throw new a.BaseException("ReplacePipe requires two arguments");if(o.isBlank(e))return e;if(!this._supportedInput(e))throw new c.InvalidPipeArgumentException(ReplacePipe,e);var n=e.toString(),r=t[0],i=t[1];if(!this._supportedPattern(r))throw new c.InvalidPipeArgumentException(ReplacePipe,r);if(!this._supportedReplacement(i))throw new c.InvalidPipeArgumentException(ReplacePipe,i);if(o.isFunction(i)){var s=o.isString(r)?o.RegExpWrapper.create(r):r;return o.StringWrapper.replaceAllMapped(n,s,i)}return r instanceof RegExp?o.StringWrapper.replaceAll(n,r,i):o.StringWrapper.replace(n,r,i)},ReplacePipe.prototype._supportedInput=function(e){return o.isString(e)||o.isNumber(e)},ReplacePipe.prototype._supportedPattern=function(e){return o.isString(e)||e instanceof RegExp},ReplacePipe.prototype._supportedReplacement=function(e){return o.isString(e)||o.isFunction(e)},ReplacePipe=r([s.Pipe({name:"replace"}),s.Injectable(),i("design:paramtypes",[])],ReplacePipe)}();t.ReplacePipe=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(1),a=n(5),s=n(3),c=n(4),u=n(32),l=function(){function SlicePipe(){}return SlicePipe.prototype.transform=function(e,t){if(void 0===t&&(t=null),o.isBlank(t)||0==t.length)throw new a.BaseException("Slice pipe requires one argument");if(!this.supports(e))throw new u.InvalidPipeArgumentException(SlicePipe,e);if(o.isBlank(e))return e;var n=t[0],r=t.length>1?t[1]:null;return o.isString(e)?o.StringWrapper.slice(e,n,r):s.ListWrapper.slice(e,n,r)},SlicePipe.prototype.supports=function(e){return o.isString(e)||o.isArray(e)},SlicePipe=r([c.Pipe({name:"slice",pure:!1}),c.Injectable(),i("design:paramtypes",[])],SlicePipe)}();t.SlicePipe=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(1),a=n(4),s=n(32),c=function(){function UpperCasePipe(){}return UpperCasePipe.prototype.transform=function(e,t){if(void 0===t&&(t=null),o.isBlank(e))return e;if(!o.isString(e))throw new s.InvalidPipeArgumentException(UpperCasePipe,e);return e.toUpperCase()},UpperCasePipe=r([o.CONST(),a.Pipe({name:"uppercase"}),a.Injectable(),i("design:paramtypes",[])],UpperCasePipe)}();t.UpperCasePipe=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(64),a=n(245),s=n(155),c=n(67),u=n(42),l=n(400),p=n(1),f=n(23),h=n(449),d=n(41),g=n(6),y="AbstractChangeDetector",m="ChangeDetectionUtil",_="ChangeDetectorState";t.CHANGE_DETECTION_JIT_IMPORTS=p.CONST_EXPR({AbstractChangeDetector:s.AbstractChangeDetector,ChangeDetectionUtil:c.ChangeDetectionUtil,ChangeDetectorState:u.ChangeDetectorState});var v=o.moduleRef("package:angular2/src/core/change_detection/abstract_change_detector"+d.MODULE_SUFFIX),b=o.moduleRef("package:angular2/src/core/change_detection/change_detection_util"+d.MODULE_SUFFIX),C=o.moduleRef("package:angular2/src/core/change_detection/pregen_proto_change_detector"+d.MODULE_SUFFIX),P=o.moduleRef("package:angular2/src/core/change_detection/constants"+d.MODULE_SUFFIX),R=function(){function ChangeDetectionCompiler(e){this._genConfig=e}return ChangeDetectionCompiler.prototype.compileComponentRuntime=function(e,t,n){var r=this,i=l.createChangeDetectorDefinitions(e,t,this._genConfig,n);return i.map(function(e){return r._createChangeDetectorFactory(e)})},ChangeDetectionCompiler.prototype._createChangeDetectorFactory=function(e){var t=new f.DynamicProtoChangeDetector(e);return function(){return t.instantiate()}},ChangeDetectionCompiler.prototype.compileComponentCodeGen=function(e,t,n){var r=l.createChangeDetectorDefinitions(e,t,this._genConfig,n),i=[],s=0,c=r.map(function(t){var n,r;if(p.IS_DART){n=new h.Codegen(C);var c="_"+t.id,u=0===s&&e.isHost?"dynamic":""+o.moduleRef(e.moduleUrl)+e.name;n.generate(u,c,t),i.push(c+".newChangeDetector"),r=n.toString()}else n=new a.ChangeDetectorJITGenerator(t,""+b+m,""+v+y,""+P+_),i.push("function() { return new "+n.typeName+"(); }"),r=n.generateSource();return s++,r});return new o.SourceExpressions(c,i)},ChangeDetectionCompiler=r([g.Injectable(),i("design:paramtypes",[f.ChangeDetectorGenConfig])],ChangeDetectionCompiler)}();t.ChangeDetectionCompiler=R},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(69),s=n(111),c=n(153),u=n(6),l=function(e){function RuntimeCompiler(){e.apply(this,arguments)}return r(RuntimeCompiler,e),RuntimeCompiler}(a.Compiler);t.RuntimeCompiler=l;var p=function(e){function RuntimeCompiler_(t){e.call(this),this._templateCompiler=t}return r(RuntimeCompiler_,e),RuntimeCompiler_.prototype.compileInHost=function(e){return this._templateCompiler.compileHostComponentRuntime(e).then(function(e){return new s.HostViewFactoryRef_(e)})},RuntimeCompiler_.prototype.clearCache=function(){e.prototype.clearCache.call(this),this._templateCompiler.clearCache()},RuntimeCompiler_=i([u.Injectable(),o("design:paramtypes",[c.TemplateCompiler])],RuntimeCompiler_)}(a.Compiler_);t.RuntimeCompiler_=p},function(e,t,n){"use strict";function flattenDirectives(e,t){var n=[];return s.isPresent(t)&&flattenArray(t,n),s.isPresent(e.directives)&&flattenArray(e.directives,n),n}function flattenPipes(e,t){var n=[];return s.isPresent(t)&&flattenArray(t,n),s.isPresent(e.pipes)&&flattenArray(e.pipes,n),n}function flattenArray(e,t){for(var n=0;n<e.length;n++){var r=a.resolveForwardRef(e[n]);s.isArray(r)?flattenArray(r,t):t.push(r)}}function isValidType(e){return s.isPresent(e)&&e instanceof s.Type}function calcModuleUrl(e,t){var n=t.moduleId;if(s.isPresent(n)){var r=C.getUrlScheme(n);return s.isPresent(r)&&r.length>0?n:"package:"+n+v.MODULE_SUFFIX}return y.reflector.importUri(e)}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(6),s=n(1),c=n(5),u=n(105),l=n(86),p=n(107),f=n(164),h=n(166),d=n(418),g=n(109),y=n(18),m=n(6),_=n(168),v=n(41),b=n(399),C=n(79),P=function(){function RuntimeMetadataResolver(e,t,n,r,i){this._directiveResolver=e,this._pipeResolver=t,this._viewResolver=n,this._platformDirectives=r,this._platformPipes=i,this._directiveCache=new Map,this._pipeCache=new Map,this._anonymousTypes=new Map,this._anonymousTypeIndex=0}return RuntimeMetadataResolver.prototype.sanitizeName=function(e){var t=s.stringify(e);if(t.indexOf("(")<0)return t;var n=this._anonymousTypes.get(e);return n||(this._anonymousTypes.set(e,this._anonymousTypeIndex++),n=this._anonymousTypes.get(e)),"anonymous_type_"+n+"_"},RuntimeMetadataResolver.prototype.getDirectiveMetadata=function(e){var t=this._directiveCache.get(e);if(s.isBlank(t)){var n=this._directiveResolver.resolve(e),r=null,i=null,o=null;if(n instanceof l.ComponentMetadata){b.assertArrayOfStrings("styles",n.styles);var a=n;r=calcModuleUrl(e,a);var c=this._viewResolver.resolve(e);b.assertArrayOfStrings("styles",c.styles),i=new u.CompileTemplateMetadata({encapsulation:c.encapsulation,template:c.template,templateUrl:c.templateUrl,styles:c.styles,styleUrls:c.styleUrls}),o=a.changeDetection}t=u.CompileDirectiveMetadata.create({selector:n.selector,exportAs:n.exportAs,isComponent:s.isPresent(i),dynamicLoadable:!0,type:new u.CompileTypeMetadata({name:this.sanitizeName(e),moduleUrl:r,runtime:e}),template:i,changeDetection:o,inputs:n.inputs,outputs:n.outputs,host:n.host,lifecycleHooks:g.LIFECYCLE_HOOKS_VALUES.filter(function(t){return d.hasLifecycleHook(t,e)})}),this._directiveCache.set(e,t)}return t},RuntimeMetadataResolver.prototype.getPipeMetadata=function(e){var t=this._pipeCache.get(e);if(s.isBlank(t)){var n=this._pipeResolver.resolve(e),r=y.reflector.importUri(e);t=new u.CompilePipeMetadata({type:new u.CompileTypeMetadata({name:this.sanitizeName(e),moduleUrl:r,runtime:e}),name:n.name,pure:n.pure}),this._pipeCache.set(e,t)}return t},RuntimeMetadataResolver.prototype.getViewDirectivesMetadata=function(e){for(var t=this,n=this._viewResolver.resolve(e),r=flattenDirectives(n,this._platformDirectives),i=0;i<r.length;i++)if(!isValidType(r[i]))throw new c.BaseException("Unexpected directive value '"+s.stringify(r[i])+"' on the View of component '"+s.stringify(e)+"'");return r.map(function(e){return t.getDirectiveMetadata(e)})},RuntimeMetadataResolver.prototype.getViewPipesMetadata=function(e){for(var t=this,n=this._viewResolver.resolve(e),r=flattenPipes(n,this._platformPipes),i=0;i<r.length;i++)if(!isValidType(r[i]))throw new c.BaseException("Unexpected piped value '"+s.stringify(r[i])+"' on the View of component '"+s.stringify(e)+"'");return r.map(function(e){return t.getPipeMetadata(e)})},RuntimeMetadataResolver=r([m.Injectable(),o(3,m.Optional()),o(3,m.Inject(_.PLATFORM_DIRECTIVES)),o(4,m.Optional()),o(4,m.Inject(_.PLATFORM_PIPES)),i("design:paramtypes",[p.DirectiveResolver,f.PipeResolver,h.ViewResolver,Array,Array])],RuntimeMetadataResolver)}();t.RuntimeMetadataResolver=P},function(e,t,n){"use strict";var r=n(3),i=n(1),o=n(5),a="",s=i.RegExpWrapper.create("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-\\w*]+)(?:=([^\\]]*))?\\])|(\\))|(\\s*,\\s*)"),c=function(){function CssSelector(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return CssSelector.parse=function(e){for(var t,n=[],a=function(e,t){t.notSelectors.length>0&&i.isBlank(t.element)&&r.ListWrapper.isEmpty(t.classNames)&&r.ListWrapper.isEmpty(t.attrs)&&(t.element="*"),e.push(t)},c=new CssSelector,u=i.RegExpWrapper.matcher(s,e),l=c,p=!1;i.isPresent(t=i.RegExpMatcherWrapper.next(u));){if(i.isPresent(t[1])){if(p)throw new o.BaseException("Nesting :not is not allowed in a selector");p=!0,l=new CssSelector,c.notSelectors.push(l)}if(i.isPresent(t[2])&&l.setElement(t[2]),i.isPresent(t[3])&&l.addClassName(t[3]),i.isPresent(t[4])&&l.addAttribute(t[4],t[5]),i.isPresent(t[6])&&(p=!1,l=c),i.isPresent(t[7])){if(p)throw new o.BaseException("Multiple selectors in :not are not supported");a(n,c),c=l=new CssSelector}}return a(n,c),n},CssSelector.prototype.isElementSelector=function(){return i.isPresent(this.element)&&r.ListWrapper.isEmpty(this.classNames)&&r.ListWrapper.isEmpty(this.attrs)&&0===this.notSelectors.length},CssSelector.prototype.setElement=function(e){void 0===e&&(e=null),this.element=e},CssSelector.prototype.getMatchingElementTemplate=function(){for(var e=i.isPresent(this.element)?this.element:"div",t=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"",n="",r=0;r<this.attrs.length;r+=2){var o=this.attrs[r],a=""!==this.attrs[r+1]?'="'+this.attrs[r+1]+'"':"";n+=" "+o+a}return"<"+e+t+n+"></"+e+">"},CssSelector.prototype.addAttribute=function(e,t){void 0===t&&(t=a),this.attrs.push(e),t=i.isPresent(t)?t.toLowerCase():a,this.attrs.push(t)},CssSelector.prototype.addClassName=function(e){this.classNames.push(e.toLowerCase())},CssSelector.prototype.toString=function(){var e="";if(i.isPresent(this.element)&&(e+=this.element),i.isPresent(this.classNames))for(var t=0;t<this.classNames.length;t++)e+="."+this.classNames[t];if(i.isPresent(this.attrs))for(var t=0;t<this.attrs.length;){var n=this.attrs[t++],r=this.attrs[t++];e+="["+n,r.length>0&&(e+="="+r),e+="]"}return this.notSelectors.forEach(function(t){return e+=":not("+t+")"}),e},CssSelector}();t.CssSelector=c;var u=function(){function SelectorMatcher(){this._elementMap=new r.Map,this._elementPartialMap=new r.Map,this._classMap=new r.Map,this._classPartialMap=new r.Map,this._attrValueMap=new r.Map,this._attrValuePartialMap=new r.Map,this._listContexts=[]}return SelectorMatcher.createNotMatcher=function(e){var t=new SelectorMatcher;return t.addSelectables(e,null),t},SelectorMatcher.prototype.addSelectables=function(e,t){var n=null;e.length>1&&(n=new l(e),this._listContexts.push(n));for(var r=0;r<e.length;r++)this._addSelectable(e[r],t,n)},SelectorMatcher.prototype._addSelectable=function(e,t,n){var o=this,a=e.element,s=e.classNames,c=e.attrs,u=new p(e,t,n);if(i.isPresent(a)){var l=0===c.length&&0===s.length;l?this._addTerminal(o._elementMap,a,u):o=this._addPartial(o._elementPartialMap,a)}if(i.isPresent(s))for(var f=0;f<s.length;f++){var l=0===c.length&&f===s.length-1,h=s[f];l?this._addTerminal(o._classMap,h,u):o=this._addPartial(o._classPartialMap,h)}if(i.isPresent(c))for(var f=0;f<c.length;){var l=f===c.length-2,d=c[f++],g=c[f++];if(l){var y=o._attrValueMap,m=y.get(d);i.isBlank(m)&&(m=new r.Map,y.set(d,m)),this._addTerminal(m,g,u)}else{var _=o._attrValuePartialMap,v=_.get(d);i.isBlank(v)&&(v=new r.Map,_.set(d,v)),o=this._addPartial(v,g)}}},SelectorMatcher.prototype._addTerminal=function(e,t,n){var r=e.get(t);i.isBlank(r)&&(r=[],e.set(t,r)),r.push(n)},SelectorMatcher.prototype._addPartial=function(e,t){var n=e.get(t);return i.isBlank(n)&&(n=new SelectorMatcher,e.set(t,n)),n},SelectorMatcher.prototype.match=function(e,t){for(var n=!1,r=e.element,o=e.classNames,s=e.attrs,c=0;c<this._listContexts.length;c++)this._listContexts[c].alreadyMatched=!1;if(n=this._matchTerminal(this._elementMap,r,e,t)||n,n=this._matchPartial(this._elementPartialMap,r,e,t)||n,i.isPresent(o))for(var u=0;u<o.length;u++){var l=o[u];n=this._matchTerminal(this._classMap,l,e,t)||n,n=this._matchPartial(this._classPartialMap,l,e,t)||n}if(i.isPresent(s))for(var u=0;u<s.length;){var p=s[u++],f=s[u++],h=this._attrValueMap.get(p);i.StringWrapper.equals(f,a)||(n=this._matchTerminal(h,a,e,t)||n),n=this._matchTerminal(h,f,e,t)||n;var d=this._attrValuePartialMap.get(p);i.StringWrapper.equals(f,a)||(n=this._matchPartial(d,a,e,t)||n),n=this._matchPartial(d,f,e,t)||n}return n},SelectorMatcher.prototype._matchTerminal=function(e,t,n,r){if(i.isBlank(e)||i.isBlank(t))return!1;var o=e.get(t),a=e.get("*");if(i.isPresent(a)&&(o=o.concat(a)),i.isBlank(o))return!1;for(var s,c=!1,u=0;u<o.length;u++)s=o[u],c=s.finalize(n,r)||c;return c},SelectorMatcher.prototype._matchPartial=function(e,t,n,r){if(i.isBlank(e)||i.isBlank(t))return!1;var o=e.get(t);return i.isBlank(o)?!1:o.match(n,r)},SelectorMatcher}();t.SelectorMatcher=u;var l=function(){function SelectorListContext(e){this.selectors=e,this.alreadyMatched=!1}return SelectorListContext}();t.SelectorListContext=l;var p=function(){function SelectorContext(e,t,n){this.selector=e,this.cbContext=t,this.listContext=n,this.notSelectors=e.notSelectors}return SelectorContext.prototype.finalize=function(e,t){var n=!0;if(this.notSelectors.length>0&&(i.isBlank(this.listContext)||!this.listContext.alreadyMatched)){var r=u.createNotMatcher(this.notSelectors);n=!r.match(e,null)}return n&&i.isPresent(t)&&(i.isBlank(this.listContext)||!this.listContext.alreadyMatched)&&(i.isPresent(this.listContext)&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),n},SelectorContext}();t.SelectorContext=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(64),a=n(52),s=n(66),c=n(1),u=n(9),l=n(404),p=n(79),f=n(152),h=n(41),d=n(6),g="%COMP%",y="_nghost-"+g,m="_ngcontent-"+g,_=function(){function StyleCompiler(e,t){this._xhr=e,this._urlResolver=t,this._styleCache=new Map,this._shadowCss=new l.ShadowCss}return StyleCompiler.prototype.compileComponentRuntime=function(e){var t=e.styles,n=e.styleUrls;return this._loadStyles(t,n,e.encapsulation===a.ViewEncapsulation.Emulated)},StyleCompiler.prototype.compileComponentCodeGen=function(e){var t=e.encapsulation===a.ViewEncapsulation.Emulated;return this._styleCodeGen(e.styles,e.styleUrls,t)},StyleCompiler.prototype.compileStylesheetCodeGen=function(e,t){var n=f.extractStyleUrls(this._urlResolver,e,t);return[this._styleModule(e,!1,this._styleCodeGen([n.style],n.styleUrls,!1)),this._styleModule(e,!0,this._styleCodeGen([n.style],n.styleUrls,!0))]},StyleCompiler.prototype.clearCache=function(){this._styleCache.clear()},StyleCompiler.prototype._loadStyles=function(e,t,n){var r=this,i=t.map(function(e){var t=""+e+(n?".shim":""),i=r._styleCache.get(t);return c.isBlank(i)&&(i=r._xhr.get(e).then(function(t){var i=f.extractStyleUrls(r._urlResolver,e,t);return r._loadStyles([i.style],i.styleUrls,n)}),r._styleCache.set(t,i)),i});return u.PromiseWrapper.all(i).then(function(t){var i=e.map(function(e){return r._shimIfNeeded(e,n)});return t.forEach(function(e){return i.push(e)}),i})},StyleCompiler.prototype._styleCodeGen=function(e,t,n){for(var r=this,i=c.IS_DART?"const":"",a=e.map(function(e){return h.escapeSingleQuoteString(r._shimIfNeeded(e,n))}),s=0;s<t.length;s++){var u=this._createModuleUrl(t[s],n);
a.push(o.moduleRef(u)+"STYLES")}var l=i+" ["+a.join(",")+"]";return new o.SourceExpression([],l)},StyleCompiler.prototype._styleModule=function(e,t,n){var r="\n      "+n.declarations.join("\n")+"\n      "+h.codeGenExportVariable("STYLES")+n.expression+";\n    ";return new o.SourceModule(this._createModuleUrl(e,t),r)},StyleCompiler.prototype._shimIfNeeded=function(e,t){return t?this._shadowCss.shimCssText(e,m,y):e},StyleCompiler.prototype._createModuleUrl=function(e,t){return t?e+".shim"+h.MODULE_SUFFIX:""+e+h.MODULE_SUFFIX},StyleCompiler=r([d.Injectable(),i("design:paramtypes",[s.XHR,p.UrlResolver])],StyleCompiler)}();t.StyleCompiler=_},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(105),a=n(1),s=n(5),c=n(9),u=n(66),l=n(79),p=n(152),f=n(6),h=n(52),d=n(147),g=n(148),y=n(240),m=function(){function TemplateNormalizer(e,t,n){this._xhr=e,this._urlResolver=t,this._htmlParser=n}return TemplateNormalizer.prototype.normalizeTemplate=function(e,t){var n=this;if(a.isPresent(t.template))return c.PromiseWrapper.resolve(this.normalizeLoadedTemplate(e,t,t.template,e.moduleUrl));if(a.isPresent(t.templateUrl)){var r=this._urlResolver.resolve(e.moduleUrl,t.templateUrl);return this._xhr.get(r).then(function(i){return n.normalizeLoadedTemplate(e,t,i,r)})}throw new s.BaseException("No template specified for component "+e.name)},TemplateNormalizer.prototype.normalizeLoadedTemplate=function(e,t,n,r){var i=this,a=this._htmlParser.parse(n,e.name);if(a.errors.length>0){var c=a.errors.join("\n");throw new s.BaseException("Template parse errors:\n"+c)}var u=new _;d.htmlVisitAll(u,a.rootNodes);var l=t.styles.concat(u.styles),f=u.styleUrls.filter(p.isStyleUrlResolvable).map(function(e){return i._urlResolver.resolve(r,e)}).concat(t.styleUrls.filter(p.isStyleUrlResolvable).map(function(t){return i._urlResolver.resolve(e.moduleUrl,t)})),g=l.map(function(e){var t=p.extractStyleUrls(i._urlResolver,r,e);return t.styleUrls.forEach(function(e){return f.push(e)}),t.style}),y=t.encapsulation;return y===h.ViewEncapsulation.Emulated&&0===g.length&&0===f.length&&(y=h.ViewEncapsulation.None),new o.CompileTemplateMetadata({encapsulation:y,template:n,templateUrl:r,styles:g,styleUrls:f,ngContentSelectors:u.ngContentSelectors})},TemplateNormalizer=r([f.Injectable(),i("design:paramtypes",[u.XHR,l.UrlResolver,g.HtmlParser])],TemplateNormalizer)}();t.TemplateNormalizer=m;var _=function(){function TemplatePreparseVisitor(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return TemplatePreparseVisitor.prototype.visitElement=function(e,t){var n=y.preparseElement(e);switch(n.type){case y.PreparsedElementType.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(n.selectAttr);break;case y.PreparsedElementType.STYLE:var r="";e.children.forEach(function(e){e instanceof d.HtmlTextAst&&(r+=e.value)}),this.styles.push(r);break;case y.PreparsedElementType.STYLESHEET:this.styleUrls.push(n.hrefAttr)}return n.nonBindable&&this.ngNonBindableStackCount++,d.htmlVisitAll(this,e.children),n.nonBindable&&this.ngNonBindableStackCount--,null},TemplatePreparseVisitor.prototype.visitComment=function(e,t){return null},TemplatePreparseVisitor.prototype.visitAttr=function(e,t){return null},TemplatePreparseVisitor.prototype.visitText=function(e,t){return null},TemplatePreparseVisitor}()},function(e,t,n){"use strict";function preparseElement(e){var t=null,n=null,r=null,m=!1,_=null;e.attrs.forEach(function(e){var i=e.name.toLowerCase();i==o?t=e.value:i==u?n=e.value:i==c?r=e.value:e.name==h?m=!0:e.name==d&&e.value.length>0&&(_=e.value)}),t=normalizeNgContentSelect(t);var v=e.name.toLowerCase(),b=g.OTHER;return i.splitNsName(v)[1]==a?b=g.NG_CONTENT:v==p?b=g.STYLE:v==f?b=g.SCRIPT:v==s&&r==l&&(b=g.STYLESHEET),new y(b,t,n,m,_)}function normalizeNgContentSelect(e){return r.isBlank(e)||0===e.length?"*":e}var r=n(1),i=n(78),o="select",a="ng-content",s="link",c="rel",u="href",l="stylesheet",p="style",f="script",h="ngNonBindable",d="ngProjectAs";t.preparseElement=preparseElement,function(e){e[e.NG_CONTENT=0]="NG_CONTENT",e[e.STYLE=1]="STYLE",e[e.STYLESHEET=2]="STYLESHEET",e[e.SCRIPT=3]="SCRIPT",e[e.OTHER=4]="OTHER"}(t.PreparsedElementType||(t.PreparsedElementType={}));var g=t.PreparsedElementType,y=function(){function PreparsedElement(e,t,n,r,i){this.type=e,this.selectAttr=t,this.hrefAttr=n,this.nonBindable=r,this.projectAs=i}return PreparsedElement}();t.PreparsedElement=y},function(e,t,n){"use strict";function codeGenEventHandler(e,t,n){return h.codeGenValueFn(["event"],e.expression+".triggerEventHandlers("+h.escapeValue(n)+", event, "+t+")")}function codeGenViewFactoryName(e,t){return"viewFactory_"+e.type.name+t}function codeGenViewEncapsulation(e){return o.IS_DART?""+g.METADATA_MODULE_REF+e:""+e}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(1),a=n(3),s=n(65),c=n(64),u=n(84),l=n(85),p=n(108),f=n(52),h=n(41),d=n(6),g=n(150);t.VIEW_JIT_IMPORTS=o.CONST_EXPR({AppView:u.AppView,AppElement:p.AppElement,flattenNestedViewRenderNodes:u.flattenNestedViewRenderNodes,checkSlotCount:u.checkSlotCount});var y=function(){function ViewCompiler(){}return ViewCompiler.prototype.compileComponentRuntime=function(e,t,n,r,i,o){var a=new _(e,n,r,i,o);return a.createViewFactory(t,0,[])},ViewCompiler.prototype.compileComponentCodeGen=function(e,t,n,r,i,o){var a=new m(e,n,r,i,o),s=[],u=a.createViewFactory(t,0,s);return new c.SourceExpression(s.map(function(e){return e.statement}),u.expression)},ViewCompiler=r([d.Injectable(),i("design:paramtypes",[])],ViewCompiler)}();t.ViewCompiler=y;var m=function(){function CodeGenViewFactory(e,t,n,r,i){this.component=e,this.styles=t,this.protoViews=n,this.changeDetectorExpressions=r,this.componentViewFactory=i,this._nextVarId=0}return CodeGenViewFactory.prototype._nextVar=function(e){return""+e+this._nextVarId++ +"_"+this.component.type.name},CodeGenViewFactory.prototype._nextRenderVar=function(){return this._nextVar("render")},CodeGenViewFactory.prototype._nextAppVar=function(){return this._nextVar("app")},CodeGenViewFactory.prototype._nextDisposableVar=function(){return"disposable"+this._nextVarId++ +"_"+this.component.type.name},CodeGenViewFactory.prototype.createText=function(e,t,n,r){var i=this._nextRenderVar(),a="var "+i+" = "+e.expression+".createText("+(o.isPresent(t)?t.expression:null)+", "+h.escapeSingleQuoteString(n)+");";return r.push(new h.Statement(a)),new h.Expression(i)},CodeGenViewFactory.prototype.createElement=function(e,t,n,r,i){var a,s=this._nextRenderVar();a=o.isPresent(r)?r.expression+" == null ?\n        "+e.expression+".createElement("+(o.isPresent(t)?t.expression:null)+", "+h.escapeSingleQuoteString(n)+") :\n        "+e.expression+".selectRootElement("+r.expression+");":e.expression+".createElement("+(o.isPresent(t)?t.expression:null)+", "+h.escapeSingleQuoteString(n)+")";var c="var "+s+" = "+a+";";return i.push(new h.Statement(c)),new h.Expression(s)},CodeGenViewFactory.prototype.createTemplateAnchor=function(e,t,n){var r=this._nextRenderVar(),i=e.expression+".createTemplateAnchor("+(o.isPresent(t)?t.expression:null)+");";return n.push(new h.Statement("var "+r+" = "+i)),new h.Expression(r)},CodeGenViewFactory.prototype.createGlobalEventListener=function(e,t,n,r,i){var o=this._nextDisposableVar(),a=codeGenEventHandler(t,n,r.fullName);return i.push(new h.Statement("var "+o+" = "+e.expression+".listenGlobal("+h.escapeValue(r.target)+", "+h.escapeValue(r.name)+", "+a+");")),new h.Expression(o)},CodeGenViewFactory.prototype.createElementEventListener=function(e,t,n,r,i,o){var a=this._nextDisposableVar(),s=codeGenEventHandler(t,n,i.fullName);return o.push(new h.Statement("var "+a+" = "+e.expression+".listen("+r.expression+", "+h.escapeValue(i.name)+", "+s+");")),new h.Expression(a)},CodeGenViewFactory.prototype.setElementAttribute=function(e,t,n,r,i){i.push(new h.Statement(e.expression+".setElementAttribute("+t.expression+", "+h.escapeSingleQuoteString(n)+", "+h.escapeSingleQuoteString(r)+");"))},CodeGenViewFactory.prototype.createAppElement=function(e,t,n,r,i,a){var s=this._nextAppVar(),c="new "+g.APP_EL_MODULE_REF+"AppElement("+e.expression+", "+t.expression+",\n      "+(o.isPresent(r)?r.expression:null)+", "+n.expression+", "+(o.isPresent(i)?i.expression:null)+")";return a.push(new h.Statement("var "+s+" = "+c+";")),new h.Expression(s)},CodeGenViewFactory.prototype.createAndSetComponentView=function(e,t,n,r,i,o,a){var s;s=this.component.type.isHost?n.expression+".projectableNodes":"["+o.map(function(e){return h.codeGenFlatArray(e)}).join(",")+"]",a.push(new h.Statement(this.componentViewFactory(i)+"("+e.expression+", "+t.expression+", "+r.expression+", "+s+", null, null, null);"))},CodeGenViewFactory.prototype.getProjectedNodes=function(e,t){return new h.Expression(e.expression+"["+t+"]",!0)},CodeGenViewFactory.prototype.appendProjectedNodes=function(e,t,n,r){r.push(new h.Statement(e.expression+".projectNodes("+t.expression+", "+g.APP_VIEW_MODULE_REF+"flattenNestedViewRenderNodes("+n.expression+"));"))},CodeGenViewFactory.prototype.createViewFactory=function(e,t,n){var r=this.protoViews[t],i=this.component.type.isHost,o=0===t&&!i,a=new b(new h.Expression("renderer"),new h.Expression("viewManager"),new h.Expression("projectableNodes"),i?new h.Expression("rootSelector"):null,new h.Expression("view"),r,n,this);s.templateVisitAll(a,e,new v(o?new h.Expression("parentRenderNode"):null,null,null));var c=r.protoView.expression,u=codeGenViewFactoryName(this.component,t),l=this.changeDetectorExpressions.expressions[t],p=["parentRenderer","viewManager","containerEl","projectableNodes","rootSelector","dynamicallyCreatedProviders","rootInjector"],f=[],d="parentRenderer";if(0===t){var y=this._nextVar("renderType");n.push(new h.Statement("var "+y+" = null;"));var m=this._nextVar("styles");n.push(new h.Statement(h.CONST_VAR+" "+m+" = "+this.styles.expression+";"));var _=this.component.template.encapsulation;f.push("if ("+y+" == null) {\n        "+y+" = viewManager.createRenderComponentType("+codeGenViewEncapsulation(_)+", "+m+");\n      }"),d="parentRenderer.renderComponent("+y+")"}var C="\n"+h.codeGenFnHeader(p,u)+"{\n  "+f.join("\n")+"\n  var renderer = "+d+";\n  var view = new "+g.APP_VIEW_MODULE_REF+"AppView(\n    "+c+", renderer, viewManager,\n    projectableNodes,\n    containerEl,\n    dynamicallyCreatedProviders, rootInjector,\n    "+l+"()\n  );\n  "+g.APP_VIEW_MODULE_REF+"checkSlotCount("+h.escapeValue(this.component.type.name)+", "+this.component.template.ngContentSelectors.length+", projectableNodes);\n  "+(o?"var parentRenderNode = renderer.createViewRoot(view.containerAppElement.nativeElement);":"")+"\n  "+a.renderStmts.map(function(e){return e.statement}).join("\n")+"\n  "+a.appStmts.map(function(e){return e.statement}).join("\n")+"\n\n  view.init("+h.codeGenFlatArray(a.rootNodesOrAppElements)+", "+h.codeGenArray(a.renderNodes)+", "+h.codeGenArray(a.appDisposables)+",\n            "+h.codeGenArray(a.appElements)+");\n  return view;\n}";return n.push(new h.Statement(C)),new h.Expression(u)},CodeGenViewFactory}(),_=function(){function RuntimeViewFactory(e,t,n,r,i){this.component=e,this.styles=t,this.protoViews=n,this.changeDetectorFactories=r,this.componentViewFactory=i}return RuntimeViewFactory.prototype.createText=function(e,t,n,r){return e.createText(t,n)},RuntimeViewFactory.prototype.createElement=function(e,t,n,r,i){var a;return a=o.isPresent(r)?e.selectRootElement(r):e.createElement(t,n)},RuntimeViewFactory.prototype.createTemplateAnchor=function(e,t,n){return e.createTemplateAnchor(t)},RuntimeViewFactory.prototype.createGlobalEventListener=function(e,t,n,r,i){return e.listenGlobal(r.target,r.name,function(e){return t.triggerEventHandlers(r.fullName,e,n)})},RuntimeViewFactory.prototype.createElementEventListener=function(e,t,n,r,i,o){return e.listen(r,i.name,function(e){return t.triggerEventHandlers(i.fullName,e,n)})},RuntimeViewFactory.prototype.setElementAttribute=function(e,t,n,r,i){e.setElementAttribute(t,n,r)},RuntimeViewFactory.prototype.createAppElement=function(e,t,n,r,i,o){return new p.AppElement(e,t,r,n,i)},RuntimeViewFactory.prototype.createAndSetComponentView=function(e,t,n,r,i,o,s){var c;if(this.component.type.isHost)c=n.projectableNodes;else{c=a.ListWrapper.createFixedSize(o.length);for(var u=0;u<o.length;u++)c[u]=h.flattenArray(o[u],[])}this.componentViewFactory(i)(e,t,r,c)},RuntimeViewFactory.prototype.getProjectedNodes=function(e,t){return e[t]},RuntimeViewFactory.prototype.appendProjectedNodes=function(e,t,n,r){e.projectNodes(t,u.flattenNestedViewRenderNodes(n))},RuntimeViewFactory.prototype.createViewFactory=function(e,t,n){var r=this,i=this.protoViews[t],a=i.protoView.type===l.ViewType.COMPONENT,c=null;return function(n,l,p,f,d,g,y){void 0===d&&(d=null),void 0===g&&(g=null),void 0===y&&(y=null),u.checkSlotCount(r.component.type.name,r.component.template.ngContentSelectors.length,f);var m;0===t?(o.isBlank(c)&&(c=l.createRenderComponentType(r.component.template.encapsulation,r.styles)),m=n.renderComponent(c)):m=n;var _=r.changeDetectorFactories[t](),C=new u.AppView(i.protoView,m,l,f,p,g,y,_),P=new b(m,l,f,d,C,i,[],r),R=a?m.createViewRoot(p.nativeElement):null;return s.templateVisitAll(P,e,new v(R,null,null)),C.init(h.flattenArray(P.rootNodesOrAppElements,[]),P.renderNodes,P.appDisposables,P.appElements),C}},RuntimeViewFactory}(),v=function(){function ParentElement(e,t,n){if(this.renderNode=e,this.appEl=t,this.component=n,o.isPresent(n)){this.contentNodesByNgContentIndex=a.ListWrapper.createFixedSize(n.template.ngContentSelectors.length);for(var r=0;r<this.contentNodesByNgContentIndex.length;r++)this.contentNodesByNgContentIndex[r]=[]}else this.contentNodesByNgContentIndex=null}return ParentElement.prototype.addContentNode=function(e,t){this.contentNodesByNgContentIndex[e].push(t)},ParentElement}(),b=function(){function ViewBuilderVisitor(e,t,n,r,i,o,a,s){this.renderer=e,this.viewManager=t,this.projectableNodes=n,this.rootSelector=r,this.view=i,this.protoView=o,this.targetStatements=a,this.factory=s,this.renderStmts=[],this.renderNodes=[],this.appStmts=[],this.appElements=[],this.appDisposables=[],this.rootNodesOrAppElements=[],this.elementCount=0}return ViewBuilderVisitor.prototype._addRenderNode=function(e,t,n,r){this.renderNodes.push(e),o.isPresent(r.component)?o.isPresent(n)&&r.addContentNode(n,o.isPresent(t)?t:e):o.isBlank(r.renderNode)&&this.rootNodesOrAppElements.push(o.isPresent(t)?t:e)},ViewBuilderVisitor.prototype._getParentRenderNode=function(e,t){return o.isPresent(t.component)&&t.component.template.encapsulation!==f.ViewEncapsulation.Native?null:t.renderNode},ViewBuilderVisitor.prototype.visitBoundText=function(e,t){return this._visitText("",e.ngContentIndex,t)},ViewBuilderVisitor.prototype.visitText=function(e,t){return this._visitText(e.value,e.ngContentIndex,t)},ViewBuilderVisitor.prototype._visitText=function(e,t,n){var r=this.factory.createText(this.renderer,this._getParentRenderNode(t,n),e,this.renderStmts);return this._addRenderNode(r,null,t,n),null},ViewBuilderVisitor.prototype.visitNgContent=function(e,t){var n=this.factory.getProjectedNodes(this.projectableNodes,e.index);return o.isPresent(t.component)?o.isPresent(e.ngContentIndex)&&t.addContentNode(e.ngContentIndex,n):o.isPresent(t.renderNode)?this.factory.appendProjectedNodes(this.renderer,t.renderNode,n,this.renderStmts):this.rootNodesOrAppElements.push(n),null},ViewBuilderVisitor.prototype.visitElement=function(e,t){var n=this,r=this.factory.createElement(this.renderer,this._getParentRenderNode(e.ngContentIndex,t),e.name,this.rootSelector,this.renderStmts),i=e.getComponent(),a=this.elementCount++,c=this.protoView.protoElements[a];c.renderEvents.forEach(function(e){var t;t=o.isPresent(e.target)?n.factory.createGlobalEventListener(n.renderer,n.view,c.boundElementIndex,e,n.renderStmts):n.factory.createElementEventListener(n.renderer,n.view,c.boundElementIndex,r,e,n.renderStmts),n.appDisposables.push(t)});for(var u=0;u<c.attrNameAndValues.length;u++){var l=c.attrNameAndValues[u][0],p=c.attrNameAndValues[u][1];this.factory.setElementAttribute(this.renderer,r,l,p,this.renderStmts)}var f=null;o.isPresent(c.appProtoEl)&&(f=this.factory.createAppElement(c.appProtoEl,this.view,r,t.appEl,null,this.appStmts),this.appElements.push(f)),this._addRenderNode(r,f,e.ngContentIndex,t);var h=new v(r,o.isPresent(f)?f:t.appEl,i);return s.templateVisitAll(this,e.children,h),o.isPresent(f)&&o.isPresent(i)&&this.factory.createAndSetComponentView(this.renderer,this.viewManager,this.view,f,i,h.contentNodesByNgContentIndex,this.appStmts),null},ViewBuilderVisitor.prototype.visitEmbeddedTemplate=function(e,t){var n=this.factory.createTemplateAnchor(this.renderer,this._getParentRenderNode(e.ngContentIndex,t),this.renderStmts),r=this.elementCount++,i=this.protoView.protoElements[r],o=this.factory.createViewFactory(e.children,i.embeddedTemplateIndex,this.targetStatements),a=this.factory.createAppElement(i.appProtoEl,this.view,n,t.appEl,o,this.appStmts);return this._addRenderNode(n,a,e.ngContentIndex,t),this.appElements.push(a),null},ViewBuilderVisitor.prototype.visitVariable=function(e,t){return null},ViewBuilderVisitor.prototype.visitAttr=function(e,t){return null},ViewBuilderVisitor.prototype.visitDirective=function(e,t){return null},ViewBuilderVisitor.prototype.visitEvent=function(e,t){return null},ViewBuilderVisitor.prototype.visitDirectiveProperty=function(e,t){return null},ViewBuilderVisitor.prototype.visitElementProperty=function(e,t){return null},ViewBuilderVisitor}()},function(e,t,n){"use strict";function _componentProviders(e){return[a.provide(s.APP_COMPONENT,{useValue:e}),a.provide(s.APP_COMPONENT_REF_PROMISE,{useFactory:function(t,n,r){var i;return t.loadAsRoot(e,null,r,function(){n._unloadComponent(i)}).then(function(e){i=e;var t=r.getOptional(l.Testability);return o.isPresent(t)&&r.get(l.TestabilityRegistry).registerApplication(e.location.nativeElement,t),e})},deps:[p.DynamicComponentLoader,b,a.Injector]}),a.provide(e,{useFactory:function(e){return e.then(function(e){return e.instance})},deps:[s.APP_COMPONENT_REF_PROMISE]})]}function createNgZone(){return new i.NgZone({enableLongStackTrace:o.assertionsEnabled()})}function platform(e){if(g.lockMode(),o.isPresent(y)){if(u.ListWrapper.equals(m,e))return y;throw new f.BaseException("platform cannot be initialized with different sets of providers.")}return _createPlatform(e)}function disposePlatform(){o.isPresent(y)&&(y.dispose(),y=null)}function _createPlatform(e){m=e;var t=a.Injector.resolveAndCreate(e);return y=new v(t,function(){y=null,m=null}),_runPlatformInitializers(t),y}function _runPlatformInitializers(e){var t=e.getOptional(s.PLATFORM_INITIALIZER);o.isPresent(t)&&t.forEach(function(e){return e()})}function _runAppInitializers(e){var t=e.getOptional(s.APP_INITIALIZER),n=[];return o.isPresent(t)&&t.forEach(function(e){var t=e();c.PromiseWrapper.isPromise(t)&&n.push(t)}),n.length>0?c.PromiseWrapper.all(n):null}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(115),o=n(1),a=n(6),s=n(80),c=n(9),u=n(3),l=n(114),p=n(83),f=n(5),h=n(257),d=n(169),g=n(1);t.createNgZone=createNgZone;var y,m;t.platform=platform,t.disposePlatform=disposePlatform;var _=function(){function PlatformRef(){}return Object.defineProperty(PlatformRef.prototype,"injector",{get:function(){throw f.unimplemented()},enumerable:!0,configurable:!0}),PlatformRef}();t.PlatformRef=_;var v=function(e){function PlatformRef_(t,n){e.call(this),this._injector=t,this._dispose=n,this._applications=[],this._disposeListeners=[]}return r(PlatformRef_,e),PlatformRef_.prototype.registerDisposeListener=function(e){this._disposeListeners.push(e)},Object.defineProperty(PlatformRef_.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),PlatformRef_.prototype.application=function(e){var t=this._initApp(createNgZone(),e);if(c.PromiseWrapper.isPromise(t))throw new f.BaseException("Cannot use asyncronous app initializers with application. Use asyncApplication instead.");return t},PlatformRef_.prototype.asyncApplication=function(e,t){var n=this,r=createNgZone(),i=c.PromiseWrapper.completer();return null===e?i.resolve(this._initApp(r,t)):r.run(function(){c.PromiseWrapper.then(e(r),function(e){o.isPresent(t)&&(e=u.ListWrapper.concat(e,t));var a=n._initApp(r,e);i.resolve(a)})}),i.promise},PlatformRef_.prototype._initApp=function(e,t){var n,r,s=this;e.run(function(){t=u.ListWrapper.concat(t,[a.provide(i.NgZone,{useValue:e}),a.provide(b,{useFactory:function(){return r},deps:[]})]);var l;try{n=s.injector.resolveAndCreateChild(t),l=n.get(f.ExceptionHandler),c.ObservableWrapper.subscribe(e.onError,function(e){l.call(e.error,e.stackTrace)})}catch(p){o.isPresent(l)?l.call(p,p.stack):o.print(p.toString())}}),r=new C(this,e,n),this._applications.push(r);var l=_runAppInitializers(n);return null!==l?c.PromiseWrapper.then(l,function(e){return r}):r},PlatformRef_.prototype.dispose=function(){u.ListWrapper.clone(this._applications).forEach(function(e){return e.dispose()}),this._disposeListeners.forEach(function(e){return e()}),this._dispose()},PlatformRef_.prototype._applicationDisposed=function(e){u.ListWrapper.remove(this._applications,e)},PlatformRef_}(_);t.PlatformRef_=v;var b=function(){function ApplicationRef(){}return Object.defineProperty(ApplicationRef.prototype,"injector",{get:function(){return f.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationRef.prototype,"zone",{get:function(){return f.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationRef.prototype,"componentTypes",{get:function(){return f.unimplemented()},enumerable:!0,configurable:!0}),ApplicationRef}();t.ApplicationRef=b;var C=function(e){function ApplicationRef_(t,n,r){var i=this;e.call(this),this._platform=t,this._zone=n,this._injector=r,this._bootstrapListeners=[],this._disposeListeners=[],this._rootComponents=[],this._rootComponentTypes=[],this._changeDetectorRefs=[],this._runningTick=!1,this._enforceNoNewChanges=!1,o.isPresent(this._zone)&&c.ObservableWrapper.subscribe(this._zone.onMicrotaskEmpty,function(e){i._zone.run(function(){i.tick()})}),this._enforceNoNewChanges=o.assertionsEnabled()}return r(ApplicationRef_,e),ApplicationRef_.prototype.registerBootstrapListener=function(e){this._bootstrapListeners.push(e)},ApplicationRef_.prototype.registerDisposeListener=function(e){this._disposeListeners.push(e)},ApplicationRef_.prototype.registerChangeDetector=function(e){this._changeDetectorRefs.push(e)},ApplicationRef_.prototype.unregisterChangeDetector=function(e){u.ListWrapper.remove(this._changeDetectorRefs,e)},ApplicationRef_.prototype.bootstrap=function(e,t){var n=this,r=c.PromiseWrapper.completer();return this._zone.run(function(){var i=_componentProviders(e);o.isPresent(t)&&i.push(t);var a=n._injector.get(f.ExceptionHandler);n._rootComponentTypes.push(e);try{var u=n._injector.resolveAndCreateChild(i),l=u.get(s.APP_COMPONENT_REF_PROMISE),p=function(e){n._loadComponent(e),r.resolve(e)},h=c.PromiseWrapper.then(l,p);c.PromiseWrapper.then(h,null,function(e,t){r.reject(e,t),a.call(e,t)})}catch(d){a.call(d,d.stack),r.reject(d,d.stack)}}),r.promise.then(function(e){var t=n._injector.get(h.Console);return o.assertionsEnabled()&&t.log("Angular 2 is running in the development mode. Call enableProdMode() to enable the production mode."),e})},ApplicationRef_.prototype._loadComponent=function(e){var t=e.location.internalElement.parentView.changeDetector;this._changeDetectorRefs.push(t.ref),this.tick(),this._rootComponents.push(e),this._bootstrapListeners.forEach(function(t){return t(e)})},ApplicationRef_.prototype._unloadComponent=function(e){u.ListWrapper.contains(this._rootComponents,e)&&(this.unregisterChangeDetector(e.location.internalElement.parentView.changeDetector.ref),u.ListWrapper.remove(this._rootComponents,e))},Object.defineProperty(ApplicationRef_.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationRef_.prototype,"zone",{get:function(){return this._zone},enumerable:!0,configurable:!0}),ApplicationRef_.prototype.tick=function(){if(this._runningTick)throw new f.BaseException("ApplicationRef.tick is called recursively");var e=ApplicationRef_._tickScope();try{this._runningTick=!0,this._changeDetectorRefs.forEach(function(e){return e.detectChanges()}),this._enforceNoNewChanges&&this._changeDetectorRefs.forEach(function(e){return e.checkNoChanges()})}finally{this._runningTick=!1,d.wtfLeave(e)}},ApplicationRef_.prototype.dispose=function(){u.ListWrapper.clone(this._rootComponents).forEach(function(e){return e.dispose()}),this._disposeListeners.forEach(function(e){return e()}),this._platform._applicationDisposed(this)},Object.defineProperty(ApplicationRef_.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),ApplicationRef_._tickScope=d.wtfCreateScope("ApplicationRef#tick()"),ApplicationRef_}(b);t.ApplicationRef_=C},function(e,t,n){"use strict";var r=n(23);t.ChangeDetectionStrategy=r.ChangeDetectionStrategy,t.ExpressionChangedAfterItHasBeenCheckedException=r.ExpressionChangedAfterItHasBeenCheckedException,t.ChangeDetectionError=r.ChangeDetectionError,t.ChangeDetectorRef=r.ChangeDetectorRef,t.WrappedValue=r.WrappedValue,t.SimpleChange=r.SimpleChange,t.IterableDiffers=r.IterableDiffers,t.KeyValueDiffers=r.KeyValueDiffers,t.CollectionChangeRecord=r.CollectionChangeRecord,t.KeyValueChangeRecord=r.KeyValueChangeRecord},function(e,t,n){"use strict";var r=n(1),i="directiveLifecycle",o="native",a="directive",s="elementProperty",c="elementAttribute",u="elementClass",l="elementStyle",p="textNode",f="event",h="hostEvent",d=function(){function BindingTarget(e,t,n,r,i){this.mode=e,this.elementIndex=t,this.name=n,this.unit=r,this.debug=i}return BindingTarget.prototype.isDirective=function(){return this.mode===a},BindingTarget.prototype.isElementProperty=function(){return this.mode===s},BindingTarget.prototype.isElementAttribute=function(){return this.mode===c},BindingTarget.prototype.isElementClass=function(){return this.mode===u},BindingTarget.prototype.isElementStyle=function(){return this.mode===l},BindingTarget.prototype.isTextNode=function(){return this.mode===p},BindingTarget}();t.BindingTarget=d;var g=function(){function BindingRecord(e,t,n,r,i,o,a){this.mode=e,this.target=t,this.implicitReceiver=n,this.ast=r,this.setter=i,this.lifecycleEvent=o,this.directiveRecord=a}return BindingRecord.prototype.isDirectiveLifecycle=function(){return this.mode===i},BindingRecord.prototype.callOnChanges=function(){return r.isPresent(this.directiveRecord)&&this.directiveRecord.callOnChanges},BindingRecord.prototype.isDefaultChangeDetection=function(){return r.isBlank(this.directiveRecord)||this.directiveRecord.isDefaultChangeDetection()},BindingRecord.createDirectiveDoCheck=function(e){return new BindingRecord(i,null,0,null,null,"DoCheck",e)},BindingRecord.createDirectiveOnInit=function(e){return new BindingRecord(i,null,0,null,null,"OnInit",e)},BindingRecord.createDirectiveOnChanges=function(e){return new BindingRecord(i,null,0,null,null,"OnChanges",e)},BindingRecord.createForDirective=function(e,t,n,r){var i=r.directiveIndex.elementIndex,o=new d(a,i,t,null,e.toString());return new BindingRecord(a,o,0,e,n,null,r)},BindingRecord.createForElementProperty=function(e,t,n){var r=new d(s,t,n,null,e.toString());return new BindingRecord(o,r,0,e,null,null,null)},BindingRecord.createForElementAttribute=function(e,t,n){var r=new d(c,t,n,null,e.toString());return new BindingRecord(o,r,0,e,null,null,null)},BindingRecord.createForElementClass=function(e,t,n){var r=new d(u,t,n,null,e.toString());return new BindingRecord(o,r,0,e,null,null,null)},BindingRecord.createForElementStyle=function(e,t,n,r){var i=new d(l,t,n,r,e.toString());return new BindingRecord(o,i,0,e,null,null,null)},BindingRecord.createForHostProperty=function(e,t,n){var r=new d(s,e.elementIndex,n,null,t.toString());return new BindingRecord(o,r,e,t,null,null,null)},BindingRecord.createForHostAttribute=function(e,t,n){var r=new d(c,e.elementIndex,n,null,t.toString());return new BindingRecord(o,r,e,t,null,null,null)},BindingRecord.createForHostClass=function(e,t,n){var r=new d(u,e.elementIndex,n,null,t.toString());return new BindingRecord(o,r,e,t,null,null,null)},BindingRecord.createForHostStyle=function(e,t,n,r){var i=new d(l,e.elementIndex,n,r,t.toString());return new BindingRecord(o,i,e,t,null,null,null)},BindingRecord.createForTextNode=function(e,t){var n=new d(p,t,null,null,e.toString());return new BindingRecord(o,n,0,e,null,null,null)},BindingRecord.createForEvent=function(e,t,n){var r=new d(f,n,t,null,e.toString());return new BindingRecord(f,r,0,e,null,null,null)},BindingRecord.createForHostEvent=function(e,t,n){var r=n.directiveIndex,i=new d(h,r.elementIndex,t,null,e.toString());return new BindingRecord(h,i,r,e,null,null,n)},BindingRecord}();t.BindingRecord=g},function(e,t,n){"use strict";var r=n(1),i=n(5),o=n(3),a=n(155),s=n(67),c=n(81),u=n(409),l=n(408),p=n(247),f=n(42),h=n(256),d="isChanged",g="changes",y=function(){function ChangeDetectorJITGenerator(e,t,n,r){this.changeDetectionUtilVarName=t,this.abstractChangeDetectorVarName=n,this.changeDetectorStateVarName=r;var i=h.createPropertyRecords(e),o=h.createEventRecords(e),a=e.bindingRecords.map(function(e){return e.target});this.id=e.id,this.changeDetectionStrategy=e.strategy,this.genConfig=e.genConfig,this.records=i,this.propertyBindingTargets=a,this.eventBindings=o,this.directiveRecords=e.directiveRecords,this._names=new u.CodegenNameUtil(this.records,this.eventBindings,this.directiveRecords,this.changeDetectionUtilVarName),this._logic=new l.CodegenLogicUtil(this._names,this.changeDetectionUtilVarName,this.changeDetectorStateVarName),this.typeName=u.sanitizeName("ChangeDetector_"+this.id)}return ChangeDetectorJITGenerator.prototype.generate=function(){var e="\n      "+this.generateSource()+"\n      return function() {\n        return new "+this.typeName+"();\n      }\n    ";return new Function(this.abstractChangeDetectorVarName,this.changeDetectionUtilVarName,this.changeDetectorStateVarName,e)(a.AbstractChangeDetector,s.ChangeDetectionUtil,f.ChangeDetectorState)},ChangeDetectorJITGenerator.prototype.generateSource=function(){return"\n      var "+this.typeName+" = function "+this.typeName+"() {\n        "+this.abstractChangeDetectorVarName+".call(\n            this, "+JSON.stringify(this.id)+", "+this.records.length+",\n            "+this.typeName+".gen_propertyBindingTargets, "+this.typeName+".gen_directiveIndices,\n            "+p.codify(this.changeDetectionStrategy)+");\n        this.dehydrateDirectives(false);\n      }\n\n      "+this.typeName+".prototype = Object.create("+this.abstractChangeDetectorVarName+".prototype);\n\n      "+this.typeName+".prototype.detectChangesInRecordsInternal = function(throwOnChange) {\n        "+this._names.genInitLocals()+"\n        var "+d+" = false;\n        var "+g+" = null;\n\n        "+this._genAllRecords(this.records)+"\n      }\n\n      "+this._maybeGenHandleEventInternal()+"\n\n      "+this._maybeGenAfterContentLifecycleCallbacks()+"\n\n      "+this._maybeGenAfterViewLifecycleCallbacks()+"\n\n      "+this._maybeGenHydrateDirectives()+"\n\n      "+this._maybeGenDehydrateDirectives()+"\n\n      "+this._genPropertyBindingTargets()+"\n\n      "+this._genDirectiveIndices()+"\n    ";
},ChangeDetectorJITGenerator.prototype._genPropertyBindingTargets=function(){var e=this._logic.genPropertyBindingTargets(this.propertyBindingTargets,this.genConfig.genDebugInfo);return this.typeName+".gen_propertyBindingTargets = "+e+";"},ChangeDetectorJITGenerator.prototype._genDirectiveIndices=function(){var e=this._logic.genDirectiveIndices(this.directiveRecords);return this.typeName+".gen_directiveIndices = "+e+";"},ChangeDetectorJITGenerator.prototype._maybeGenHandleEventInternal=function(){var e=this;if(this.eventBindings.length>0){var t=this.eventBindings.map(function(t){return e._genEventBinding(t)}).join("\n");return"\n        "+this.typeName+".prototype.handleEventInternal = function(eventName, elIndex, locals) {\n          var "+this._names.getPreventDefaultAccesor()+" = false;\n          "+this._names.genInitEventLocals()+"\n          "+t+"\n          return "+this._names.getPreventDefaultAccesor()+";\n        }\n      "}return""},ChangeDetectorJITGenerator.prototype._genEventBinding=function(e){var t=this,n=[];return this._endOfBlockIdxs=[],o.ListWrapper.forEachWithIndex(e.records,function(r,i){var o;o=r.isConditionalSkipRecord()?t._genConditionalSkip(r,t._names.getEventLocalName(e,i)):r.isUnconditionalSkipRecord()?t._genUnconditionalSkip(r):t._genEventBindingEval(e,r),o+=t._genEndOfSkipBlock(i),n.push(o)}),'\n    if (eventName === "'+e.eventName+'" && elIndex === '+e.elIndex+") {\n      "+n.join("\n")+"\n    }"},ChangeDetectorJITGenerator.prototype._genEventBindingEval=function(e,t){if(t.lastInBinding){var n=this._logic.genEventBindingEvalValue(e,t),r=this._genMarkPathToRootAsCheckOnce(t),i=this._genUpdatePreventDefault(e,t);return r+"\n"+n+"\n"+i}return this._logic.genEventBindingEvalValue(e,t)},ChangeDetectorJITGenerator.prototype._genMarkPathToRootAsCheckOnce=function(e){var t=e.bindingRecord;return t.isDefaultChangeDetection()?"":this._names.getDetectorName(t.directiveRecord.directiveIndex)+".markPathToRootAsCheckOnce();"},ChangeDetectorJITGenerator.prototype._genUpdatePreventDefault=function(e,t){var n=this._names.getEventLocalName(e,t.selfIndex);return"if ("+n+" === false) { "+this._names.getPreventDefaultAccesor()+" = true};"},ChangeDetectorJITGenerator.prototype._maybeGenDehydrateDirectives=function(){var e=this._names.genPipeOnDestroy(),t=this._logic.genDirectivesOnDestroy(this.directiveRecords),n=this._names.genDehydrateFields();return e||t||n?this.typeName+".prototype.dehydrateDirectives = function(destroyPipes) {\n        if (destroyPipes) {\n          "+e+"\n          "+t+"\n        }\n        "+n+"\n    }":""},ChangeDetectorJITGenerator.prototype._maybeGenHydrateDirectives=function(){var e=this._logic.genHydrateDirectives(this.directiveRecords),t=this._logic.genHydrateDetectors(this.directiveRecords);return e||t?this.typeName+".prototype.hydrateDirectives = function(directives) {\n      "+e+"\n      "+t+"\n    }":""},ChangeDetectorJITGenerator.prototype._maybeGenAfterContentLifecycleCallbacks=function(){var e=this._logic.genContentLifecycleCallbacks(this.directiveRecords);if(e.length>0){var t=e.join("\n");return"\n        "+this.typeName+".prototype.afterContentLifecycleCallbacksInternal = function() {\n          "+t+"\n        }\n      "}return""},ChangeDetectorJITGenerator.prototype._maybeGenAfterViewLifecycleCallbacks=function(){var e=this._logic.genViewLifecycleCallbacks(this.directiveRecords);if(e.length>0){var t=e.join("\n");return"\n        "+this.typeName+".prototype.afterViewLifecycleCallbacksInternal = function() {\n          "+t+"\n        }\n      "}return""},ChangeDetectorJITGenerator.prototype._genAllRecords=function(e){var t=[];this._endOfBlockIdxs=[];for(var n=0;n<e.length;n++){var r=void 0,i=e[n];r=i.isLifeCycleRecord()?this._genDirectiveLifecycle(i):i.isPipeRecord()?this._genPipeCheck(i):i.isConditionalSkipRecord()?this._genConditionalSkip(i,this._names.getLocalName(i.contextIndex)):i.isUnconditionalSkipRecord()?this._genUnconditionalSkip(i):this._genReferenceCheck(i),r="\n        "+this._maybeFirstInBinding(i)+"\n        "+r+"\n        "+this._maybeGenLastInDirective(i)+"\n        "+this._genEndOfSkipBlock(n)+"\n      ",t.push(r)}return t.join("\n")},ChangeDetectorJITGenerator.prototype._genConditionalSkip=function(e,t){var n=e.mode===c.RecordType.SkipRecordsIf?"!":"";return this._endOfBlockIdxs.push(e.fixedArgs[0]-1),"if ("+n+t+") {"},ChangeDetectorJITGenerator.prototype._genUnconditionalSkip=function(e){return this._endOfBlockIdxs.pop(),this._endOfBlockIdxs.push(e.fixedArgs[0]-1),"} else {"},ChangeDetectorJITGenerator.prototype._genEndOfSkipBlock=function(e){if(!o.ListWrapper.isEmpty(this._endOfBlockIdxs)){var t=o.ListWrapper.last(this._endOfBlockIdxs);if(e===t)return this._endOfBlockIdxs.pop(),"}"}return""},ChangeDetectorJITGenerator.prototype._genDirectiveLifecycle=function(e){if("DoCheck"===e.name)return this._genOnCheck(e);if("OnInit"===e.name)return this._genOnInit(e);if("OnChanges"===e.name)return this._genOnChange(e);throw new i.BaseException("Unknown lifecycle event '"+e.name+"'")},ChangeDetectorJITGenerator.prototype._genPipeCheck=function(e){var t=this,n=this._names.getLocalName(e.contextIndex),r=e.args.map(function(e){return t._names.getLocalName(e)}).join(", "),i=this._names.getFieldName(e.selfIndex),o=this._names.getLocalName(e.selfIndex),a=this._names.getPipeName(e.selfIndex),s=e.name,c="\n      if ("+a+" === "+this.changeDetectionUtilVarName+".uninitialized) {\n        "+a+" = "+this._names.getPipesAccessorName()+".get('"+s+"');\n      }\n    ",u=o+" = "+a+".pipe.transform("+n+", ["+r+"]);",l=e.args.map(function(e){return t._names.getChangeName(e)});l.push(this._names.getChangeName(e.contextIndex));var p="!"+a+".pure || ("+l.join(" || ")+")",f="\n      "+this._genThrowOnChangeCheck(i,o)+"\n      if ("+this.changeDetectionUtilVarName+".looseNotIdentical("+i+", "+o+")) {\n        "+o+" = "+this.changeDetectionUtilVarName+".unwrapValue("+o+")\n        "+this._genChangeMarker(e)+"\n        "+this._genUpdateDirectiveOrElement(e)+"\n        "+this._genAddToChanges(e)+"\n        "+i+" = "+o+";\n      }\n    ",h=e.shouldBeChecked()?""+u+f:u;return e.isUsedByOtherRecord()?c+" if ("+p+") { "+h+" } else { "+o+" = "+i+"; }":c+" if ("+p+") { "+h+" }"},ChangeDetectorJITGenerator.prototype._genReferenceCheck=function(e){var t=this,n=this._names.getFieldName(e.selfIndex),r=this._names.getLocalName(e.selfIndex),i="\n      "+this._logic.genPropertyBindingEvalValue(e)+"\n    ",o="\n      "+this._genThrowOnChangeCheck(n,r)+"\n      if ("+this.changeDetectionUtilVarName+".looseNotIdentical("+n+", "+r+")) {\n        "+this._genChangeMarker(e)+"\n        "+this._genUpdateDirectiveOrElement(e)+"\n        "+this._genAddToChanges(e)+"\n        "+n+" = "+r+";\n      }\n    ",a=e.shouldBeChecked()?""+i+o:i;if(e.isPureFunction()){var s=e.args.map(function(e){return t._names.getChangeName(e)}).join(" || ");return e.isUsedByOtherRecord()?"if ("+s+") { "+a+" } else { "+r+" = "+n+"; }":"if ("+s+") { "+a+" }"}return a},ChangeDetectorJITGenerator.prototype._genChangeMarker=function(e){return e.argumentToPureFunction?this._names.getChangeName(e.selfIndex)+" = true":""},ChangeDetectorJITGenerator.prototype._genUpdateDirectiveOrElement=function(e){if(!e.lastInBinding)return"";var t=this._names.getLocalName(e.selfIndex),n=this.genConfig.logBindingUpdate?"this.logBindingUpdate("+t+");":"",r=e.bindingRecord;if(r.target.isDirective()){var i=this._names.getDirectiveName(r.directiveRecord.directiveIndex)+"."+r.target.name;return"\n        "+i+" = "+t+";\n        "+n+"\n        "+d+" = true;\n      "}return"\n        this.notifyDispatcher("+t+");\n        "+n+"\n      "},ChangeDetectorJITGenerator.prototype._genThrowOnChangeCheck=function(e,t){return r.assertionsEnabled()?"\n        if (throwOnChange && !"+this.changeDetectionUtilVarName+".devModeEqual("+e+", "+t+")) {\n          this.throwOnChangeError("+e+", "+t+");\n        }\n        ":""},ChangeDetectorJITGenerator.prototype._genAddToChanges=function(e){var t=this._names.getLocalName(e.selfIndex),n=this._names.getFieldName(e.selfIndex);return e.bindingRecord.callOnChanges()?g+" = this.addChange("+g+", "+n+", "+t+");":""},ChangeDetectorJITGenerator.prototype._maybeFirstInBinding=function(e){var t=s.ChangeDetectionUtil.protoByIndex(this.records,e.selfIndex-1),n=r.isBlank(t)||t.bindingRecord!==e.bindingRecord;return n&&!e.bindingRecord.isDirectiveLifecycle()?this._names.getPropertyBindingIndex()+" = "+e.propertyBindingIndex+";":""},ChangeDetectorJITGenerator.prototype._maybeGenLastInDirective=function(e){return e.lastInDirective?"\n      "+g+" = null;\n      "+this._genNotifyOnPushDetectors(e)+"\n      "+d+" = false;\n    ":""},ChangeDetectorJITGenerator.prototype._genOnCheck=function(e){var t=e.bindingRecord;return"if (!throwOnChange) "+this._names.getDirectiveName(t.directiveRecord.directiveIndex)+".ngDoCheck();"},ChangeDetectorJITGenerator.prototype._genOnInit=function(e){var t=e.bindingRecord;return"if (!throwOnChange && "+this._names.getStateName()+" === "+this.changeDetectorStateVarName+".NeverChecked) "+this._names.getDirectiveName(t.directiveRecord.directiveIndex)+".ngOnInit();"},ChangeDetectorJITGenerator.prototype._genOnChange=function(e){var t=e.bindingRecord;return"if (!throwOnChange && "+g+") "+this._names.getDirectiveName(t.directiveRecord.directiveIndex)+".ngOnChanges("+g+");"},ChangeDetectorJITGenerator.prototype._genNotifyOnPushDetectors=function(e){var t=e.bindingRecord;if(!e.lastInDirective||t.isDefaultChangeDetection())return"";var n="\n      if("+d+") {\n        "+this._names.getDetectorName(t.directiveRecord.directiveIndex)+".markAsCheckOnce();\n      }\n    ";return n},ChangeDetectorJITGenerator}();t.ChangeDetectorJITGenerator=y},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(42),o=function(){function ChangeDetectorRef(){}return ChangeDetectorRef}();t.ChangeDetectorRef=o;var a=function(e){function ChangeDetectorRef_(t){e.call(this),this._cd=t}return r(ChangeDetectorRef_,e),ChangeDetectorRef_.prototype.markForCheck=function(){this._cd.markPathToRootAsCheckOnce()},ChangeDetectorRef_.prototype.detach=function(){this._cd.mode=i.ChangeDetectionStrategy.Detached},ChangeDetectorRef_.prototype.detectChanges=function(){this._cd.detectChanges()},ChangeDetectorRef_.prototype.checkNoChanges=function(){this._cd.checkNoChanges()},ChangeDetectorRef_.prototype.reattach=function(){this._cd.mode=i.ChangeDetectionStrategy.CheckAlways,this.markForCheck()},ChangeDetectorRef_}(o);t.ChangeDetectorRef_=a},function(e,t){"use strict";function codify(e){return JSON.stringify(e)}function rawString(e){return"'"+e+"'"}function combineGeneratedStrings(e){return e.join(" + ")}t.codify=codify,t.rawString=rawString,t.combineGeneratedStrings=combineGeneratedStrings},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(1),a=n(5),s=n(3),c=n(1),u=function(){function DefaultIterableDifferFactory(){}return DefaultIterableDifferFactory.prototype.supports=function(e){return s.isListLikeIterable(e)},DefaultIterableDifferFactory.prototype.create=function(e,t){return new p(t)},DefaultIterableDifferFactory=r([o.CONST(),i("design:paramtypes",[])],DefaultIterableDifferFactory)}();t.DefaultIterableDifferFactory=u;var l=function(e,t){return t},p=function(){function DefaultIterableDiffer(e){this._trackByFn=e,this._length=null,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c.isPresent(this._trackByFn)?this._trackByFn:l}return Object.defineProperty(DefaultIterableDiffer.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(DefaultIterableDiffer.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),DefaultIterableDiffer.prototype.forEachItem=function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)},DefaultIterableDiffer.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)},DefaultIterableDiffer.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},DefaultIterableDiffer.prototype.forEachMovedItem=function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)},DefaultIterableDiffer.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},DefaultIterableDiffer.prototype.forEachIdentityChange=function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)},DefaultIterableDiffer.prototype.diff=function(e){if(c.isBlank(e)&&(e=[]),!s.isListLikeIterable(e))throw new a.BaseException("Error trying to diff '"+e+"'");return this.check(e)?this:null},DefaultIterableDiffer.prototype.onDestroy=function(){},DefaultIterableDiffer.prototype.check=function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(c.isArray(e)){var u=e;for(this._length=e.length,n=0;n<this._length;n++)r=u[n],i=this._trackByFn(n,r),null!==o&&c.looseIdentical(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,n)),c.looseIdentical(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,n),a=!0),o=o._next}else n=0,s.iterateListLike(e,function(e){i=t._trackByFn(n,e),null!==o&&c.looseIdentical(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),c.looseIdentical(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++}),this._length=n;return this._truncate(o),this._collection=e,this.isDirty},Object.defineProperty(DefaultIterableDiffer.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),DefaultIterableDiffer.prototype._reset=function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},DefaultIterableDiffer.prototype._mismatch=function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),e=null===this._linkedRecords?null:this._linkedRecords.get(n,r),null!==e?(c.looseIdentical(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n),null!==e?(c.looseIdentical(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new f(t,n),i,r)),e},DefaultIterableDiffer.prototype._verifyReinsertion=function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e},DefaultIterableDiffer.prototype._truncate=function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},DefaultIterableDiffer.prototype._reinsertAfter=function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e},DefaultIterableDiffer.prototype._moveAfter=function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e},DefaultIterableDiffer.prototype._addAfter=function(e,t,n){return this._insertAfter(e,t,n),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e},DefaultIterableDiffer.prototype._insertAfter=function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new d),this._linkedRecords.put(e),e.currentIndex=n,e},DefaultIterableDiffer.prototype._remove=function(e){return this._addToRemovals(this._unlink(e))},DefaultIterableDiffer.prototype._unlink=function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e},DefaultIterableDiffer.prototype._addToMoves=function(e,t){return e.previousIndex===t?e:(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e,e)},DefaultIterableDiffer.prototype._addToRemovals=function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new d),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e},DefaultIterableDiffer.prototype._addIdentityChange=function(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e},DefaultIterableDiffer.prototype.toString=function(){var e=[];this.forEachItem(function(t){return e.push(t)});var t=[];this.forEachPreviousItem(function(e){return t.push(e)});var n=[];this.forEachAddedItem(function(e){return n.push(e)});var r=[];this.forEachMovedItem(function(e){return r.push(e)});var i=[];this.forEachRemovedItem(function(e){return i.push(e)});var o=[];return this.forEachIdentityChange(function(e){return o.push(e)}),"collection: "+e.join(", ")+"\nprevious: "+t.join(", ")+"\nadditions: "+n.join(", ")+"\nmoves: "+r.join(", ")+"\nremovals: "+i.join(", ")+"\nidentityChanges: "+o.join(", ")+"\n"},DefaultIterableDiffer}();t.DefaultIterableDiffer=p;var f=function(){function CollectionChangeRecord(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return CollectionChangeRecord.prototype.toString=function(){return this.previousIndex===this.currentIndex?c.stringify(this.item):c.stringify(this.item)+"["+c.stringify(this.previousIndex)+"->"+c.stringify(this.currentIndex)+"]"},CollectionChangeRecord}();t.CollectionChangeRecord=f;var h=function(){function _DuplicateItemRecordList(){this._head=null,this._tail=null}return _DuplicateItemRecordList.prototype.add=function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)},_DuplicateItemRecordList.prototype.get=function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<n.currentIndex)&&c.looseIdentical(n.trackById,e))return n;return null},_DuplicateItemRecordList.prototype.remove=function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head},_DuplicateItemRecordList}(),d=function(){function _DuplicateMap(){this.map=new Map}return _DuplicateMap.prototype.put=function(e){var t=c.getMapKey(e.trackById),n=this.map.get(t);c.isPresent(n)||(n=new h,this.map.set(t,n)),n.add(e)},_DuplicateMap.prototype.get=function(e,t){void 0===t&&(t=null);var n=c.getMapKey(e),r=this.map.get(n);return c.isBlank(r)?null:r.get(e,t)},_DuplicateMap.prototype.remove=function(e){var t=c.getMapKey(e.trackById),n=this.map.get(t);return n.remove(e)&&this.map.delete(t),e},Object.defineProperty(_DuplicateMap.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),_DuplicateMap.prototype.clear=function(){this.map.clear()},_DuplicateMap.prototype.toString=function(){return"_DuplicateMap("+c.stringify(this.map)+")"},_DuplicateMap}()},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(3),a=n(1),s=n(5),c=function(){function DefaultKeyValueDifferFactory(){}return DefaultKeyValueDifferFactory.prototype.supports=function(e){return e instanceof Map||a.isJsObject(e)},DefaultKeyValueDifferFactory.prototype.create=function(e){return new u},DefaultKeyValueDifferFactory=r([a.CONST(),i("design:paramtypes",[])],DefaultKeyValueDifferFactory)}();t.DefaultKeyValueDifferFactory=c;var u=function(){function DefaultKeyValueDiffer(){this._records=new Map,this._mapHead=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(DefaultKeyValueDiffer.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),DefaultKeyValueDiffer.prototype.forEachItem=function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)},DefaultKeyValueDiffer.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)},DefaultKeyValueDiffer.prototype.forEachChangedItem=function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)},DefaultKeyValueDiffer.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},DefaultKeyValueDiffer.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},DefaultKeyValueDiffer.prototype.diff=function(e){if(a.isBlank(e)&&(e=o.MapWrapper.createFromPairs([])),!(e instanceof Map||a.isJsObject(e)))throw new s.BaseException("Error trying to diff '"+e+"'");return this.check(e)?this:null},DefaultKeyValueDiffer.prototype.onDestroy=function(){},DefaultKeyValueDiffer.prototype.check=function(e){var t=this;this._reset();var n=this._records,r=this._mapHead,i=null,o=null,s=!1;return this._forEach(e,function(e,c){var u;null!==r&&c===r.key?(u=r,a.looseIdentical(e,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=e,t._addToChanges(r))):(s=!0,null!==r&&(r._next=null,t._removeFromSeq(i,r),t._addToRemovals(r)),n.has(c)?u=n.get(c):(u=new l(c),n.set(c,u),u.currentValue=e,t._addToAdditions(u))),s&&(t._isInRemovals(u)&&t._removeFromRemovals(u),null==o?t._mapHead=u:o._next=u),i=r,o=u,r=null===r?null:r._next}),this._truncate(i,r),this.isDirty},DefaultKeyValueDiffer.prototype._reset=function(){if(this.isDirty){var e;for(e=this._previousMapHead=this._mapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=this._removalsTail=null}},DefaultKeyValueDiffer.prototype._truncate=function(e,t){for(;null!==t;){null===e?this._mapHead=null:e._next=null;var n=t._next;this._addToRemovals(t),e=t,t=n}for(var r=this._removalsHead;null!==r;r=r._nextRemoved)r.previousValue=r.currentValue,r.currentValue=null,this._records.delete(r.key)},DefaultKeyValueDiffer.prototype._isInRemovals=function(e){return e===this._removalsHead||null!==e._nextRemoved||null!==e._prevRemoved},DefaultKeyValueDiffer.prototype._addToRemovals=function(e){null===this._removalsHead?this._removalsHead=this._removalsTail=e:(this._removalsTail._nextRemoved=e,e._prevRemoved=this._removalsTail,this._removalsTail=e)},DefaultKeyValueDiffer.prototype._removeFromSeq=function(e,t){var n=t._next;null===e?this._mapHead=n:e._next=n},DefaultKeyValueDiffer.prototype._removeFromRemovals=function(e){var t=e._prevRemoved,n=e._nextRemoved;null===t?this._removalsHead=n:t._nextRemoved=n,null===n?this._removalsTail=t:n._prevRemoved=t,e._prevRemoved=e._nextRemoved=null},DefaultKeyValueDiffer.prototype._addToAdditions=function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)},DefaultKeyValueDiffer.prototype._addToChanges=function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)},DefaultKeyValueDiffer.prototype.toString=function(){var e,t=[],n=[],r=[],i=[],o=[];for(e=this._mapHead;null!==e;e=e._next)t.push(a.stringify(e));for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n.push(a.stringify(e));for(e=this._changesHead;null!==e;e=e._nextChanged)r.push(a.stringify(e));for(e=this._additionsHead;null!==e;e=e._nextAdded)i.push(a.stringify(e));for(e=this._removalsHead;null!==e;e=e._nextRemoved)o.push(a.stringify(e));return"map: "+t.join(", ")+"\nprevious: "+n.join(", ")+"\nadditions: "+i.join(", ")+"\nchanges: "+r.join(", ")+"\nremovals: "+o.join(", ")+"\n"},DefaultKeyValueDiffer.prototype._forEach=function(e,t){e instanceof Map?e.forEach(t):o.StringMapWrapper.forEach(e,t)},DefaultKeyValueDiffer}();t.DefaultKeyValueDiffer=u;var l=function(){function KeyValueChangeRecord(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._nextAdded=null,this._nextRemoved=null,this._prevRemoved=null,this._nextChanged=null}return KeyValueChangeRecord.prototype.toString=function(){return a.looseIdentical(this.previousValue,this.currentValue)?a.stringify(this.key):a.stringify(this.key)+"["+a.stringify(this.previousValue)+"->"+a.stringify(this.currentValue)+"]"},KeyValueChangeRecord}();t.KeyValueChangeRecord=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(1),a=n(5),s=n(3),c=n(6),u=function(){function IterableDiffers(e){this.factories=e}return IterableDiffers.create=function(e,t){if(o.isPresent(t)){var n=s.ListWrapper.clone(t.factories);return e=e.concat(n),new IterableDiffers(e)}return new IterableDiffers(e)},IterableDiffers.extend=function(e){return new c.Provider(IterableDiffers,{useFactory:function(t){if(o.isBlank(t))throw new a.BaseException("Cannot extend IterableDiffers without a parent injector");return IterableDiffers.create(e,t)},deps:[[IterableDiffers,new c.SkipSelfMetadata,new c.OptionalMetadata]]})},IterableDiffers.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(o.isPresent(t))return t;throw new a.BaseException("Cannot find a differ supporting object '"+e+"' of type '"+o.getTypeNameForDebugging(e)+"'")},IterableDiffers=r([o.CONST(),i("design:paramtypes",[Array])],IterableDiffers)}();t.IterableDiffers=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(1),a=n(5),s=n(3),c=n(6),u=function(){function KeyValueDiffers(e){this.factories=e}return KeyValueDiffers.create=function(e,t){if(o.isPresent(t)){var n=s.ListWrapper.clone(t.factories);return e=e.concat(n),new KeyValueDiffers(e)}return new KeyValueDiffers(e)},KeyValueDiffers.extend=function(e){return new c.Provider(KeyValueDiffers,{useFactory:function(t){if(o.isBlank(t))throw new a.BaseException("Cannot extend KeyValueDiffers without a parent injector");return KeyValueDiffers.create(e,t)},deps:[[KeyValueDiffers,new c.SkipSelfMetadata,new c.OptionalMetadata]]})},KeyValueDiffers.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(o.isPresent(t))return t;throw new a.BaseException("Cannot find a differ supporting object '"+e+"'")},KeyValueDiffers=r([o.CONST(),i("design:paramtypes",[Array])],KeyValueDiffers)}();t.KeyValueDiffers=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(1),o=n(5),a=n(3),s=n(155),c=n(67),u=n(42),l=n(81),p=n(18),f=n(9),h=function(e){function DynamicChangeDetector(t,n,r,i,o,s,c,u,l){e.call(this,t,n,r,i,o),this._records=s,this._eventBindings=c,this._directiveRecords=u,this._genConfig=l;var p=s.length+1;this.values=a.ListWrapper.createFixedSize(p),this.localPipes=a.ListWrapper.createFixedSize(p),this.prevContexts=a.ListWrapper.createFixedSize(p),this.changes=a.ListWrapper.createFixedSize(p),this.dehydrateDirectives(!1)}return r(DynamicChangeDetector,e),DynamicChangeDetector.prototype.handleEventInternal=function(e,t,n){var r=this,i=!1;return this._matchingEventBindings(e,t).forEach(function(e){var t=r._processEventBinding(e,n);t===!1&&(i=!0)}),i},DynamicChangeDetector.prototype._processEventBinding=function(e,t){var n=a.ListWrapper.createFixedSize(e.records.length);n[0]=this.values[0];for(var r=0;r<e.records.length;++r){var i=e.records[r];if(i.isSkipRecord())r+=this._computeSkipLength(r,i,n);else{i.lastInBinding&&this._markPathAsCheckOnce(i);var s=this._calculateCurrValue(i,n,t);if(i.lastInBinding)return s;this._writeSelf(i,s,n)}}throw new o.BaseException("Cannot be reached")},DynamicChangeDetector.prototype._computeSkipLength=function(e,t,n){if(t.mode===l.RecordType.SkipRecords)return t.fixedArgs[0]-e-1;if(t.mode===l.RecordType.SkipRecordsIf){var r=this._readContext(t,n);return r?t.fixedArgs[0]-e-1:0}if(t.mode===l.RecordType.SkipRecordsIfNot){var r=this._readContext(t,n);return r?0:t.fixedArgs[0]-e-1}throw new o.BaseException("Cannot be reached")},DynamicChangeDetector.prototype._markPathAsCheckOnce=function(e){if(!e.bindingRecord.isDefaultChangeDetection()){var t=e.bindingRecord.directiveRecord;this._getDetectorFor(t.directiveIndex).markPathToRootAsCheckOnce()}},DynamicChangeDetector.prototype._matchingEventBindings=function(e,t){return this._eventBindings.filter(function(n){
return n.eventName==e&&n.elIndex===t})},DynamicChangeDetector.prototype.hydrateDirectives=function(e){var t=this;this.values[0]=this.context,this.dispatcher=e,this.outputSubscriptions=[];for(var n=0;n<this._directiveRecords.length;++n){var r=this._directiveRecords[n];i.isPresent(r.outputs)&&r.outputs.forEach(function(e){var n=t._createEventHandler(r.directiveIndex.elementIndex,e[1]),i=t._getDirectiveFor(r.directiveIndex),o=p.reflector.getter(e[0]);t.outputSubscriptions.push(f.ObservableWrapper.subscribe(o(i),n))})}},DynamicChangeDetector.prototype._createEventHandler=function(e,t){var n=this;return function(r){return n.handleEvent(t,e,r)}},DynamicChangeDetector.prototype.dehydrateDirectives=function(e){e&&(this._destroyPipes(),this._destroyDirectives()),this.values[0]=null,a.ListWrapper.fill(this.values,c.ChangeDetectionUtil.uninitialized,1),a.ListWrapper.fill(this.changes,!1),a.ListWrapper.fill(this.localPipes,null),a.ListWrapper.fill(this.prevContexts,c.ChangeDetectionUtil.uninitialized)},DynamicChangeDetector.prototype._destroyPipes=function(){for(var e=0;e<this.localPipes.length;++e)i.isPresent(this.localPipes[e])&&c.ChangeDetectionUtil.callPipeOnDestroy(this.localPipes[e])},DynamicChangeDetector.prototype._destroyDirectives=function(){for(var e=0;e<this._directiveRecords.length;++e){var t=this._directiveRecords[e];t.callOnDestroy&&this._getDirectiveFor(t.directiveIndex).ngOnDestroy()}},DynamicChangeDetector.prototype.checkNoChanges=function(){this.runDetectChanges(!0)},DynamicChangeDetector.prototype.detectChangesInRecordsInternal=function(e){for(var t=this._records,n=null,r=!1,o=0;o<t.length;++o){var a=t[o],s=a.bindingRecord,c=s.directiveRecord;if(this._firstInBinding(a)&&(this.propertyBindingIndex=a.propertyBindingIndex),a.isLifeCycleRecord())"DoCheck"!==a.name||e?"OnInit"!==a.name||e||this.state!=u.ChangeDetectorState.NeverChecked?"OnChanges"===a.name&&i.isPresent(n)&&!e&&this._getDirectiveFor(c.directiveIndex).ngOnChanges(n):this._getDirectiveFor(c.directiveIndex).ngOnInit():this._getDirectiveFor(c.directiveIndex).ngDoCheck();else if(a.isSkipRecord())o+=this._computeSkipLength(o,a,this.values);else{var l=this._check(a,e,this.values,this.locals);i.isPresent(l)&&(this._updateDirectiveOrElement(l,s),r=!0,n=this._addChange(s,l,n))}a.lastInDirective&&(n=null,r&&!s.isDefaultChangeDetection()&&this._getDetectorFor(c.directiveIndex).markAsCheckOnce(),r=!1)}},DynamicChangeDetector.prototype._firstInBinding=function(e){var t=c.ChangeDetectionUtil.protoByIndex(this._records,e.selfIndex-1);return i.isBlank(t)||t.bindingRecord!==e.bindingRecord},DynamicChangeDetector.prototype.afterContentLifecycleCallbacksInternal=function(){for(var e=this._directiveRecords,t=e.length-1;t>=0;--t){var n=e[t];n.callAfterContentInit&&this.state==u.ChangeDetectorState.NeverChecked&&this._getDirectiveFor(n.directiveIndex).ngAfterContentInit(),n.callAfterContentChecked&&this._getDirectiveFor(n.directiveIndex).ngAfterContentChecked()}},DynamicChangeDetector.prototype.afterViewLifecycleCallbacksInternal=function(){for(var e=this._directiveRecords,t=e.length-1;t>=0;--t){var n=e[t];n.callAfterViewInit&&this.state==u.ChangeDetectorState.NeverChecked&&this._getDirectiveFor(n.directiveIndex).ngAfterViewInit(),n.callAfterViewChecked&&this._getDirectiveFor(n.directiveIndex).ngAfterViewChecked()}},DynamicChangeDetector.prototype._updateDirectiveOrElement=function(t,n){if(i.isBlank(n.directiveRecord))e.prototype.notifyDispatcher.call(this,t.currentValue);else{var r=n.directiveRecord.directiveIndex;n.setter(this._getDirectiveFor(r),t.currentValue)}this._genConfig.logBindingUpdate&&e.prototype.logBindingUpdate.call(this,t.currentValue)},DynamicChangeDetector.prototype._addChange=function(t,n,r){return t.callOnChanges()?e.prototype.addChange.call(this,r,n.previousValue,n.currentValue):r},DynamicChangeDetector.prototype._getDirectiveFor=function(e){return this.dispatcher.getDirectiveFor(e)},DynamicChangeDetector.prototype._getDetectorFor=function(e){return this.dispatcher.getDetectorFor(e)},DynamicChangeDetector.prototype._check=function(e,t,n,r){return e.isPipeRecord()?this._pipeCheck(e,t,n):this._referenceCheck(e,t,n,r)},DynamicChangeDetector.prototype._referenceCheck=function(e,t,n,r){if(this._pureFuncAndArgsDidNotChange(e))return this._setChanged(e,!1),null;var i=this._calculateCurrValue(e,n,r);if(e.shouldBeChecked()){var o=this._readSelf(e,n),a=t?!c.ChangeDetectionUtil.devModeEqual(o,i):c.ChangeDetectionUtil.looseNotIdentical(o,i);if(a){if(e.lastInBinding){var s=c.ChangeDetectionUtil.simpleChange(o,i);return t&&this.throwOnChangeError(o,i),this._writeSelf(e,i,n),this._setChanged(e,!0),s}return this._writeSelf(e,i,n),this._setChanged(e,!0),null}return this._setChanged(e,!1),null}return this._writeSelf(e,i,n),this._setChanged(e,!0),null},DynamicChangeDetector.prototype._calculateCurrValue=function(e,t,n){switch(e.mode){case l.RecordType.Self:return this._readContext(e,t);case l.RecordType.Const:return e.funcOrValue;case l.RecordType.PropertyRead:var r=this._readContext(e,t);return e.funcOrValue(r);case l.RecordType.SafeProperty:var r=this._readContext(e,t);return i.isBlank(r)?null:e.funcOrValue(r);case l.RecordType.PropertyWrite:var r=this._readContext(e,t),a=this._readArgs(e,t)[0];return e.funcOrValue(r,a),a;case l.RecordType.KeyedWrite:var r=this._readContext(e,t),s=this._readArgs(e,t)[0],a=this._readArgs(e,t)[1];return r[s]=a,a;case l.RecordType.Local:return n.get(e.name);case l.RecordType.InvokeMethod:var r=this._readContext(e,t),c=this._readArgs(e,t);return e.funcOrValue(r,c);case l.RecordType.SafeMethodInvoke:var r=this._readContext(e,t);if(i.isBlank(r))return null;var c=this._readArgs(e,t);return e.funcOrValue(r,c);case l.RecordType.KeyedRead:var u=this._readArgs(e,t)[0];return this._readContext(e,t)[u];case l.RecordType.Chain:var c=this._readArgs(e,t);return c[c.length-1];case l.RecordType.InvokeClosure:return i.FunctionWrapper.apply(this._readContext(e,t),this._readArgs(e,t));case l.RecordType.Interpolate:case l.RecordType.PrimitiveOp:case l.RecordType.CollectionLiteral:return i.FunctionWrapper.apply(e.funcOrValue,this._readArgs(e,t));default:throw new o.BaseException("Unknown operation "+e.mode)}},DynamicChangeDetector.prototype._pipeCheck=function(e,t,n){var r=this._readContext(e,n),i=this._pipeFor(e,r);if(!i.pure||this._argsOrContextChanged(e)){var o=this._readArgs(e,n),a=i.pipe.transform(r,o);if(e.shouldBeChecked()){var s=this._readSelf(e,n),u=t?!c.ChangeDetectionUtil.devModeEqual(s,a):c.ChangeDetectionUtil.looseNotIdentical(s,a);if(u){if(a=c.ChangeDetectionUtil.unwrapValue(a),e.lastInBinding){var l=c.ChangeDetectionUtil.simpleChange(s,a);return t&&this.throwOnChangeError(s,a),this._writeSelf(e,a,n),this._setChanged(e,!0),l}return this._writeSelf(e,a,n),this._setChanged(e,!0),null}return this._setChanged(e,!1),null}return this._writeSelf(e,a,n),this._setChanged(e,!0),null}},DynamicChangeDetector.prototype._pipeFor=function(e,t){var n=this._readPipe(e);if(i.isPresent(n))return n;var r=this.pipes.get(e.name);return this._writePipe(e,r),r},DynamicChangeDetector.prototype._readContext=function(e,t){return-1==e.contextIndex?this._getDirectiveFor(e.directiveIndex):t[e.contextIndex]},DynamicChangeDetector.prototype._readSelf=function(e,t){return t[e.selfIndex]},DynamicChangeDetector.prototype._writeSelf=function(e,t,n){n[e.selfIndex]=t},DynamicChangeDetector.prototype._readPipe=function(e){return this.localPipes[e.selfIndex]},DynamicChangeDetector.prototype._writePipe=function(e,t){this.localPipes[e.selfIndex]=t},DynamicChangeDetector.prototype._setChanged=function(e,t){e.argumentToPureFunction&&(this.changes[e.selfIndex]=t)},DynamicChangeDetector.prototype._pureFuncAndArgsDidNotChange=function(e){return e.isPureFunction()&&!this._argsChanged(e)},DynamicChangeDetector.prototype._argsChanged=function(e){for(var t=e.args,n=0;n<t.length;++n)if(this.changes[t[n]])return!0;return!1},DynamicChangeDetector.prototype._argsOrContextChanged=function(e){return this._argsChanged(e)||this.changes[e.contextIndex]},DynamicChangeDetector.prototype._readArgs=function(e,t){for(var n=a.ListWrapper.createFixedSize(e.args.length),r=e.args,i=0;i<r.length;++i)n[i]=t[r[i]];return n},DynamicChangeDetector}(s.AbstractChangeDetector);t.DynamicChangeDetector=h},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(5),o=function(e){function ExpressionChangedAfterItHasBeenCheckedException(t,n,r,i){e.call(this,"Expression '"+t+"' has changed after it was checked. "+("Previous value: '"+n+"'. Current value: '"+r+"'"))}return r(ExpressionChangedAfterItHasBeenCheckedException,e),ExpressionChangedAfterItHasBeenCheckedException}(i.BaseException);t.ExpressionChangedAfterItHasBeenCheckedException=o;var a=function(e){function ChangeDetectionError(t,n,r,i){e.call(this,n+" in ["+t+"]",n,r,i),this.location=t}return r(ChangeDetectionError,e),ChangeDetectionError}(i.WrappedException);t.ChangeDetectionError=a;var s=function(e){function DehydratedException(t){e.call(this,"Attempt to use a dehydrated detector: "+t)}return r(DehydratedException,e),DehydratedException}(i.BaseException);t.DehydratedException=s;var c=function(e){function EventEvaluationError(t,n,r,i){e.call(this,'Error during evaluation of "'+t+'"',n,r,i)}return r(EventEvaluationError,e),EventEvaluationError}(i.WrappedException);t.EventEvaluationError=c;var u=function(){function EventEvaluationErrorContext(e,t,n,r,i){this.element=e,this.componentElement=t,this.context=n,this.locals=r,this.injector=i}return EventEvaluationErrorContext}();t.EventEvaluationErrorContext=u},function(e,t,n){"use strict";function newCharacterToken(e,t){return new f(e,l.Character,t,c.StringWrapper.fromCharCode(t))}function newIdentifierToken(e,t){return new f(e,l.Identifier,0,t)}function newKeywordToken(e,t){return new f(e,l.Keyword,0,t)}function newOperatorToken(e,t){return new f(e,l.Operator,0,t)}function newStringToken(e,t){return new f(e,l.String,0,t)}function newNumberToken(e,t){return new f(e,l.Number,t,"")}function isWhitespace(e){return e>=t.$TAB&&e<=t.$SPACE||e==x}function isIdentifierStart(e){return e>=b&&A>=e||e>=g&&m>=e||e==v||e==t.$$}function isIdentifier(e){if(0==e.length)return!1;var n=new T(e);if(!isIdentifierStart(n.peek))return!1;for(n.advance();n.peek!==t.$EOF;){if(!isIdentifierPart(n.peek))return!1;n.advance()}return!0}function isIdentifierPart(e){return e>=b&&A>=e||e>=g&&m>=e||e>=h&&d>=e||e==v||e==t.$$}function isDigit(e){return e>=h&&d>=e}function isExponentStart(e){return e==C||e==y}function isExponentSign(e){return e==t.$MINUS||e==t.$PLUS}function unescape(e){switch(e){case R:return t.$LF;case P:return t.$FF;case w:return t.$CR;case E:return t.$TAB;case D:return t.$VTAB;default:return e}}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(159),s=n(3),c=n(1),u=n(5);!function(e){e[e.Character=0]="Character",e[e.Identifier=1]="Identifier",e[e.Keyword=2]="Keyword",e[e.String=3]="String",e[e.Operator=4]="Operator",e[e.Number=5]="Number"}(t.TokenType||(t.TokenType={}));var l=t.TokenType,p=function(){function Lexer(){}return Lexer.prototype.tokenize=function(e){for(var t=new T(e),n=[],r=t.scanToken();null!=r;)n.push(r),r=t.scanToken();return n},Lexer=i([a.Injectable(),o("design:paramtypes",[])],Lexer)}();t.Lexer=p;var f=function(){function Token(e,t,n,r){this.index=e,this.type=t,this.numValue=n,this.strValue=r}return Token.prototype.isCharacter=function(e){return this.type==l.Character&&this.numValue==e},Token.prototype.isNumber=function(){return this.type==l.Number},Token.prototype.isString=function(){return this.type==l.String},Token.prototype.isOperator=function(e){return this.type==l.Operator&&this.strValue==e},Token.prototype.isIdentifier=function(){return this.type==l.Identifier},Token.prototype.isKeyword=function(){return this.type==l.Keyword},Token.prototype.isKeywordVar=function(){return this.type==l.Keyword&&"var"==this.strValue},Token.prototype.isKeywordNull=function(){return this.type==l.Keyword&&"null"==this.strValue},Token.prototype.isKeywordUndefined=function(){return this.type==l.Keyword&&"undefined"==this.strValue},Token.prototype.isKeywordTrue=function(){return this.type==l.Keyword&&"true"==this.strValue},Token.prototype.isKeywordFalse=function(){return this.type==l.Keyword&&"false"==this.strValue},Token.prototype.toNumber=function(){return this.type==l.Number?this.numValue:-1},Token.prototype.toString=function(){switch(this.type){case l.Character:case l.Identifier:case l.Keyword:case l.Operator:case l.String:return this.strValue;case l.Number:return this.numValue.toString();default:return null}},Token}();t.Token=f,t.EOF=new f(-1,l.Character,0,""),t.$EOF=0,t.$TAB=9,t.$LF=10,t.$VTAB=11,t.$FF=12,t.$CR=13,t.$SPACE=32,t.$BANG=33,t.$DQ=34,t.$HASH=35,t.$$=36,t.$PERCENT=37,t.$AMPERSAND=38,t.$SQ=39,t.$LPAREN=40,t.$RPAREN=41,t.$STAR=42,t.$PLUS=43,t.$COMMA=44,t.$MINUS=45,t.$PERIOD=46,t.$SLASH=47,t.$COLON=58,t.$SEMICOLON=59,t.$LT=60,t.$EQ=61,t.$GT=62,t.$QUESTION=63;var h=48,d=57,g=65,y=69,m=90;t.$LBRACKET=91,t.$BACKSLASH=92,t.$RBRACKET=93;var _=94,v=95,b=97,C=101,P=102,R=110,w=114,E=116,S=117,D=118,A=122;t.$LBRACE=123,t.$BAR=124,t.$RBRACE=125;var x=160,O=function(e){function ScannerError(t){e.call(this),this.message=t}return r(ScannerError,e),ScannerError.prototype.toString=function(){return this.message},ScannerError}(u.BaseException);t.ScannerError=O;var T=function(){function _Scanner(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}return _Scanner.prototype.advance=function(){this.peek=++this.index>=this.length?t.$EOF:c.StringWrapper.charCodeAt(this.input,this.index)},_Scanner.prototype.scanToken=function(){for(var e=this.input,n=this.length,r=this.peek,i=this.index;r<=t.$SPACE;){if(++i>=n){r=t.$EOF;break}r=c.StringWrapper.charCodeAt(e,i)}if(this.peek=r,this.index=i,i>=n)return null;if(isIdentifierStart(r))return this.scanIdentifier();if(isDigit(r))return this.scanNumber(i);var o=i;switch(r){case t.$PERIOD:return this.advance(),isDigit(this.peek)?this.scanNumber(o):newCharacterToken(o,t.$PERIOD);case t.$LPAREN:case t.$RPAREN:case t.$LBRACE:case t.$RBRACE:case t.$LBRACKET:case t.$RBRACKET:case t.$COMMA:case t.$COLON:case t.$SEMICOLON:return this.scanCharacter(o,r);case t.$SQ:case t.$DQ:return this.scanString();case t.$HASH:case t.$PLUS:case t.$MINUS:case t.$STAR:case t.$SLASH:case t.$PERCENT:case _:return this.scanOperator(o,c.StringWrapper.fromCharCode(r));case t.$QUESTION:return this.scanComplexOperator(o,"?",t.$PERIOD,".");case t.$LT:case t.$GT:return this.scanComplexOperator(o,c.StringWrapper.fromCharCode(r),t.$EQ,"=");case t.$BANG:case t.$EQ:return this.scanComplexOperator(o,c.StringWrapper.fromCharCode(r),t.$EQ,"=",t.$EQ,"=");case t.$AMPERSAND:return this.scanComplexOperator(o,"&",t.$AMPERSAND,"&");case t.$BAR:return this.scanComplexOperator(o,"|",t.$BAR,"|");case x:for(;isWhitespace(this.peek);)this.advance();return this.scanToken()}return this.error("Unexpected character ["+c.StringWrapper.fromCharCode(r)+"]",0),null},_Scanner.prototype.scanCharacter=function(e,t){return this.advance(),newCharacterToken(e,t)},_Scanner.prototype.scanOperator=function(e,t){return this.advance(),newOperatorToken(e,t)},_Scanner.prototype.scanComplexOperator=function(e,t,n,r,i,o){this.advance();var a=t;return this.peek==n&&(this.advance(),a+=r),c.isPresent(i)&&this.peek==i&&(this.advance(),a+=o),newOperatorToken(e,a)},_Scanner.prototype.scanIdentifier=function(){var e=this.index;for(this.advance();isIdentifierPart(this.peek);)this.advance();var t=this.input.substring(e,this.index);return s.SetWrapper.has(N,t)?newKeywordToken(e,t):newIdentifierToken(e,t)},_Scanner.prototype.scanNumber=function(e){var n=this.index===e;for(this.advance();;){if(isDigit(this.peek));else if(this.peek==t.$PERIOD)n=!1;else{if(!isExponentStart(this.peek))break;this.advance(),isExponentSign(this.peek)&&this.advance(),isDigit(this.peek)||this.error("Invalid exponent",-1),n=!1}this.advance()}var r=this.input.substring(e,this.index),i=n?c.NumberWrapper.parseIntAutoRadix(r):c.NumberWrapper.parseFloat(r);return newNumberToken(e,i)},_Scanner.prototype.scanString=function(){var e=this.index,n=this.peek;this.advance();for(var r,i=this.index,o=this.input;this.peek!=n;)if(this.peek==t.$BACKSLASH){null==r&&(r=new c.StringJoiner),r.add(o.substring(i,this.index)),this.advance();var a;if(this.peek==S){var s=o.substring(this.index+1,this.index+5);try{a=c.NumberWrapper.parseInt(s,16)}catch(u){this.error("Invalid unicode escape [\\u"+s+"]",0)}for(var l=0;5>l;l++)this.advance()}else a=unescape(this.peek),this.advance();r.add(c.StringWrapper.fromCharCode(a)),i=this.index}else this.peek==t.$EOF?this.error("Unterminated quote",0):this.advance();var p=o.substring(i,this.index);this.advance();var f=p;return null!=r&&(r.add(p),f=r.toString()),newStringToken(e,f)},_Scanner.prototype.error=function(e,t){var n=this.index+t;throw new O("Lexer Error: "+e+" at column "+n+" in expression ["+this.input+"]")},_Scanner}();t.isIdentifier=isIdentifier;var N=(s.SetWrapper.createFromList(["+","-","*","/","%","^","=","==","!=","===","!==","<",">","<=",">=","&&","||","&","|","!","?","#","?."]),s.SetWrapper.createFromList(["var","null","undefined","true","false","if","else"]))},function(e,t,n){"use strict";var r=n(1),i=n(5),o=n(3),a=function(){function Locals(e,t){this.parent=e,this.current=t}return Locals.prototype.contains=function(e){return this.current.has(e)?!0:r.isPresent(this.parent)?this.parent.contains(e):!1},Locals.prototype.get=function(e){if(this.current.has(e))return this.current.get(e);if(r.isPresent(this.parent))return this.parent.get(e);throw new i.BaseException("Cannot find '"+e+"'")},Locals.prototype.set=function(e,t){if(!this.current.has(e))throw new i.BaseException("Setting of new keys post-construction is not supported. Key: "+e+".");this.current.set(e,t)},Locals.prototype.clearLocalValues=function(){o.MapWrapper.clearValues(this.current)},Locals}();t.Locals=a},function(e,t,n){"use strict";function createPropertyRecords(e){var t=new g;return o.ListWrapper.forEachWithIndex(e.bindingRecords,function(n,r){return t.add(n,e.variableNames,r)}),f.coalesce(t.records)}function createEventRecords(e){var t=o.ListWrapper.concat(["$event"],e.variableNames);return e.eventRecords.map(function(e){var n=y.create(e,t),r=e.implicitReceiver instanceof l.DirectiveIndex?e.implicitReceiver:null;return new p.EventBinding(e.target.name,e.target.elementIndex,r,n)})}function _arrayFn(e){switch(e){case 0:return c.ChangeDetectionUtil.arrayFn0;case 1:return c.ChangeDetectionUtil.arrayFn1;case 2:return c.ChangeDetectionUtil.arrayFn2;case 3:return c.ChangeDetectionUtil.arrayFn3;case 4:return c.ChangeDetectionUtil.arrayFn4;case 5:return c.ChangeDetectionUtil.arrayFn5;case 6:return c.ChangeDetectionUtil.arrayFn6;case 7:return c.ChangeDetectionUtil.arrayFn7;case 8:return c.ChangeDetectionUtil.arrayFn8;case 9:return c.ChangeDetectionUtil.arrayFn9;default:throw new i.BaseException("Does not support literal maps with more than 9 elements")}}function _mapPrimitiveName(e){var t=e.map(function(e){return r.isString(e)?'"'+e+'"':""+e}).join(", ");return"mapFn(["+t+"])"}function _operationToPrimitiveName(e){switch(e){case"+":return"operation_add";case"-":return"operation_subtract";case"*":return"operation_multiply";case"/":return"operation_divide";case"%":return"operation_remainder";case"==":return"operation_equals";case"!=":return"operation_not_equals";case"===":return"operation_identical";case"!==":return"operation_not_identical";case"<":return"operation_less_then";case">":return"operation_greater_then";case"<=":return"operation_less_or_equals_then";case">=":return"operation_greater_or_equals_then";default:throw new i.BaseException("Unsupported operation "+e)}}function _operationToFunction(e){switch(e){case"+":return c.ChangeDetectionUtil.operation_add;case"-":return c.ChangeDetectionUtil.operation_subtract;case"*":return c.ChangeDetectionUtil.operation_multiply;case"/":return c.ChangeDetectionUtil.operation_divide;case"%":return c.ChangeDetectionUtil.operation_remainder;case"==":return c.ChangeDetectionUtil.operation_equals;case"!=":return c.ChangeDetectionUtil.operation_not_equals;case"===":return c.ChangeDetectionUtil.operation_identical;case"!==":return c.ChangeDetectionUtil.operation_not_identical;case"<":return c.ChangeDetectionUtil.operation_less_then;case">":return c.ChangeDetectionUtil.operation_greater_then;case"<=":return c.ChangeDetectionUtil.operation_less_or_equals_then;case">=":return c.ChangeDetectionUtil.operation_greater_or_equals_then;default:throw new i.BaseException("Unsupported operation "+e)}}function s(e){return r.isPresent(e)?""+e:""}function _interpolationFn(e){var t=e.length,n=t>0?e[0]:null,r=t>1?e[1]:null,o=t>2?e[2]:null,a=t>3?e[3]:null,c=t>4?e[4]:null,u=t>5?e[5]:null,l=t>6?e[6]:null,p=t>7?e[7]:null,f=t>8?e[8]:null,h=t>9?e[9]:null;switch(t-1){case 1:return function(e){return n+s(e)+r};case 2:return function(e,t){return n+s(e)+r+s(t)+o};case 3:return function(e,t,i){return n+s(e)+r+s(t)+o+s(i)+a};case 4:return function(e,t,i,u){return n+s(e)+r+s(t)+o+s(i)+a+s(u)+c};case 5:return function(e,t,i,l,p){return n+s(e)+r+s(t)+o+s(i)+a+s(l)+c+s(p)+u};case 6:return function(e,t,i,p,f,h){return n+s(e)+r+s(t)+o+s(i)+a+s(p)+c+s(f)+u+s(h)+l};case 7:return function(e,t,i,f,h,d,g){return n+s(e)+r+s(t)+o+s(i)+a+s(f)+c+s(h)+u+s(d)+l+s(g)+p};case 8:return function(e,t,i,h,d,g,y,m){return n+s(e)+r+s(t)+o+s(i)+a+s(h)+c+s(d)+u+s(g)+l+s(y)+p+s(m)+f};case 9:return function(e,t,i,d,g,y,m,_,v){return n+s(e)+r+s(t)+o+s(i)+a+s(d)+c+s(g)+u+s(y)+l+s(m)+p+s(_)+f+s(v)+h};default:throw new i.BaseException("Does not support more than 9 expressions")}}var r=n(1),i=n(5),o=n(3),a=n(106),c=n(67),u=n(252),l=n(156),p=n(410),f=n(407),h=n(81),d=function(){function DynamicProtoChangeDetector(e){this._definition=e,this._propertyBindingRecords=createPropertyRecords(e),this._eventBindingRecords=createEventRecords(e),this._propertyBindingTargets=this._definition.bindingRecords.map(function(e){return e.target}),this._directiveIndices=this._definition.directiveRecords.map(function(e){return e.directiveIndex})}return DynamicProtoChangeDetector.prototype.instantiate=function(){return new u.DynamicChangeDetector(this._definition.id,this._propertyBindingRecords.length,this._propertyBindingTargets,this._directiveIndices,this._definition.strategy,this._propertyBindingRecords,this._eventBindingRecords,this._definition.directiveRecords,this._definition.genConfig)},DynamicProtoChangeDetector}();t.DynamicProtoChangeDetector=d,t.createPropertyRecords=createPropertyRecords,t.createEventRecords=createEventRecords;var g=function(){function ProtoRecordBuilder(){this.records=[]}return ProtoRecordBuilder.prototype.add=function(e,t,n){var i=o.ListWrapper.last(this.records);r.isPresent(i)&&i.bindingRecord.directiveRecord==e.directiveRecord&&(i.lastInDirective=!1);var a=this.records.length;this._appendRecords(e,t,n);var s=o.ListWrapper.last(this.records);r.isPresent(s)&&s!==i&&(s.lastInBinding=!0,s.lastInDirective=!0,this._setArgumentToPureFunction(a))},ProtoRecordBuilder.prototype._setArgumentToPureFunction=function(e){for(var t=this,n=e;n<this.records.length;++n){var r=this.records[n];r.isPureFunction()&&r.args.forEach(function(e){return t.records[e-1].argumentToPureFunction=!0}),r.mode===h.RecordType.Pipe&&(r.args.forEach(function(e){return t.records[e-1].argumentToPureFunction=!0}),this.records[r.contextIndex-1].argumentToPureFunction=!0)}},ProtoRecordBuilder.prototype._appendRecords=function(e,t,n){e.isDirectiveLifecycle()?this.records.push(new h.ProtoRecord(h.RecordType.DirectiveLifecycle,e.lifecycleEvent,null,[],[],-1,null,this.records.length+1,e,!1,!1,!1,!1,null)):y.append(this.records,e,t,n)},ProtoRecordBuilder}();t.ProtoRecordBuilder=g;var y=function(){function _ConvertAstIntoProtoRecords(e,t,n,r){this._records=e,this._bindingRecord=t,this._variableNames=n,this._bindingIndex=r}return _ConvertAstIntoProtoRecords.append=function(e,t,n,r){var i=new _ConvertAstIntoProtoRecords(e,t,n,r);t.ast.visit(i)},_ConvertAstIntoProtoRecords.create=function(e,t){var n=[];return _ConvertAstIntoProtoRecords.append(n,e,t,null),n[n.length-1].lastInBinding=!0,n},_ConvertAstIntoProtoRecords.prototype.visitImplicitReceiver=function(e){return this._bindingRecord.implicitReceiver},_ConvertAstIntoProtoRecords.prototype.visitInterpolation=function(e){var t=this._visitAll(e.expressions);return this._addRecord(h.RecordType.Interpolate,"interpolate",_interpolationFn(e.strings),t,e.strings,0)},_ConvertAstIntoProtoRecords.prototype.visitLiteralPrimitive=function(e){return this._addRecord(h.RecordType.Const,"literal",e.value,[],null,0)},_ConvertAstIntoProtoRecords.prototype.visitPropertyRead=function(e){var t=e.receiver.visit(this);return r.isPresent(this._variableNames)&&o.ListWrapper.contains(this._variableNames,e.name)&&e.receiver instanceof a.ImplicitReceiver?this._addRecord(h.RecordType.Local,e.name,e.name,[],null,t):this._addRecord(h.RecordType.PropertyRead,e.name,e.getter,[],null,t)},_ConvertAstIntoProtoRecords.prototype.visitPropertyWrite=function(e){if(r.isPresent(this._variableNames)&&o.ListWrapper.contains(this._variableNames,e.name)&&e.receiver instanceof a.ImplicitReceiver)throw new i.BaseException("Cannot reassign a variable binding "+e.name);var t=e.receiver.visit(this),n=e.value.visit(this);return this._addRecord(h.RecordType.PropertyWrite,e.name,e.setter,[n],null,t)},_ConvertAstIntoProtoRecords.prototype.visitKeyedWrite=function(e){var t=e.obj.visit(this),n=e.key.visit(this),r=e.value.visit(this);return this._addRecord(h.RecordType.KeyedWrite,null,null,[n,r],null,t)},_ConvertAstIntoProtoRecords.prototype.visitSafePropertyRead=function(e){var t=e.receiver.visit(this);return this._addRecord(h.RecordType.SafeProperty,e.name,e.getter,[],null,t)},_ConvertAstIntoProtoRecords.prototype.visitMethodCall=function(e){var t=e.receiver.visit(this),n=this._visitAll(e.args);if(r.isPresent(this._variableNames)&&o.ListWrapper.contains(this._variableNames,e.name)){var i=this._addRecord(h.RecordType.Local,e.name,e.name,[],null,t);return this._addRecord(h.RecordType.InvokeClosure,"closure",null,n,null,i)}return this._addRecord(h.RecordType.InvokeMethod,e.name,e.fn,n,null,t)},_ConvertAstIntoProtoRecords.prototype.visitSafeMethodCall=function(e){var t=e.receiver.visit(this),n=this._visitAll(e.args);return this._addRecord(h.RecordType.SafeMethodInvoke,e.name,e.fn,n,null,t)},_ConvertAstIntoProtoRecords.prototype.visitFunctionCall=function(e){var t=e.target.visit(this),n=this._visitAll(e.args);return this._addRecord(h.RecordType.InvokeClosure,"closure",null,n,null,t)},_ConvertAstIntoProtoRecords.prototype.visitLiteralArray=function(e){var t="arrayFn"+e.expressions.length;return this._addRecord(h.RecordType.CollectionLiteral,t,_arrayFn(e.expressions.length),this._visitAll(e.expressions),null,0)},_ConvertAstIntoProtoRecords.prototype.visitLiteralMap=function(e){return this._addRecord(h.RecordType.CollectionLiteral,_mapPrimitiveName(e.keys),c.ChangeDetectionUtil.mapFn(e.keys),this._visitAll(e.values),null,0)},_ConvertAstIntoProtoRecords.prototype.visitBinary=function(e){var t=e.left.visit(this);switch(e.operation){case"&&":var n=[null];this._addRecord(h.RecordType.SkipRecordsIfNot,"SkipRecordsIfNot",null,[],n,t);var r=e.right.visit(this);return n[0]=r,this._addRecord(h.RecordType.PrimitiveOp,"cond",c.ChangeDetectionUtil.cond,[t,r,t],null,0);case"||":var n=[null];this._addRecord(h.RecordType.SkipRecordsIf,"SkipRecordsIf",null,[],n,t);var r=e.right.visit(this);return n[0]=r,this._addRecord(h.RecordType.PrimitiveOp,"cond",c.ChangeDetectionUtil.cond,[t,t,r],null,0);default:var r=e.right.visit(this);return this._addRecord(h.RecordType.PrimitiveOp,_operationToPrimitiveName(e.operation),_operationToFunction(e.operation),[t,r],null,0)}},_ConvertAstIntoProtoRecords.prototype.visitPrefixNot=function(e){var t=e.expression.visit(this);return this._addRecord(h.RecordType.PrimitiveOp,"operation_negate",c.ChangeDetectionUtil.operation_negate,[t],null,0)},_ConvertAstIntoProtoRecords.prototype.visitConditional=function(e){var t=e.condition.visit(this),n=[null],r=[null];this._addRecord(h.RecordType.SkipRecordsIfNot,"SkipRecordsIfNot",null,[],n,t);var i=e.trueExp.visit(this),o=this._addRecord(h.RecordType.SkipRecords,"SkipRecords",null,[],r,0),a=e.falseExp.visit(this);return n[0]=o,r[0]=a,this._addRecord(h.RecordType.PrimitiveOp,"cond",c.ChangeDetectionUtil.cond,[t,i,a],null,0)},_ConvertAstIntoProtoRecords.prototype.visitPipe=function(e){var t=e.exp.visit(this),n=this._visitAll(e.args);return this._addRecord(h.RecordType.Pipe,e.name,e.name,n,null,t)},_ConvertAstIntoProtoRecords.prototype.visitKeyedRead=function(e){var t=e.obj.visit(this),n=e.key.visit(this);return this._addRecord(h.RecordType.KeyedRead,"keyedAccess",c.ChangeDetectionUtil.keyedAccess,[n],null,t)},_ConvertAstIntoProtoRecords.prototype.visitChain=function(e){var t=this,n=e.expressions.map(function(e){return e.visit(t)});return this._addRecord(h.RecordType.Chain,"chain",null,n,null,0)},_ConvertAstIntoProtoRecords.prototype.visitQuote=function(e){throw new i.BaseException("Caught uninterpreted expression at "+e.location+": "+e.uninterpretedExpression+". "+("Expression prefix "+e.prefix+" did not match a template transformer to interpret the expression."))},_ConvertAstIntoProtoRecords.prototype._visitAll=function(e){for(var t=o.ListWrapper.createFixedSize(e.length),n=0;n<e.length;++n)t[n]=e[n].visit(this);return t},_ConvertAstIntoProtoRecords.prototype._addRecord=function(e,t,n,r,i,o){var a=this._records.length+1;return o instanceof l.DirectiveIndex?this._records.push(new h.ProtoRecord(e,t,n,r,i,-1,o,a,this._bindingRecord,!1,!1,!1,!1,this._bindingIndex)):this._records.push(new h.ProtoRecord(e,t,n,r,i,o,null,a,this._bindingRecord,!1,!1,!1,!1,this._bindingIndex)),a},_ConvertAstIntoProtoRecords}()},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(6),a=n(1),s=function(){function Console(){}return Console.prototype.log=function(e){a.print(e)},Console=r([o.Injectable(),i("design:paramtypes",[])],Console)}();t.Console=s},function(e,t,n){"use strict";function canSee(e,t){return e===t||t===p.PublicAndPrivate||e===p.PublicAndPrivate}function _mapProviders(e,t){for(var n=[],r=0;r<e._proto.numberOfProviders;++r)n.push(t(e._proto.getProviderAtIndex(r)));return n}var r=n(3),i=n(82),o=n(160),a=n(1),s=n(5),c=n(162),u=n(68),l=10;t.UNDEFINED=a.CONST_EXPR(new Object),function(e){e[e.Public=0]="Public",e[e.Private=1]="Private",e[e.PublicAndPrivate=2]="PublicAndPrivate"}(t.Visibility||(t.Visibility={}));var p=t.Visibility,f=function(){function ProtoInjectorInlineStrategy(e,t){this.provider0=null,this.provider1=null,this.provider2=null,this.provider3=null,this.provider4=null,this.provider5=null,this.provider6=null,this.provider7=null,this.provider8=null,this.provider9=null,
this.keyId0=null,this.keyId1=null,this.keyId2=null,this.keyId3=null,this.keyId4=null,this.keyId5=null,this.keyId6=null,this.keyId7=null,this.keyId8=null,this.keyId9=null,this.visibility0=null,this.visibility1=null,this.visibility2=null,this.visibility3=null,this.visibility4=null,this.visibility5=null,this.visibility6=null,this.visibility7=null,this.visibility8=null,this.visibility9=null;var n=t.length;n>0&&(this.provider0=t[0].provider,this.keyId0=t[0].getKeyId(),this.visibility0=t[0].visibility),n>1&&(this.provider1=t[1].provider,this.keyId1=t[1].getKeyId(),this.visibility1=t[1].visibility),n>2&&(this.provider2=t[2].provider,this.keyId2=t[2].getKeyId(),this.visibility2=t[2].visibility),n>3&&(this.provider3=t[3].provider,this.keyId3=t[3].getKeyId(),this.visibility3=t[3].visibility),n>4&&(this.provider4=t[4].provider,this.keyId4=t[4].getKeyId(),this.visibility4=t[4].visibility),n>5&&(this.provider5=t[5].provider,this.keyId5=t[5].getKeyId(),this.visibility5=t[5].visibility),n>6&&(this.provider6=t[6].provider,this.keyId6=t[6].getKeyId(),this.visibility6=t[6].visibility),n>7&&(this.provider7=t[7].provider,this.keyId7=t[7].getKeyId(),this.visibility7=t[7].visibility),n>8&&(this.provider8=t[8].provider,this.keyId8=t[8].getKeyId(),this.visibility8=t[8].visibility),n>9&&(this.provider9=t[9].provider,this.keyId9=t[9].getKeyId(),this.visibility9=t[9].visibility)}return ProtoInjectorInlineStrategy.prototype.getProviderAtIndex=function(e){if(0==e)return this.provider0;if(1==e)return this.provider1;if(2==e)return this.provider2;if(3==e)return this.provider3;if(4==e)return this.provider4;if(5==e)return this.provider5;if(6==e)return this.provider6;if(7==e)return this.provider7;if(8==e)return this.provider8;if(9==e)return this.provider9;throw new o.OutOfBoundsError(e)},ProtoInjectorInlineStrategy.prototype.createInjectorStrategy=function(e){return new g(e,this)},ProtoInjectorInlineStrategy}();t.ProtoInjectorInlineStrategy=f;var h=function(){function ProtoInjectorDynamicStrategy(e,t){var n=t.length;this.providers=r.ListWrapper.createFixedSize(n),this.keyIds=r.ListWrapper.createFixedSize(n),this.visibilities=r.ListWrapper.createFixedSize(n);for(var i=0;n>i;i++)this.providers[i]=t[i].provider,this.keyIds[i]=t[i].getKeyId(),this.visibilities[i]=t[i].visibility}return ProtoInjectorDynamicStrategy.prototype.getProviderAtIndex=function(e){if(0>e||e>=this.providers.length)throw new o.OutOfBoundsError(e);return this.providers[e]},ProtoInjectorDynamicStrategy.prototype.createInjectorStrategy=function(e){return new y(this,e)},ProtoInjectorDynamicStrategy}();t.ProtoInjectorDynamicStrategy=h;var d=function(){function ProtoInjector(e){this.numberOfProviders=e.length,this._strategy=e.length>l?new h(this,e):new f(this,e)}return ProtoInjector.fromResolvedProviders=function(e){var t=e.map(function(e){return new m(e,p.Public)});return new ProtoInjector(t)},ProtoInjector.prototype.getProviderAtIndex=function(e){return this._strategy.getProviderAtIndex(e)},ProtoInjector}();t.ProtoInjector=d;var g=function(){function InjectorInlineStrategy(e,n){this.injector=e,this.protoStrategy=n,this.obj0=t.UNDEFINED,this.obj1=t.UNDEFINED,this.obj2=t.UNDEFINED,this.obj3=t.UNDEFINED,this.obj4=t.UNDEFINED,this.obj5=t.UNDEFINED,this.obj6=t.UNDEFINED,this.obj7=t.UNDEFINED,this.obj8=t.UNDEFINED,this.obj9=t.UNDEFINED}return InjectorInlineStrategy.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},InjectorInlineStrategy.prototype.instantiateProvider=function(e,t){return this.injector._new(e,t)},InjectorInlineStrategy.prototype.getObjByKeyId=function(e,n){var r=this.protoStrategy,i=this.injector;return r.keyId0===e&&canSee(r.visibility0,n)?(this.obj0===t.UNDEFINED&&(this.obj0=i._new(r.provider0,r.visibility0)),this.obj0):r.keyId1===e&&canSee(r.visibility1,n)?(this.obj1===t.UNDEFINED&&(this.obj1=i._new(r.provider1,r.visibility1)),this.obj1):r.keyId2===e&&canSee(r.visibility2,n)?(this.obj2===t.UNDEFINED&&(this.obj2=i._new(r.provider2,r.visibility2)),this.obj2):r.keyId3===e&&canSee(r.visibility3,n)?(this.obj3===t.UNDEFINED&&(this.obj3=i._new(r.provider3,r.visibility3)),this.obj3):r.keyId4===e&&canSee(r.visibility4,n)?(this.obj4===t.UNDEFINED&&(this.obj4=i._new(r.provider4,r.visibility4)),this.obj4):r.keyId5===e&&canSee(r.visibility5,n)?(this.obj5===t.UNDEFINED&&(this.obj5=i._new(r.provider5,r.visibility5)),this.obj5):r.keyId6===e&&canSee(r.visibility6,n)?(this.obj6===t.UNDEFINED&&(this.obj6=i._new(r.provider6,r.visibility6)),this.obj6):r.keyId7===e&&canSee(r.visibility7,n)?(this.obj7===t.UNDEFINED&&(this.obj7=i._new(r.provider7,r.visibility7)),this.obj7):r.keyId8===e&&canSee(r.visibility8,n)?(this.obj8===t.UNDEFINED&&(this.obj8=i._new(r.provider8,r.visibility8)),this.obj8):r.keyId9===e&&canSee(r.visibility9,n)?(this.obj9===t.UNDEFINED&&(this.obj9=i._new(r.provider9,r.visibility9)),this.obj9):t.UNDEFINED},InjectorInlineStrategy.prototype.getObjAtIndex=function(e){if(0==e)return this.obj0;if(1==e)return this.obj1;if(2==e)return this.obj2;if(3==e)return this.obj3;if(4==e)return this.obj4;if(5==e)return this.obj5;if(6==e)return this.obj6;if(7==e)return this.obj7;if(8==e)return this.obj8;if(9==e)return this.obj9;throw new o.OutOfBoundsError(e)},InjectorInlineStrategy.prototype.getMaxNumberOfObjects=function(){return l},InjectorInlineStrategy}();t.InjectorInlineStrategy=g;var y=function(){function InjectorDynamicStrategy(e,n){this.protoStrategy=e,this.injector=n,this.objs=r.ListWrapper.createFixedSize(e.providers.length),r.ListWrapper.fill(this.objs,t.UNDEFINED)}return InjectorDynamicStrategy.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},InjectorDynamicStrategy.prototype.instantiateProvider=function(e,t){return this.injector._new(e,t)},InjectorDynamicStrategy.prototype.getObjByKeyId=function(e,n){for(var r=this.protoStrategy,i=0;i<r.keyIds.length;i++)if(r.keyIds[i]===e&&canSee(r.visibilities[i],n))return this.objs[i]===t.UNDEFINED&&(this.objs[i]=this.injector._new(r.providers[i],r.visibilities[i])),this.objs[i];return t.UNDEFINED},InjectorDynamicStrategy.prototype.getObjAtIndex=function(e){if(0>e||e>=this.objs.length)throw new o.OutOfBoundsError(e);return this.objs[e]},InjectorDynamicStrategy.prototype.getMaxNumberOfObjects=function(){return this.objs.length},InjectorDynamicStrategy}();t.InjectorDynamicStrategy=y;var m=function(){function ProviderWithVisibility(e,t){this.provider=e,this.visibility=t}return ProviderWithVisibility.prototype.getKeyId=function(){return this.provider.key.id},ProviderWithVisibility}();t.ProviderWithVisibility=m;var _=function(){function Injector(e,t,n,r,i){void 0===t&&(t=null),void 0===n&&(n=!1),void 0===r&&(r=null),void 0===i&&(i=null),this._isHostBoundary=n,this._depProvider=r,this._debugContext=i,this._constructionCounter=0,this._proto=e,this._parent=t,this._strategy=e._strategy.createInjectorStrategy(this)}return Injector.resolve=function(e){return i.resolveProviders(e)},Injector.resolveAndCreate=function(e){var t=Injector.resolve(e);return Injector.fromResolvedProviders(t)},Injector.fromResolvedProviders=function(e){return new Injector(d.fromResolvedProviders(e))},Injector.fromResolvedBindings=function(e){return Injector.fromResolvedProviders(e)},Object.defineProperty(Injector.prototype,"hostBoundary",{get:function(){return this._isHostBoundary},enumerable:!0,configurable:!0}),Injector.prototype.debugContext=function(){return this._debugContext()},Injector.prototype.get=function(e){return this._getByKey(c.Key.get(e),null,null,!1,p.PublicAndPrivate)},Injector.prototype.getOptional=function(e){return this._getByKey(c.Key.get(e),null,null,!0,p.PublicAndPrivate)},Injector.prototype.getAt=function(e){return this._strategy.getObjAtIndex(e)},Object.defineProperty(Injector.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(Injector.prototype,"internalStrategy",{get:function(){return this._strategy},enumerable:!0,configurable:!0}),Injector.prototype.resolveAndCreateChild=function(e){var t=Injector.resolve(e);return this.createChildFromResolved(t)},Injector.prototype.createChildFromResolved=function(e){var t=e.map(function(e){return new m(e,p.Public)}),n=new d(t),r=new Injector(n);return r._parent=this,r},Injector.prototype.resolveAndInstantiate=function(e){return this.instantiateResolved(Injector.resolve([e])[0])},Injector.prototype.instantiateResolved=function(e){return this._instantiateProvider(e,p.PublicAndPrivate)},Injector.prototype._new=function(e,t){if(this._constructionCounter++>this._strategy.getMaxNumberOfObjects())throw new o.CyclicDependencyError(this,e.key);return this._instantiateProvider(e,t)},Injector.prototype._instantiateProvider=function(e,t){if(e.multiProvider){for(var n=r.ListWrapper.createFixedSize(e.resolvedFactories.length),i=0;i<e.resolvedFactories.length;++i)n[i]=this._instantiate(e,e.resolvedFactories[i],t);return n}return this._instantiate(e,e.resolvedFactories[0],t)},Injector.prototype._instantiate=function(e,t,n){var r,i,a,c,u,l,p,f,h,d,g,y,m,_,v,b,C,P,R,w,E=t.factory,S=t.dependencies,D=S.length;try{r=D>0?this._getByDependency(e,S[0],n):null,i=D>1?this._getByDependency(e,S[1],n):null,a=D>2?this._getByDependency(e,S[2],n):null,c=D>3?this._getByDependency(e,S[3],n):null,u=D>4?this._getByDependency(e,S[4],n):null,l=D>5?this._getByDependency(e,S[5],n):null,p=D>6?this._getByDependency(e,S[6],n):null,f=D>7?this._getByDependency(e,S[7],n):null,h=D>8?this._getByDependency(e,S[8],n):null,d=D>9?this._getByDependency(e,S[9],n):null,g=D>10?this._getByDependency(e,S[10],n):null,y=D>11?this._getByDependency(e,S[11],n):null,m=D>12?this._getByDependency(e,S[12],n):null,_=D>13?this._getByDependency(e,S[13],n):null,v=D>14?this._getByDependency(e,S[14],n):null,b=D>15?this._getByDependency(e,S[15],n):null,C=D>16?this._getByDependency(e,S[16],n):null,P=D>17?this._getByDependency(e,S[17],n):null,R=D>18?this._getByDependency(e,S[18],n):null,w=D>19?this._getByDependency(e,S[19],n):null}catch(A){throw(A instanceof o.AbstractProviderError||A instanceof o.InstantiationError)&&A.addKey(this,e.key),A}var x;try{switch(D){case 0:x=E();break;case 1:x=E(r);break;case 2:x=E(r,i);break;case 3:x=E(r,i,a);break;case 4:x=E(r,i,a,c);break;case 5:x=E(r,i,a,c,u);break;case 6:x=E(r,i,a,c,u,l);break;case 7:x=E(r,i,a,c,u,l,p);break;case 8:x=E(r,i,a,c,u,l,p,f);break;case 9:x=E(r,i,a,c,u,l,p,f,h);break;case 10:x=E(r,i,a,c,u,l,p,f,h,d);break;case 11:x=E(r,i,a,c,u,l,p,f,h,d,g);break;case 12:x=E(r,i,a,c,u,l,p,f,h,d,g,y);break;case 13:x=E(r,i,a,c,u,l,p,f,h,d,g,y,m);break;case 14:x=E(r,i,a,c,u,l,p,f,h,d,g,y,m,_);break;case 15:x=E(r,i,a,c,u,l,p,f,h,d,g,y,m,_,v);break;case 16:x=E(r,i,a,c,u,l,p,f,h,d,g,y,m,_,v,b);break;case 17:x=E(r,i,a,c,u,l,p,f,h,d,g,y,m,_,v,b,C);break;case 18:x=E(r,i,a,c,u,l,p,f,h,d,g,y,m,_,v,b,C,P);break;case 19:x=E(r,i,a,c,u,l,p,f,h,d,g,y,m,_,v,b,C,P,R);break;case 20:x=E(r,i,a,c,u,l,p,f,h,d,g,y,m,_,v,b,C,P,R,w);break;default:throw new s.BaseException("Cannot instantiate '"+e.key.displayName+"' because it has more than 20 dependencies")}}catch(A){throw new o.InstantiationError(this,A,A.stack,e.key)}return x},Injector.prototype._getByDependency=function(e,n,r){var i=a.isPresent(this._depProvider)?this._depProvider.getDependency(this,e,n):t.UNDEFINED;return i!==t.UNDEFINED?i:this._getByKey(n.key,n.lowerBoundVisibility,n.upperBoundVisibility,n.optional,r)},Injector.prototype._getByKey=function(e,t,n,r,i){return e===v?this:n instanceof u.SelfMetadata?this._getByKeySelf(e,r,i):n instanceof u.HostMetadata?this._getByKeyHost(e,r,i,t):this._getByKeyDefault(e,r,i,t)},Injector.prototype._throwOrNull=function(e,t){if(t)return null;throw new o.NoProviderError(this,e)},Injector.prototype._getByKeySelf=function(e,n,r){var i=this._strategy.getObjByKeyId(e.id,r);return i!==t.UNDEFINED?i:this._throwOrNull(e,n)},Injector.prototype._getByKeyHost=function(e,n,r,i){var o=this;if(i instanceof u.SkipSelfMetadata){if(o._isHostBoundary)return this._getPrivateDependency(e,n,o);o=o._parent}for(;null!=o;){var s=o._strategy.getObjByKeyId(e.id,r);if(s!==t.UNDEFINED)return s;if(a.isPresent(o._parent)&&o._isHostBoundary)return this._getPrivateDependency(e,n,o);o=o._parent}return this._throwOrNull(e,n)},Injector.prototype._getPrivateDependency=function(e,n,r){var i=r._parent._strategy.getObjByKeyId(e.id,p.Private);return i!==t.UNDEFINED?i:this._throwOrNull(e,n)},Injector.prototype._getByKeyDefault=function(e,n,r,i){var o=this;for(i instanceof u.SkipSelfMetadata&&(r=o._isHostBoundary?p.PublicAndPrivate:p.Public,o=o._parent);null!=o;){var a=o._strategy.getObjByKeyId(e.id,r);if(a!==t.UNDEFINED)return a;r=o._isHostBoundary?p.PublicAndPrivate:p.Public,o=o._parent}return this._throwOrNull(e,n)},Object.defineProperty(Injector.prototype,"displayName",{get:function(){return"Injector(providers: ["+_mapProviders(this,function(e){return' "'+e.key.displayName+'" '}).join(", ")+"])"},enumerable:!0,configurable:!0}),Injector.prototype.toString=function(){return this.displayName},Injector}();t.Injector=_;var v=c.Key.get(_)},function(e,t,n){"use strict";var r=n(3),i=n(1),o=n(9),a=function(){function QueryList(){this._results=[],this._emitter=new o.EventEmitter}return Object.defineProperty(QueryList.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"first",{get:function(){return r.ListWrapper.first(this._results)},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"last",{get:function(){return r.ListWrapper.last(this._results)},enumerable:!0,configurable:!0}),QueryList.prototype.map=function(e){return this._results.map(e)},QueryList.prototype.filter=function(e){return this._results.filter(e)},QueryList.prototype.reduce=function(e,t){return this._results.reduce(e,t)},QueryList.prototype.forEach=function(e){this._results.forEach(e)},QueryList.prototype.toArray=function(){return r.ListWrapper.clone(this._results)},QueryList.prototype[i.getSymbolIterator()]=function(){return this._results[i.getSymbolIterator()]()},QueryList.prototype.toString=function(){return this._results.toString()},QueryList.prototype.reset=function(e){this._results=e},QueryList.prototype.notifyOnChanges=function(){this._emitter.emit(this)},QueryList}();t.QueryList=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(6),a=n(1),s=n(108),c=n(107),u=n(262),l=n(164),p=function(){function ResolvedMetadataCache(e,t){this._directiveResolver=e,this._pipeResolver=t,this._directiveCache=new Map,this._pipeCache=new Map}return ResolvedMetadataCache.prototype.getResolvedDirectiveMetadata=function(e){var t=this._directiveCache.get(e);return a.isBlank(t)&&(t=s.DirectiveProvider.createFromType(e,this._directiveResolver.resolve(e)),this._directiveCache.set(e,t)),t},ResolvedMetadataCache.prototype.getResolvedPipeMetadata=function(e){var t=this._pipeCache.get(e);return a.isBlank(t)&&(t=u.PipeProvider.createFromType(e,this._pipeResolver.resolve(e)),this._pipeCache.set(e,t)),t},ResolvedMetadataCache=r([o.Injectable(),i("design:paramtypes",[c.DirectiveResolver,l.PipeResolver])],ResolvedMetadataCache)}();t.ResolvedMetadataCache=p,t.CODEGEN_RESOLVED_METADATA_CACHE=new p(c.CODEGEN_DIRECTIVE_RESOLVER,l.CODEGEN_PIPE_RESOLVER)},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},r=function(){function TemplateRef(){}return Object.defineProperty(TemplateRef.prototype,"elementRef",{get:function(){return null},enumerable:!0,configurable:!0}),TemplateRef}();t.TemplateRef=r;var i=function(e){function TemplateRef_(t){e.call(this),this._elementRef=t}return n(TemplateRef_,e),Object.defineProperty(TemplateRef_.prototype,"elementRef",{get:function(){return this._elementRef},enumerable:!0,configurable:!0}),TemplateRef_}(r);t.TemplateRef_=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(82),o=n(6),a=function(e){function PipeProvider(t,n,r,i,o){e.call(this,r,i,o),this.name=t,this.pure=n}return r(PipeProvider,e),PipeProvider.createFromType=function(e,t){var n=new o.Provider(e,{useClass:e}),r=i.resolveProvider(n);return new PipeProvider(t.name,t.pure,r.key,r.resolvedFactories,r.multiProvider)},PipeProvider}(i.ResolvedProvider_);t.PipeProvider=a},function(e,t,n){"use strict";var r=n(1),i=n(5),o=n(3),a=n(414),s=function(){function ProtoPipes(e){this.config=e,this.config=e}return ProtoPipes.fromProviders=function(e){var t={};return e.forEach(function(e){return t[e.name]=e}),new ProtoPipes(t)},ProtoPipes.prototype.get=function(e){var t=this.config[e];if(r.isBlank(t))throw new i.BaseException("Cannot find pipe '"+e+"'.");return t},ProtoPipes}();t.ProtoPipes=s;var c=function(){function Pipes(e,t){this.proto=e,this.injector=t,this._config={}}return Pipes.prototype.get=function(e){var t=o.StringMapWrapper.get(this._config,e);if(r.isPresent(t))return t;var n=this.proto.get(e),i=this.injector.instantiateResolved(n),s=new a.SelectedPipe(i,n.pure);return n.pure&&o.StringMapWrapper.set(this._config,e,s),s},Pipes}();t.Pipes=c},function(e,t,n){"use strict";var r=n(1),i=n(5),o=function(){function ReflectionCapabilities(e){this._reflect=r.isPresent(e)?e:r.global.Reflect}return ReflectionCapabilities.prototype.isReflectionEnabled=function(){return!0},ReflectionCapabilities.prototype.factory=function(e){switch(e.length){case 0:return function(){return new e};case 1:return function(t){return new e(t)};case 2:return function(t,n){return new e(t,n)};case 3:return function(t,n,r){return new e(t,n,r)};case 4:return function(t,n,r,i){return new e(t,n,r,i)};case 5:return function(t,n,r,i,o){return new e(t,n,r,i,o)};case 6:return function(t,n,r,i,o,a){return new e(t,n,r,i,o,a)};case 7:return function(t,n,r,i,o,a,s){return new e(t,n,r,i,o,a,s)};case 8:return function(t,n,r,i,o,a,s,c){return new e(t,n,r,i,o,a,s,c)};case 9:return function(t,n,r,i,o,a,s,c,u){return new e(t,n,r,i,o,a,s,c,u)};case 10:return function(t,n,r,i,o,a,s,c,u,l){return new e(t,n,r,i,o,a,s,c,u,l)};case 11:return function(t,n,r,i,o,a,s,c,u,l,p){return new e(t,n,r,i,o,a,s,c,u,l,p)};case 12:return function(t,n,r,i,o,a,s,c,u,l,p,f){return new e(t,n,r,i,o,a,s,c,u,l,p,f)};case 13:return function(t,n,r,i,o,a,s,c,u,l,p,f,h){return new e(t,n,r,i,o,a,s,c,u,l,p,f,h)};case 14:return function(t,n,r,i,o,a,s,c,u,l,p,f,h,d){return new e(t,n,r,i,o,a,s,c,u,l,p,f,h,d)};case 15:return function(t,n,r,i,o,a,s,c,u,l,p,f,h,d,g){return new e(t,n,r,i,o,a,s,c,u,l,p,f,h,d,g)};case 16:return function(t,n,r,i,o,a,s,c,u,l,p,f,h,d,g,y){return new e(t,n,r,i,o,a,s,c,u,l,p,f,h,d,g,y)};case 17:return function(t,n,r,i,o,a,s,c,u,l,p,f,h,d,g,y,m){return new e(t,n,r,i,o,a,s,c,u,l,p,f,h,d,g,y,m)};case 18:return function(t,n,r,i,o,a,s,c,u,l,p,f,h,d,g,y,m,_){return new e(t,n,r,i,o,a,s,c,u,l,p,f,h,d,g,y,m,_)};case 19:return function(t,n,r,i,o,a,s,c,u,l,p,f,h,d,g,y,m,_,v){return new e(t,n,r,i,o,a,s,c,u,l,p,f,h,d,g,y,m,_,v)};case 20:return function(t,n,r,i,o,a,s,c,u,l,p,f,h,d,g,y,m,_,v,b){return new e(t,n,r,i,o,a,s,c,u,l,p,f,h,d,g,y,m,_,v,b)}}throw new Error("Cannot create a factory for '"+r.stringify(e)+"' because its constructor has more than 20 arguments")},ReflectionCapabilities.prototype._zipTypesAndAnnotations=function(e,t){var n;n="undefined"==typeof e?new Array(t.length):new Array(e.length);for(var i=0;i<n.length;i++)"undefined"==typeof e?n[i]=[]:e[i]!=Object?n[i]=[e[i]]:n[i]=[],r.isPresent(t)&&r.isPresent(t[i])&&(n[i]=n[i].concat(t[i]));return n},ReflectionCapabilities.prototype.parameters=function(e){if(r.isPresent(e.parameters))return e.parameters;if(r.isPresent(this._reflect)&&r.isPresent(this._reflect.getMetadata)){var t=this._reflect.getMetadata("parameters",e),n=this._reflect.getMetadata("design:paramtypes",e);if(r.isPresent(n)||r.isPresent(t))return this._zipTypesAndAnnotations(n,t)}var i=new Array(e.length);return i.fill(void 0),i},ReflectionCapabilities.prototype.annotations=function(e){if(r.isPresent(e.annotations)){var t=e.annotations;return r.isFunction(t)&&t.annotations&&(t=t.annotations),t}if(r.isPresent(this._reflect)&&r.isPresent(this._reflect.getMetadata)){var t=this._reflect.getMetadata("annotations",e);if(r.isPresent(t))return t}return[]},ReflectionCapabilities.prototype.propMetadata=function(e){if(r.isPresent(e.propMetadata)){var t=e.propMetadata;return r.isFunction(t)&&t.propMetadata&&(t=t.propMetadata),t}if(r.isPresent(this._reflect)&&r.isPresent(this._reflect.getMetadata)){var t=this._reflect.getMetadata("propMetadata",e);if(r.isPresent(t))return t}return{}},ReflectionCapabilities.prototype.interfaces=function(e){throw new i.BaseException("JavaScript does not support interfaces")},ReflectionCapabilities.prototype.getter=function(e){return new Function("o","return o."+e+";")},ReflectionCapabilities.prototype.setter=function(e){return new Function("o","v","return o."+e+" = v;")},ReflectionCapabilities.prototype.method=function(e){var t="if (!o."+e+") throw new Error('\""+e+"\" is undefined');\n        return o."+e+".apply(o, args);";return new Function("o","args",t)},ReflectionCapabilities.prototype.importUri=function(e){return"./"},ReflectionCapabilities}();t.ReflectionCapabilities=o},function(e,t,n){"use strict";function _mergeMaps(e,t){a.StringMapWrapper.forEach(t,function(t,n){return e.set(n,t)})}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(1),o=n(5),a=n(3),s=n(87),c=function(){function ReflectionInfo(e,t,n,r,i){this.annotations=e,this.parameters=t,this.factory=n,this.interfaces=r,this.propMetadata=i}return ReflectionInfo}();t.ReflectionInfo=c;var u=function(e){function Reflector(t){e.call(this),this._injectableInfo=new a.Map,this._getters=new a.Map,this._setters=new a.Map,this._methods=new a.Map,this._usedKeys=null,this.reflectionCapabilities=t}return r(Reflector,e),Reflector.prototype.isReflectionEnabled=function(){return this.reflectionCapabilities.isReflectionEnabled()},Reflector.prototype.trackUsage=function(){this._usedKeys=new a.Set},Reflector.prototype.listUnusedKeys=function(){var e=this;if(null==this._usedKeys)throw new o.BaseException("Usage tracking is disabled");var t=a.MapWrapper.keys(this._injectableInfo);return t.filter(function(t){return!a.SetWrapper.has(e._usedKeys,t)})},Reflector.prototype.registerFunction=function(e,t){this._injectableInfo.set(e,t)},Reflector.prototype.registerType=function(e,t){this._injectableInfo.set(e,t)},Reflector.prototype.registerGetters=function(e){_mergeMaps(this._getters,e)},Reflector.prototype.registerSetters=function(e){_mergeMaps(this._setters,e)},Reflector.prototype.registerMethods=function(e){_mergeMaps(this._methods,e)},Reflector.prototype.factory=function(e){if(this._containsReflectionInfo(e)){var t=this._getReflectionInfo(e).factory;return i.isPresent(t)?t:null}return this.reflectionCapabilities.factory(e)},Reflector.prototype.parameters=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).parameters;return i.isPresent(t)?t:[]}return this.reflectionCapabilities.parameters(e)},Reflector.prototype.annotations=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).annotations;return i.isPresent(t)?t:[]}return this.reflectionCapabilities.annotations(e)},Reflector.prototype.propMetadata=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).propMetadata;return i.isPresent(t)?t:{}}return this.reflectionCapabilities.propMetadata(e)},Reflector.prototype.interfaces=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).interfaces;return i.isPresent(t)?t:[]}return this.reflectionCapabilities.interfaces(e)},Reflector.prototype.getter=function(e){return this._getters.has(e)?this._getters.get(e):this.reflectionCapabilities.getter(e)},Reflector.prototype.setter=function(e){return this._setters.has(e)?this._setters.get(e):this.reflectionCapabilities.setter(e)},Reflector.prototype.method=function(e){return this._methods.has(e)?this._methods.get(e):this.reflectionCapabilities.method(e)},Reflector.prototype._getReflectionInfo=function(e){return i.isPresent(this._usedKeys)&&this._usedKeys.add(e),this._injectableInfo.get(e)},Reflector.prototype._containsReflectionInfo=function(e){return this._injectableInfo.has(e)},Reflector.prototype.importUri=function(e){return this.reflectionCapabilities.importUri(e)},Reflector}(s.ReflectorReader);t.Reflector=u},function(e,t){"use strict";var n=function(){function NgZoneError(e,t){this.error=e,this.stackTrace=t}return NgZoneError}();t.NgZoneError=n;var r=function(){function NgZoneImpl(e){var t=this,r=e.trace,i=e.onEnter,o=e.onLeave,a=e.setMicrotask,s=e.setMacrotask,c=e.onError;if(this.onEnter=i,this.onLeave=o,this.setMicrotask=a,this.setMacrotask=s,this.onError=c,!Zone)throw new Error("Angular2 needs to be run with Zone.js polyfill.");this.outer=this.inner=Zone.current,Zone.wtfZoneSpec&&(this.inner=this.inner.fork(Zone.wtfZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this.inner=this.inner.fork(Zone.longStackTraceZoneSpec)),this.inner=this.inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,r,i,o,a){try{return t.onEnter(),e.invokeTask(r,i,o,a)}finally{t.onLeave()}},onInvoke:function(e,n,r,i,o,a,s){try{return t.onEnter(),e.invoke(r,i,o,a,s)}finally{t.onLeave()}},onHasTask:function(e,n,r,i){e.hasTask(r,i),n==r&&("microTask"==i.change?t.setMicrotask(i.microTask):"macroTask"==i.change&&t.setMacrotask(i.macroTask))},onHandleError:function(e,r,i,o){return e.handleError(i,o),t.onError(new n(o,o.stack)),!1}})}return NgZoneImpl.isInAngularZone=function(){return Zone.current.get("isAngularZone")===!0},NgZoneImpl.prototype.runInner=function(e){return this.inner.runGuarded(e)},NgZoneImpl.prototype.runOuter=function(e){return this.outer.run(e)},NgZoneImpl}();t.NgZoneImpl=r},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},r=function(e){function BaseWrappedException(t){e.call(this,t)}return n(BaseWrappedException,e),Object.defineProperty(BaseWrappedException.prototype,"wrapperMessage",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"wrapperStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"originalException",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"originalStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"message",{get:function(){return""},enumerable:!0,configurable:!0}),BaseWrappedException}(Error);t.BaseWrappedException=r},function(e,t){"use strict";function digitCondition(e){return 2==e?"2-digit":"numeric"}function nameCondition(e){return 4>e?"short":"long"}function extractComponents(e){for(var t,n={},r=0;r<e.length;){for(t=r;t<e.length&&e[t]==e[r];)t++;var i=t-r;switch(e[r]){case"G":n.era=nameCondition(i);break;case"y":n.year=digitCondition(i);break;case"M":i>=3?n.month=nameCondition(i):n.month=digitCondition(i);break;case"d":n.day=digitCondition(i);break;case"E":n.weekday=nameCondition(i);break;case"j":n.hour=digitCondition(i);break;case"h":n.hour=digitCondition(i),n.hour12=!0;break;case"H":n.hour=digitCondition(i),n.hour12=!1;break;case"m":n.minute=digitCondition(i);break;case"s":n.second=digitCondition(i);break;case"z":n.timeZoneName="long";break;case"Z":n.timeZoneName="short"}r=t}return n}!function(e){e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency"}(t.NumberFormatStyle||(t.NumberFormatStyle={}));var n=t.NumberFormatStyle,r=function(){function NumberFormatter(){}return NumberFormatter.format=function(e,t,r,i){var o=void 0===i?{}:i,a=o.minimumIntegerDigits,s=void 0===a?1:a,c=o.minimumFractionDigits,u=void 0===c?0:c,l=o.maximumFractionDigits,p=void 0===l?3:l,f=o.currency,h=o.currencyAsSymbol,d=void 0===h?!1:h,g={minimumIntegerDigits:s,minimumFractionDigits:u,maximumFractionDigits:p};return g.style=n[r].toLowerCase(),r==n.Currency&&(g.currency=f,g.currencyDisplay=d?"symbol":"code"),new Intl.NumberFormat(t,g).format(e)},NumberFormatter}();t.NumberFormatter=r;var i=new Map,o=function(){function DateFormatter(){}return DateFormatter.format=function(e,t,n){var r=t+n;if(i.has(r))return i.get(r).format(e);var o=new Intl.DateTimeFormat(t,extractComponents(n));return i.set(r,o),o.format(e)},DateFormatter}();t.DateFormatter=o},function(e,t,n){"use strict";var r=n(1);t.Math=r.global.Math,t.NaN=typeof t.NaN},function(e,t,n){"use strict";function _getJsonpConnections(){return null===c&&(c=a.global[t.JSONP_HOME]={}),c}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(4),a=n(1),s=0;t.JSONP_HOME="__ng_jsonp__";var c=null,u=function(){function BrowserJsonp(){}return BrowserJsonp.prototype.build=function(e){var t=document.createElement("script");return t.src=e,t},BrowserJsonp.prototype.nextRequestID=function(){return"__req"+s++},BrowserJsonp.prototype.requestCallback=function(e){return t.JSONP_HOME+"."+e+".finished"},BrowserJsonp.prototype.exposeConnection=function(e,t){var n=_getJsonpConnections();n[e]=t},BrowserJsonp.prototype.removeConnection=function(e){var t=_getJsonpConnections();t[e]=null},BrowserJsonp.prototype.send=function(e){document.body.appendChild(e)},BrowserJsonp.prototype.cleanup=function(e){e.parentNode&&e.parentNode.removeChild(e)},BrowserJsonp=r([o.Injectable(),i("design:paramtypes",[])],BrowserJsonp)}();t.BrowserJsonp=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(173),s=n(53),c=n(174),u=n(116),l=n(4),p=n(270),f=n(5),h=n(1),d=n(40),g="JSONP injected script did not invoke callback.",y="JSONP requests must use GET request method.",m=function(){function JSONPConnection(){}return JSONPConnection}();t.JSONPConnection=m;var _=function(e){function JSONPConnection_(t,n,r){
var i=this;if(e.call(this),this._dom=n,this.baseResponseOptions=r,this._finished=!1,t.method!==s.RequestMethod.Get)throw f.makeTypeError(y);this.request=t,this.response=new d.Observable(function(e){i.readyState=s.ReadyState.Loading;var o=i._id=n.nextRequestID();n.exposeConnection(o,i);var a=n.requestCallback(i._id),l=t.url;l.indexOf("=JSONP_CALLBACK&")>-1?l=h.StringWrapper.replace(l,"=JSONP_CALLBACK&","="+a+"&"):l.lastIndexOf("=JSONP_CALLBACK")===l.length-"=JSONP_CALLBACK".length&&(l=l.substring(0,l.length-"=JSONP_CALLBACK".length)+("="+a));var p=i._script=n.build(l),f=function(t){if(i.readyState!==s.ReadyState.Cancelled){if(i.readyState=s.ReadyState.Done,n.cleanup(p),!i._finished){var o=new u.ResponseOptions({body:g,type:s.ResponseType.Error,url:l});return h.isPresent(r)&&(o=r.merge(o)),void e.error(new c.Response(o))}var a=new u.ResponseOptions({body:i._responseData,url:l});h.isPresent(i.baseResponseOptions)&&(a=i.baseResponseOptions.merge(a)),e.next(new c.Response(a)),e.complete()}},d=function(t){if(i.readyState!==s.ReadyState.Cancelled){i.readyState=s.ReadyState.Done,n.cleanup(p);var o=new u.ResponseOptions({body:t.message,type:s.ResponseType.Error});h.isPresent(r)&&(o=r.merge(o)),e.error(new c.Response(o))}};return p.addEventListener("load",f),p.addEventListener("error",d),n.send(p),function(){i.readyState=s.ReadyState.Cancelled,p.removeEventListener("load",f),p.removeEventListener("error",d),h.isPresent(p)&&i._dom.cleanup(p)}})}return r(JSONPConnection_,e),JSONPConnection_.prototype.finished=function(e){this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==s.ReadyState.Cancelled&&(this._responseData=e)},JSONPConnection_}(m);t.JSONPConnection_=_;var v=function(e){function JSONPBackend(){e.apply(this,arguments)}return r(JSONPBackend,e),JSONPBackend}(a.ConnectionBackend);t.JSONPBackend=v;var b=function(e){function JSONPBackend_(t,n){e.call(this),this._browserJSONP=t,this._baseResponseOptions=n}return r(JSONPBackend_,e),JSONPBackend_.prototype.createConnection=function(e){return new _(e,this._browserJSONP,this._baseResponseOptions)},JSONPBackend_=i([l.Injectable(),o("design:paramtypes",[p.BrowserJsonp,u.ResponseOptions])],JSONPBackend_)}(v);t.JSONPBackend_=b},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(53),a=n(174),s=n(89),c=n(116),u=n(4),l=n(171),p=n(1),f=n(40),h=n(117),d=function(){function XHRConnection(e,t,n){var r=this;this.request=e,this.response=new f.Observable(function(i){var u=t.build();u.open(o.RequestMethod[e.method].toUpperCase(),e.url);var l=function(){var e=p.isPresent(u.response)?u.response:u.responseText,t=s.Headers.fromResponseHeaderString(u.getAllResponseHeaders()),r=h.getResponseURL(u),o=1223===u.status?204:u.status;0===o&&(o=e?200:0);var l=new c.ResponseOptions({body:e,status:o,headers:t,url:r});p.isPresent(n)&&(l=n.merge(l));var f=new a.Response(l);return h.isSuccess(o)?(i.next(f),void i.complete()):void i.error(f)},f=function(e){var t=new c.ResponseOptions({body:e,type:o.ResponseType.Error});p.isPresent(n)&&(t=n.merge(t)),i.error(new a.Response(t))};return p.isPresent(e.headers)&&e.headers.forEach(function(e,t){return u.setRequestHeader(t,e.join(","))}),u.addEventListener("load",l),u.addEventListener("error",f),u.send(r.request.text()),function(){u.removeEventListener("load",l),u.removeEventListener("error",f),u.abort()}})}return XHRConnection}();t.XHRConnection=d;var g=function(){function XHRBackend(e,t){this._browserXHR=e,this._baseResponseOptions=t}return XHRBackend.prototype.createConnection=function(e){return new d(e,this._browserXHR,this._baseResponseOptions)},XHRBackend=r([u.Injectable(),i("design:paramtypes",[l.BrowserXhr,c.ResponseOptions])],XHRBackend)}();t.XHRBackend=g},function(e,t,n){"use strict";function httpRequest(e,t){return e.createConnection(t).response}function mergeOptions(e,t,n,r){var i=e;return a.isPresent(t)?i.merge(new p.RequestOptions({method:t.method||n,url:t.url||r,search:t.search,headers:t.headers,body:t.body})):a.isPresent(n)?i.merge(new p.RequestOptions({method:n,url:r})):i.merge(new p.RequestOptions({url:r}))}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(1),s=n(5),c=n(4),u=n(173),l=n(274),p=n(172),f=n(53),h=function(){function Http(e,t){this._backend=e,this._defaultOptions=t}return Http.prototype.request=function(e,t){var n;if(a.isString(e))n=httpRequest(this._backend,new l.Request(mergeOptions(this._defaultOptions,t,f.RequestMethod.Get,e)));else{if(!(e instanceof l.Request))throw s.makeTypeError("First argument must be a url string or Request instance.");n=httpRequest(this._backend,e)}return n},Http.prototype.get=function(e,t){return httpRequest(this._backend,new l.Request(mergeOptions(this._defaultOptions,t,f.RequestMethod.Get,e)))},Http.prototype.post=function(e,t,n){return httpRequest(this._backend,new l.Request(mergeOptions(this._defaultOptions.merge(new p.RequestOptions({body:t})),n,f.RequestMethod.Post,e)))},Http.prototype.put=function(e,t,n){return httpRequest(this._backend,new l.Request(mergeOptions(this._defaultOptions.merge(new p.RequestOptions({body:t})),n,f.RequestMethod.Put,e)))},Http.prototype.delete=function(e,t){return httpRequest(this._backend,new l.Request(mergeOptions(this._defaultOptions,t,f.RequestMethod.Delete,e)))},Http.prototype.patch=function(e,t,n){return httpRequest(this._backend,new l.Request(mergeOptions(this._defaultOptions.merge(new p.RequestOptions({body:t})),n,f.RequestMethod.Patch,e)))},Http.prototype.head=function(e,t){return httpRequest(this._backend,new l.Request(mergeOptions(this._defaultOptions,t,f.RequestMethod.Head,e)))},Http=i([c.Injectable(),o("design:paramtypes",[u.ConnectionBackend,p.RequestOptions])],Http)}();t.Http=h;var d=function(e){function Jsonp(t,n){e.call(this,t,n)}return r(Jsonp,e),Jsonp.prototype.request=function(e,t){var n;if(a.isString(e)&&(e=new l.Request(mergeOptions(this._defaultOptions,t,f.RequestMethod.Get,e))),!(e instanceof l.Request))throw s.makeTypeError("First argument must be a url string or Request instance.");return e.method!==f.RequestMethod.Get&&s.makeTypeError("JSONP requests must use GET request method."),n=httpRequest(this._backend,e)},Jsonp=i([c.Injectable(),o("design:paramtypes",[u.ConnectionBackend,p.RequestOptions])],Jsonp)}(h);t.Jsonp=d},function(e,t,n){"use strict";var r=n(89),i=n(117),o=n(1),a=function(){function Request(e){var t=e.url;if(this.url=e.url,o.isPresent(e.search)){var n=e.search.toString();if(n.length>0){var a="?";o.StringWrapper.contains(this.url,"?")&&(a="&"==this.url[this.url.length-1]?"":"&"),this.url=t+a+n}}this._body=e.body,this.method=i.normalizeMethodName(e.method),this.headers=new r.Headers(e.headers)}return Request.prototype.text=function(){return o.isPresent(this._body)?this._body.toString():""},Request}();t.Request=a},function(e,t,n){"use strict";function paramParser(e){void 0===e&&(e="");var t=new i.Map;if(e.length>0){var n=e.split("&");n.forEach(function(e){var n=e.split("="),i=n[0],o=n[1],a=r.isPresent(t.get(i))?t.get(i):[];a.push(o),t.set(i,a)})}return t}var r=n(1),i=n(3),o=function(){function URLSearchParams(e){void 0===e&&(e=""),this.rawParams=e,this.paramsMap=paramParser(e)}return URLSearchParams.prototype.clone=function(){var e=new URLSearchParams;return e.appendAll(this),e},URLSearchParams.prototype.has=function(e){return this.paramsMap.has(e)},URLSearchParams.prototype.get=function(e){var t=this.paramsMap.get(e);return i.isListLikeIterable(t)?i.ListWrapper.first(t):null},URLSearchParams.prototype.getAll=function(e){var t=this.paramsMap.get(e);return r.isPresent(t)?t:[]},URLSearchParams.prototype.set=function(e,t){var n=this.paramsMap.get(e),o=r.isPresent(n)?n:[];i.ListWrapper.clear(o),o.push(t),this.paramsMap.set(e,o)},URLSearchParams.prototype.setAll=function(e){var t=this;e.paramsMap.forEach(function(e,n){var o=t.paramsMap.get(n),a=r.isPresent(o)?o:[];i.ListWrapper.clear(a),a.push(e[0]),t.paramsMap.set(n,a)})},URLSearchParams.prototype.append=function(e,t){var n=this.paramsMap.get(e),i=r.isPresent(n)?n:[];i.push(t),this.paramsMap.set(e,i)},URLSearchParams.prototype.appendAll=function(e){var t=this;e.paramsMap.forEach(function(e,n){for(var i=t.paramsMap.get(n),o=r.isPresent(i)?i:[],a=0;a<e.length;++a)o.push(e[a]);t.paramsMap.set(n,o)})},URLSearchParams.prototype.replaceAll=function(e){var t=this;e.paramsMap.forEach(function(e,n){var o=t.paramsMap.get(n),a=r.isPresent(o)?o:[];i.ListWrapper.clear(a);for(var s=0;s<e.length;++s)a.push(e[s]);t.paramsMap.set(n,a)})},URLSearchParams.prototype.toString=function(){var e=[];return this.paramsMap.forEach(function(t,n){t.forEach(function(t){return e.push(n+"="+t)})}),e.join("&")},URLSearchParams.prototype.delete=function(e){this.paramsMap.delete(e)},URLSearchParams}();t.URLSearchParams=o},function(e,t,n){"use strict";function getBaseElementHref(){return o.isBlank(h)&&(h=document.querySelector("base"),o.isBlank(h))?null:h.getAttribute("href")}function relativePath(e){return o.isBlank(d)&&(d=document.createElement("a")),d.setAttribute("href",e),"/"===d.pathname.charAt(0)?d.pathname:"/"+d.pathname}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(3),o=n(1),a=n(14),s=n(429),c={"class":"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},u=3,l={"\b":"Backspace","	":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},p={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},f=function(e){function BrowserDomAdapter(){e.apply(this,arguments)}return r(BrowserDomAdapter,e),BrowserDomAdapter.prototype.parse=function(e){throw new Error("parse not implemented")},BrowserDomAdapter.makeCurrent=function(){a.setRootDomAdapter(new BrowserDomAdapter)},BrowserDomAdapter.prototype.hasProperty=function(e,t){return t in e},BrowserDomAdapter.prototype.setProperty=function(e,t,n){e[t]=n},BrowserDomAdapter.prototype.getProperty=function(e,t){return e[t]},BrowserDomAdapter.prototype.invoke=function(e,t,n){e[t].apply(e,n)},BrowserDomAdapter.prototype.logError=function(e){window.console.error?window.console.error(e):window.console.log(e)},BrowserDomAdapter.prototype.log=function(e){window.console.log(e)},BrowserDomAdapter.prototype.logGroup=function(e){window.console.group?(window.console.group(e),this.logError(e)):window.console.log(e)},BrowserDomAdapter.prototype.logGroupEnd=function(){window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(BrowserDomAdapter.prototype,"attrToPropMap",{get:function(){return c},enumerable:!0,configurable:!0}),BrowserDomAdapter.prototype.query=function(e){return document.querySelector(e)},BrowserDomAdapter.prototype.querySelector=function(e,t){return e.querySelector(t)},BrowserDomAdapter.prototype.querySelectorAll=function(e,t){return e.querySelectorAll(t)},BrowserDomAdapter.prototype.on=function(e,t,n){e.addEventListener(t,n,!1)},BrowserDomAdapter.prototype.onAndCancel=function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}},BrowserDomAdapter.prototype.dispatchEvent=function(e,t){e.dispatchEvent(t)},BrowserDomAdapter.prototype.createMouseEvent=function(e){var t=document.createEvent("MouseEvent");return t.initEvent(e,!0,!0),t},BrowserDomAdapter.prototype.createEvent=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t},BrowserDomAdapter.prototype.preventDefault=function(e){e.preventDefault(),e.returnValue=!1},BrowserDomAdapter.prototype.isPrevented=function(e){return e.defaultPrevented||o.isPresent(e.returnValue)&&!e.returnValue},BrowserDomAdapter.prototype.getInnerHTML=function(e){return e.innerHTML},BrowserDomAdapter.prototype.getOuterHTML=function(e){return e.outerHTML},BrowserDomAdapter.prototype.nodeName=function(e){return e.nodeName},BrowserDomAdapter.prototype.nodeValue=function(e){return e.nodeValue},BrowserDomAdapter.prototype.type=function(e){return e.type},BrowserDomAdapter.prototype.content=function(e){return this.hasProperty(e,"content")?e.content:e},BrowserDomAdapter.prototype.firstChild=function(e){return e.firstChild},BrowserDomAdapter.prototype.nextSibling=function(e){return e.nextSibling},BrowserDomAdapter.prototype.parentElement=function(e){return e.parentNode},BrowserDomAdapter.prototype.childNodes=function(e){return e.childNodes},BrowserDomAdapter.prototype.childNodesAsList=function(e){for(var t=e.childNodes,n=i.ListWrapper.createFixedSize(t.length),r=0;r<t.length;r++)n[r]=t[r];return n},BrowserDomAdapter.prototype.clearNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},BrowserDomAdapter.prototype.appendChild=function(e,t){e.appendChild(t)},BrowserDomAdapter.prototype.removeChild=function(e,t){e.removeChild(t)},BrowserDomAdapter.prototype.replaceChild=function(e,t,n){e.replaceChild(t,n)},BrowserDomAdapter.prototype.remove=function(e){return e.parentNode&&e.parentNode.removeChild(e),e},BrowserDomAdapter.prototype.insertBefore=function(e,t){e.parentNode.insertBefore(t,e)},BrowserDomAdapter.prototype.insertAllBefore=function(e,t){t.forEach(function(t){return e.parentNode.insertBefore(t,e)})},BrowserDomAdapter.prototype.insertAfter=function(e,t){e.parentNode.insertBefore(t,e.nextSibling)},BrowserDomAdapter.prototype.setInnerHTML=function(e,t){e.innerHTML=t},BrowserDomAdapter.prototype.getText=function(e){return e.textContent},BrowserDomAdapter.prototype.setText=function(e,t){e.textContent=t},BrowserDomAdapter.prototype.getValue=function(e){return e.value},BrowserDomAdapter.prototype.setValue=function(e,t){e.value=t},BrowserDomAdapter.prototype.getChecked=function(e){return e.checked},BrowserDomAdapter.prototype.setChecked=function(e,t){e.checked=t},BrowserDomAdapter.prototype.createComment=function(e){return document.createComment(e)},BrowserDomAdapter.prototype.createTemplate=function(e){var t=document.createElement("template");return t.innerHTML=e,t},BrowserDomAdapter.prototype.createElement=function(e,t){return void 0===t&&(t=document),t.createElement(e)},BrowserDomAdapter.prototype.createElementNS=function(e,t,n){return void 0===n&&(n=document),n.createElementNS(e,t)},BrowserDomAdapter.prototype.createTextNode=function(e,t){return void 0===t&&(t=document),t.createTextNode(e)},BrowserDomAdapter.prototype.createScriptTag=function(e,t,n){void 0===n&&(n=document);var r=n.createElement("SCRIPT");return r.setAttribute(e,t),r},BrowserDomAdapter.prototype.createStyleElement=function(e,t){void 0===t&&(t=document);var n=t.createElement("style");return this.appendChild(n,this.createTextNode(e)),n},BrowserDomAdapter.prototype.createShadowRoot=function(e){return e.createShadowRoot()},BrowserDomAdapter.prototype.getShadowRoot=function(e){return e.shadowRoot},BrowserDomAdapter.prototype.getHost=function(e){return e.host},BrowserDomAdapter.prototype.clone=function(e){return e.cloneNode(!0)},BrowserDomAdapter.prototype.getElementsByClassName=function(e,t){return e.getElementsByClassName(t)},BrowserDomAdapter.prototype.getElementsByTagName=function(e,t){return e.getElementsByTagName(t)},BrowserDomAdapter.prototype.classList=function(e){return Array.prototype.slice.call(e.classList,0)},BrowserDomAdapter.prototype.addClass=function(e,t){e.classList.add(t)},BrowserDomAdapter.prototype.removeClass=function(e,t){e.classList.remove(t)},BrowserDomAdapter.prototype.hasClass=function(e,t){return e.classList.contains(t)},BrowserDomAdapter.prototype.setStyle=function(e,t,n){e.style[t]=n},BrowserDomAdapter.prototype.removeStyle=function(e,t){e.style[t]=null},BrowserDomAdapter.prototype.getStyle=function(e,t){return e.style[t]},BrowserDomAdapter.prototype.hasStyle=function(e,t,n){void 0===n&&(n=null);var r=this.getStyle(e,t)||"";return n?r==n:r.length>0},BrowserDomAdapter.prototype.tagName=function(e){return e.tagName},BrowserDomAdapter.prototype.attributeMap=function(e){for(var t=new Map,n=e.attributes,r=0;r<n.length;r++){var i=n[r];t.set(i.name,i.value)}return t},BrowserDomAdapter.prototype.hasAttribute=function(e,t){return e.hasAttribute(t)},BrowserDomAdapter.prototype.hasAttributeNS=function(e,t,n){return e.hasAttributeNS(t,n)},BrowserDomAdapter.prototype.getAttribute=function(e,t){return e.getAttribute(t)},BrowserDomAdapter.prototype.getAttributeNS=function(e,t,n){return e.getAttributeNS(t,n)},BrowserDomAdapter.prototype.setAttribute=function(e,t,n){e.setAttribute(t,n)},BrowserDomAdapter.prototype.setAttributeNS=function(e,t,n,r){e.setAttributeNS(t,n,r)},BrowserDomAdapter.prototype.removeAttribute=function(e,t){e.removeAttribute(t)},BrowserDomAdapter.prototype.removeAttributeNS=function(e,t,n){e.removeAttributeNS(t,n)},BrowserDomAdapter.prototype.templateAwareRoot=function(e){return this.isTemplateElement(e)?this.content(e):e},BrowserDomAdapter.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},BrowserDomAdapter.prototype.defaultDoc=function(){return document},BrowserDomAdapter.prototype.getBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},BrowserDomAdapter.prototype.getTitle=function(){return document.title},BrowserDomAdapter.prototype.setTitle=function(e){document.title=e||""},BrowserDomAdapter.prototype.elementMatches=function(e,t){var n=!1;return e instanceof HTMLElement&&(e.matches?n=e.matches(t):e.msMatchesSelector?n=e.msMatchesSelector(t):e.webkitMatchesSelector&&(n=e.webkitMatchesSelector(t))),n},BrowserDomAdapter.prototype.isTemplateElement=function(e){return e instanceof HTMLElement&&"TEMPLATE"==e.nodeName},BrowserDomAdapter.prototype.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE},BrowserDomAdapter.prototype.isCommentNode=function(e){return e.nodeType===Node.COMMENT_NODE},BrowserDomAdapter.prototype.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},BrowserDomAdapter.prototype.hasShadowRoot=function(e){return e instanceof HTMLElement&&o.isPresent(e.shadowRoot)},BrowserDomAdapter.prototype.isShadowRoot=function(e){return e instanceof DocumentFragment},BrowserDomAdapter.prototype.importIntoDoc=function(e){var t=e;return this.isTemplateElement(e)&&(t=this.content(e)),document.importNode(t,!0)},BrowserDomAdapter.prototype.adoptNode=function(e){return document.adoptNode(e)},BrowserDomAdapter.prototype.getHref=function(e){return e.href},BrowserDomAdapter.prototype.getEventKey=function(e){var t=e.key;if(o.isBlank(t)){if(t=e.keyIdentifier,o.isBlank(t))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===u&&p.hasOwnProperty(t)&&(t=p[t]))}return l.hasOwnProperty(t)&&(t=l[t]),t},BrowserDomAdapter.prototype.getGlobalEventTarget=function(e){return"window"==e?window:"document"==e?document:"body"==e?document.body:void 0},BrowserDomAdapter.prototype.getHistory=function(){return window.history},BrowserDomAdapter.prototype.getLocation=function(){return window.location},BrowserDomAdapter.prototype.getBaseHref=function(){var e=getBaseElementHref();return o.isBlank(e)?null:relativePath(e)},BrowserDomAdapter.prototype.resetBaseElement=function(){h=null},BrowserDomAdapter.prototype.getUserAgent=function(){return window.navigator.userAgent},BrowserDomAdapter.prototype.setData=function(e,t,n){this.setAttribute(e,"data-"+t,n)},BrowserDomAdapter.prototype.getData=function(e,t){return this.getAttribute(e,"data-"+t)},BrowserDomAdapter.prototype.getComputedStyle=function(e){return getComputedStyle(e)},BrowserDomAdapter.prototype.setGlobalVar=function(e,t){o.setValueOnPath(o.global,e,t)},BrowserDomAdapter.prototype.requestAnimationFrame=function(e){return window.requestAnimationFrame(e)},BrowserDomAdapter.prototype.cancelAnimationFrame=function(e){window.cancelAnimationFrame(e)},BrowserDomAdapter.prototype.performanceNow=function(){return o.isPresent(window.performance)&&o.isPresent(window.performance.now)?window.performance.now():o.DateWrapper.toMillis(o.DateWrapper.now())},BrowserDomAdapter}(s.GenericBrowserDomAdapter);t.BrowserDomAdapter=f;var h=null,d=null},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(70),o=n(1),a=n(66),s=function(e){function XHRImpl(){e.apply(this,arguments)}return r(XHRImpl,e),XHRImpl.prototype.get=function(e){var t=i.PromiseWrapper.completer(),n=new XMLHttpRequest;return n.open("GET",e,!0),n.responseType="text",n.onload=function(){var r=o.isPresent(n.response)?n.response:n.responseText,i=1223===n.status?204:n.status;0===i&&(i=r?200:0),i>=200&&300>=i?t.resolve(r):t.reject("Failed to load "+e,null)},n.onerror=function(){t.reject("Failed to load "+e,null)},n.send(),t.promise},XHRImpl}(a.XHR);t.XHRImpl=s},function(e,t,n){"use strict";function _exceptionHandler(){return new a.ExceptionHandler(u.DOM,!r.IS_DART)}function _document(){return u.DOM.defaultDoc()}function initDomAdapter(){v.BrowserDomAdapter.makeCurrent(),P.wtfInit(),b.BrowserGetTestability.init()}var r=n(1),i=n(6),o=n(66),a=n(4),s=n(133),c=n(114),u=n(14),l=n(279),p=n(438),f=n(176),h=n(90),d=n(175),g=n(118),y=n(118),m=n(215),_=n(214),v=n(276),b=n(430),C=n(434),P=n(422),R=n(71),w=n(176),E=n(135),S=n(90);t.DOCUMENT=S.DOCUMENT;var D=n(431);t.Title=D.Title;var A=n(135);t.ELEMENT_PROBE_PROVIDERS=A.ELEMENT_PROBE_PROVIDERS,t.ELEMENT_PROBE_PROVIDERS_PROD_MODE=A.ELEMENT_PROBE_PROVIDERS_PROD_MODE,t.inspectNativeElement=A.inspectNativeElement,t.By=A.By;var x=n(276);t.BrowserDomAdapter=x.BrowserDomAdapter;var O=n(433);t.enableDebugTools=O.enableDebugTools,t.disableDebugTools=O.disableDebugTools;var T=n(176);t.HAMMER_GESTURE_CONFIG=T.HAMMER_GESTURE_CONFIG,t.HammerGestureConfig=T.HammerGestureConfig,t.BROWSER_PROVIDERS=r.CONST_EXPR([a.PLATFORM_COMMON_PROVIDERS,new i.Provider(a.PLATFORM_INITIALIZER,{useValue:initDomAdapter,multi:!0})]),t.BROWSER_APP_COMMON_PROVIDERS=r.CONST_EXPR([a.APPLICATION_COMMON_PROVIDERS,s.FORM_PROVIDERS,new i.Provider(a.PLATFORM_PIPES,{useValue:s.COMMON_PIPES,multi:!0}),new i.Provider(a.PLATFORM_DIRECTIVES,{useValue:s.COMMON_DIRECTIVES,multi:!0}),new i.Provider(a.ExceptionHandler,{useFactory:_exceptionHandler,deps:[]}),new i.Provider(h.DOCUMENT,{useFactory:_document,deps:[]}),new i.Provider(R.EVENT_MANAGER_PLUGINS,{useClass:l.DomEventsPlugin,multi:!0}),new i.Provider(R.EVENT_MANAGER_PLUGINS,{useClass:p.KeyEventsPlugin,multi:!0}),new i.Provider(R.EVENT_MANAGER_PLUGINS,{useClass:f.HammerGesturesPlugin,multi:!0}),new i.Provider(w.HAMMER_GESTURE_CONFIG,{useClass:w.HammerGestureConfig}),new i.Provider(d.DomRootRenderer,{useClass:d.DomRootRenderer_}),new i.Provider(a.RootRenderer,{useExisting:d.DomRootRenderer}),new i.Provider(y.SharedStylesHost,{useExisting:g.DomSharedStylesHost}),g.DomSharedStylesHost,c.Testability,m.BrowserDetails,_.AnimationBuilder,R.EventManager,E.ELEMENT_PROBE_PROVIDERS]),t.CACHED_TEMPLATE_PROVIDER=r.CONST_EXPR([new i.Provider(o.XHR,{useClass:C.CachedXHR})]),t.initDomAdapter=initDomAdapter},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(14),s=n(4),c=n(71),u=function(e){function DomEventsPlugin(){e.apply(this,arguments)}return r(DomEventsPlugin,e),DomEventsPlugin.prototype.supports=function(e){return!0},DomEventsPlugin.prototype.addEventListener=function(e,t,n){var r=this.manager.getZone(),i=function(e){return r.run(function(){return n(e)})};return this.manager.getZone().runOutsideAngular(function(){return a.DOM.onAndCancel(e,t,i)})},DomEventsPlugin.prototype.addGlobalEventListener=function(e,t,n){var r=a.DOM.getGlobalEventTarget(e),i=this.manager.getZone(),o=function(e){return i.run(function(){return n(e)})};return this.manager.getZone().runOutsideAngular(function(){return a.DOM.onAndCancel(r,t,o)})},DomEventsPlugin=i([s.Injectable(),o("design:paramtypes",[])],DomEventsPlugin)}(c.EventManagerPlugin);t.DomEventsPlugin=u},function(e,t,n){"use strict";function camelCaseToDashCase(e){return r.StringWrapper.replaceAllMapped(e,i,function(e){return"-"+e[1].toLowerCase()})}function dashCaseToCamelCase(e){return r.StringWrapper.replaceAllMapped(e,o,function(e){return e[1].toUpperCase()})}var r=n(1),i=/([A-Z])/g,o=/-([a-z])/g;t.camelCaseToDashCase=camelCaseToDashCase,t.dashCaseToCamelCase=dashCaseToCamelCase},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(4),a=n(1),s=n(121),c=n(119),u=function(){function RouterLink(e,t){var n=this;this._router=e,this._location=t,this._router.subscribe(function(e){return n._updateLink()})}return RouterLink.prototype._updateLink=function(){this._navigationInstruction=this._router.generate(this._routeParams);var e=this._navigationInstruction.toLinkUrl();this.visibleHref=this._location.prepareExternalUrl(e)},Object.defineProperty(RouterLink.prototype,"isRouteActive",{get:function(){return this._router.isRouteActive(this._navigationInstruction)},enumerable:!0,configurable:!0}),Object.defineProperty(RouterLink.prototype,"routeParams",{set:function(e){this._routeParams=e,this._updateLink()},enumerable:!0,configurable:!0}),RouterLink.prototype.onClick=function(){return a.isString(this.target)&&"_self"!=this.target?!0:(this._router.navigateByInstruction(this._navigationInstruction),!1)},RouterLink=r([o.Directive({selector:"[routerLink]",inputs:["routeParams: routerLink","target: target"],host:{"(click)":"onClick()","[attr.href]":"visibleHref","[class.router-link-active]":"isRouteActive"}}),i("design:paramtypes",[s.Router,c.Location])],RouterLink)}();t.RouterLink=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(9),s=n(3),c=n(1),u=n(4),l=n(121),p=n(54),f=n(283),h=n(284),d=a.PromiseWrapper.resolve(!0),g=function(){function RouterOutlet(e,t,n,r){this._elementRef=e,this._loader=t,this._parentRouter=n,this.name=null,this._componentRef=null,this._currentInstruction=null,c.isPresent(r)?(this.name=r,this._parentRouter.registerAuxOutlet(this)):this._parentRouter.registerPrimaryOutlet(this)}return RouterOutlet.prototype.activate=function(e){var t=this,n=this._currentInstruction;this._currentInstruction=e;var r=e.componentType,i=this._parentRouter.childRouter(r),o=u.Injector.resolve([u.provide(p.RouteData,{useValue:e.routeData}),u.provide(p.RouteParams,{useValue:new p.RouteParams(e.params)}),u.provide(l.Router,{useValue:i})]);return this._componentRef=this._loader.loadNextToLocation(r,this._elementRef,o),this._componentRef.then(function(i){return h.hasLifecycleHook(f.routerOnActivate,r)?t._componentRef.then(function(t){return t.instance.routerOnActivate(e,n)}):i})},RouterOutlet.prototype.reuse=function(e){var t=this._currentInstruction;return this._currentInstruction=e,c.isBlank(this._componentRef)?this.activate(e):a.PromiseWrapper.resolve(h.hasLifecycleHook(f.routerOnReuse,this._currentInstruction.componentType)?this._componentRef.then(function(n){return n.instance.routerOnReuse(e,t)}):!0)},RouterOutlet.prototype.deactivate=function(e){var t=this,n=d;return c.isPresent(this._componentRef)&&c.isPresent(this._currentInstruction)&&h.hasLifecycleHook(f.routerOnDeactivate,this._currentInstruction.componentType)&&(n=this._componentRef.then(function(n){return n.instance.routerOnDeactivate(e,t._currentInstruction)})),n.then(function(e){if(c.isPresent(t._componentRef)){var n=t._componentRef.then(function(e){return e.dispose()});return t._componentRef=null,n}})},RouterOutlet.prototype.routerCanDeactivate=function(e){var t=this;return c.isBlank(this._currentInstruction)?d:h.hasLifecycleHook(f.routerCanDeactivate,this._currentInstruction.componentType)?this._componentRef.then(function(n){return n.instance.routerCanDeactivate(e,t._currentInstruction)}):d},RouterOutlet.prototype.routerCanReuse=function(e){var t,n=this;return t=c.isBlank(this._currentInstruction)||this._currentInstruction.componentType!=e.componentType?!1:h.hasLifecycleHook(f.routerCanReuse,this._currentInstruction.componentType)?this._componentRef.then(function(t){return t.instance.routerCanReuse(e,n._currentInstruction)}):e==this._currentInstruction||c.isPresent(e.params)&&c.isPresent(this._currentInstruction.params)&&s.StringMapWrapper.equals(e.params,this._currentInstruction.params),a.PromiseWrapper.resolve(t)},RouterOutlet.prototype.ngOnDestroy=function(){this._parentRouter.unregisterPrimaryOutlet(this)},RouterOutlet=r([u.Directive({selector:"router-outlet"}),o(3,u.Attribute("name")),i("design:paramtypes",[u.ElementRef,u.DynamicComponentLoader,l.Router,String])],RouterOutlet)}();t.RouterOutlet=g},function(e,t,n){"use strict";var r=n(88),i=n(177),o=n(177);t.routerCanReuse=o.routerCanReuse,t.routerCanDeactivate=o.routerCanDeactivate,t.routerOnActivate=o.routerOnActivate,t.routerOnReuse=o.routerOnReuse,t.routerOnDeactivate=o.routerOnDeactivate,t.CanActivate=r.makeDecorator(i.CanActivate)},function(e,t,n){"use strict";function hasLifecycleHook(e,t){return t instanceof r.Type?e.name in t.prototype:!1}function getCanActivateHook(e){for(var t=o.reflector.annotations(e),n=0;n<t.length;n+=1){var r=t[n];if(r instanceof i.CanActivate)return r.fn}return null}var r=n(1),i=n(177),o=n(18);t.hasLifecycleHook=hasLifecycleHook,t.getCanActivateHook=getCanActivateHook},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){
this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(4),c=n(1),u=n(5),l=n(91),p=n(92),f=function(e){function PathLocationStrategy(t,n){if(e.call(this),this._platformLocation=t,c.isBlank(n)&&(n=this._platformLocation.getBaseHrefFromDOM()),c.isBlank(n))throw new u.BaseException("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=n}return r(PathLocationStrategy,e),PathLocationStrategy.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},PathLocationStrategy.prototype.getBaseHref=function(){return this._baseHref},PathLocationStrategy.prototype.prepareExternalUrl=function(e){return l.joinWithSlash(this._baseHref,e)},PathLocationStrategy.prototype.path=function(){return this._platformLocation.pathname+l.normalizeQueryParams(this._platformLocation.search)},PathLocationStrategy.prototype.pushState=function(e,t,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));this._platformLocation.pushState(e,t,i)},PathLocationStrategy.prototype.replaceState=function(e,t,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,i)},PathLocationStrategy.prototype.forward=function(){this._platformLocation.forward()},PathLocationStrategy.prototype.back=function(){this._platformLocation.back()},PathLocationStrategy=i([s.Injectable(),a(1,s.Optional()),a(1,s.Inject(l.APP_BASE_HREF)),o("design:paramtypes",[p.PlatformLocation,String])],PathLocationStrategy)}(l.LocationStrategy);t.PathLocationStrategy=f},function(e,t,n){"use strict";var r=n(120),i=n(88),o=n(120);t.Route=o.Route,t.Redirect=o.Redirect,t.AuxRoute=o.AuxRoute,t.AsyncRoute=o.AsyncRoute,t.RouteConfig=i.makeDecorator(r.RouteConfig)},function(e,t,n){"use strict";function routerFactory(e,t,n,r){var i=new o.RootRouter(e,t,n);return r.registerDisposeListener(function(){return i.dispose()}),i}function routerPrimaryComponentFactory(e){if(0==e.componentTypes.length)throw new l.BaseException("Bootstrap at least one component before injecting Router.");return e.componentTypes[0]}var r=n(91),i=n(285),o=n(121),a=n(178),s=n(119),c=n(1),u=n(4),l=n(5);t.ROUTER_PROVIDERS_COMMON=c.CONST_EXPR([a.RouteRegistry,c.CONST_EXPR(new u.Provider(r.LocationStrategy,{useClass:i.PathLocationStrategy})),s.Location,c.CONST_EXPR(new u.Provider(o.Router,{useFactory:routerFactory,deps:c.CONST_EXPR([a.RouteRegistry,s.Location,a.ROUTER_PRIMARY_COMPONENT,u.ApplicationRef])})),c.CONST_EXPR(new u.Provider(a.ROUTER_PRIMARY_COMPONENT,{useFactory:routerPrimaryComponentFactory,deps:c.CONST_EXPR([u.ApplicationRef])}))])},function(e,t){"use strict";var n=function(){function MatchedUrl(e,t,n,r,i){this.urlPath=e,this.urlParams=t,this.allParams=n,this.auxiliary=r,this.rest=i}return MatchedUrl}();t.MatchedUrl=n;var r=function(){function GeneratedUrl(e,t){this.urlPath=e,this.urlParams=t}return GeneratedUrl}();t.GeneratedUrl=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(1),o=n(5),a=n(70),s=n(3),c=n(179),u=n(54),l=function(){function RouteMatch(){}return RouteMatch}();t.RouteMatch=l;var p=function(e){function PathMatch(t,n,r){e.call(this),this.instruction=t,this.remaining=n,this.remainingAux=r}return r(PathMatch,e),PathMatch}(l);t.PathMatch=p;var f=function(e){function RedirectMatch(t,n){e.call(this),this.redirectTo=t,this.specificity=n}return r(RedirectMatch,e),RedirectMatch}(l);t.RedirectMatch=f;var h=function(){function RedirectRule(e,t){this._pathRecognizer=e,this.redirectTo=t,this.hash=this._pathRecognizer.hash}return Object.defineProperty(RedirectRule.prototype,"path",{get:function(){return this._pathRecognizer.toString()},set:function(e){throw new o.BaseException("you cannot set the path of a RedirectRule directly")},enumerable:!0,configurable:!0}),RedirectRule.prototype.recognize=function(e){var t=null;return i.isPresent(this._pathRecognizer.matchUrl(e))&&(t=new f(this.redirectTo,this._pathRecognizer.specificity)),a.PromiseWrapper.resolve(t)},RedirectRule.prototype.generate=function(e){throw new o.BaseException("Tried to generate a redirect.")},RedirectRule}();t.RedirectRule=h;var d=function(){function RouteRule(e,t,n){this._routePath=e,this.handler=t,this._routeName=n,this._cache=new s.Map,this.specificity=this._routePath.specificity,this.hash=this._routePath.hash,this.terminal=this._routePath.terminal}return Object.defineProperty(RouteRule.prototype,"path",{get:function(){return this._routePath.toString()},set:function(e){throw new o.BaseException("you cannot set the path of a RouteRule directly")},enumerable:!0,configurable:!0}),RouteRule.prototype.recognize=function(e){var t=this,n=this._routePath.matchUrl(e);return i.isBlank(n)?null:this.handler.resolveComponentType().then(function(e){var r=t._getInstruction(n.urlPath,n.urlParams,n.allParams);return new p(r,n.rest,n.auxiliary)})},RouteRule.prototype.generate=function(e){var t=this._routePath.generateUrl(e),n=t.urlPath,r=t.urlParams;return this._getInstruction(n,c.convertUrlParamsToArray(r),e)},RouteRule.prototype.generateComponentPathValues=function(e){return this._routePath.generateUrl(e)},RouteRule.prototype._getInstruction=function(e,t,n){if(i.isBlank(this.handler.componentType))throw new o.BaseException("Tried to get instruction before the type was loaded.");var r=e+"?"+t.join("&");if(this._cache.has(r))return this._cache.get(r);var a=new u.ComponentInstruction(e,t,this.handler.data,this.handler.componentType,this.terminal,this.specificity,n,this._routeName);return this._cache.set(r,a),a},RouteRule}();t.RouteRule=d},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(76),o=function(e){function InnerSubscriber(t,n,r){e.call(this),this.parent=t,this.outerValue=n,this.outerIndex=r,this.index=0}return r(InnerSubscriber,e),InnerSubscriber.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},InnerSubscriber.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},InnerSubscriber.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},InnerSubscriber}(i.Subscriber);t.InnerSubscriber=o},function(e,t){"use strict";t.empty={isUnsubscribed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(76),o=function(e){function OuterSubscriber(){e.apply(this,arguments)}return r(OuterSubscriber,e),OuterSubscriber.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},OuterSubscriber.prototype.notifyError=function(e,t){this.destination.error(e)},OuterSubscriber.prototype.notifyComplete=function(e){this.destination.complete()},OuterSubscriber}(i.Subscriber);t.OuterSubscriber=o},function(e,t,n){"use strict";var r=n(40),i=n(374);r.Observable.prototype.map=i.map},function(e,t,n){"use strict";var r=n(40),i=n(375);r.Observable.prototype.mergeMap=i.mergeMap,r.Observable.prototype.flatMap=i.mergeMap},function(e,t,n){"use strict";function dispatchNext(e){var t=e.value,n=e.subscriber;n.isUnsubscribed||(n.next(t),n.complete())}function dispatchError(e){var t=e.err,n=e.subscriber;n.isUnsubscribed||n.error(t)}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(49),o=n(40),a=function(e){function PromiseObservable(t,n){void 0===n&&(n=null),e.call(this),this.promise=t,this.scheduler=n}return r(PromiseObservable,e),PromiseObservable.create=function(e,t){return void 0===t&&(t=null),new PromiseObservable(e,t)},PromiseObservable.prototype._subscribe=function(e){var t=this,n=this.promise,r=this.scheduler;if(null==r)this._isScalar?e.isUnsubscribed||(e.next(this.value),e.complete()):n.then(function(n){t.value=n,t._isScalar=!0,e.isUnsubscribed||(e.next(n),e.complete())},function(t){e.isUnsubscribed||e.error(t)}).then(null,function(e){i.root.setTimeout(function(){throw e})});else if(this._isScalar){if(!e.isUnsubscribed)return r.schedule(dispatchNext,0,{value:this.value,subscriber:e})}else n.then(function(n){t.value=n,t._isScalar=!0,e.isUnsubscribed||e.add(r.schedule(dispatchNext,0,{value:n,subscriber:e}))},function(t){e.isUnsubscribed||e.add(r.schedule(dispatchError,0,{err:t,subscriber:e}))}).then(null,function(e){i.root.setTimeout(function(){throw e})})},PromiseObservable}(o.Observable);t.PromiseObservable=a},function(e,t,n){"use strict";function map(e,t){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new o(e,t))}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(76);t.map=map;var o=function(){function MapOperator(e,t){this.project=e,this.thisArg=t}return MapOperator.prototype.call=function(e){return new a(e,this.project,this.thisArg)},MapOperator}(),a=function(e){function MapSubscriber(t,n,r){e.call(this,t),this.project=n,this.count=0,this.thisArg=r||this}return r(MapSubscriber,e),MapSubscriber.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},MapSubscriber}(i.Subscriber)},function(e,t,n){"use strict";function mergeMap(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"number"==typeof t&&(n=t,t=null),this.lift(new a(e,t,n))}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(382),o=n(370);t.mergeMap=mergeMap;var a=function(){function MergeMapOperator(e,t,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=n}return MergeMapOperator.prototype.call=function(e){return new s(e,this.project,this.resultSelector,this.concurrent)},MergeMapOperator}();t.MergeMapOperator=a;var s=function(e){function MergeMapSubscriber(t,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r(MergeMapSubscriber,e),MergeMapSubscriber.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},MergeMapSubscriber.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)},MergeMapSubscriber.prototype._innerSub=function(e,t,n){this.add(i.subscribeToResult(this,e,t,n))},MergeMapSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},MergeMapSubscriber.prototype.notifyNext=function(e,t,n,r,i){this.resultSelector?this._notifyResultSelector(e,t,n,r):this.destination.next(t)},MergeMapSubscriber.prototype._notifyResultSelector=function(e,t,n,r){var i;try{i=this.resultSelector(e,t,n,r)}catch(o){return void this.destination.error(o)}this.destination.next(i)},MergeMapSubscriber.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},MergeMapSubscriber}(o.OuterSubscriber);t.MergeMapSubscriber=s},function(e,t,n){"use strict";function toPromise(e){var t=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})}var r=n(49);t.toPromise=toPromise},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(131),o=function(e){function SubjectSubscription(t,n){e.call(this),this.subject=t,this.observer=n,this.isUnsubscribed=!1}return r(SubjectSubscription,e),SubjectSubscription.prototype.unsubscribe=function(){if(!this.isUnsubscribed){this.isUnsubscribed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isUnsubscribed){var n=t.indexOf(this.observer);-1!==n&&t.splice(n,1)}}},SubjectSubscription}(i.Subscription);t.SubjectSubscription=o},function(e,t,n){"use strict";var r=n(49),i=r.root.Symbol;if("function"==typeof i)i.iterator?t.$$iterator=i.iterator:"function"==typeof i.for&&(t.$$iterator=i.for("iterator"));else if(r.root.Set&&"function"==typeof(new r.root.Set)["@@iterator"])t.$$iterator="@@iterator";else if(r.root.Map)for(var o=Object.getOwnPropertyNames(r.root.Map.prototype),a=0;a<o.length;++a){var s=o[a];if("entries"!==s&&"size"!==s&&r.root.Map.prototype[s]===r.root.Map.prototype.entries){t.$$iterator=s;break}}else t.$$iterator="@@iterator"},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},r=function(e){function ObjectUnsubscribedError(){e.call(this,"object unsubscribed"),this.name="ObjectUnsubscribedError"}return n(ObjectUnsubscribedError,e),ObjectUnsubscribedError}(Error);t.ObjectUnsubscribedError=r},function(e,t){"use strict";function isObject(e){return null!=e&&"object"==typeof e}t.isObject=isObject},function(e,t){"use strict";function isPromise(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}t.isPromise=isPromise},function(e,t,n){"use strict";function subscribeToResult(e,t,n,l){var p=new u.InnerSubscriber(e,n,l);if(!p.isUnsubscribed){if(t instanceof a.Observable)return t._isScalar?(p.next(t.value),void p.complete()):t.subscribe(p);if(i.isArray(t)){for(var f=0,h=t.length;h>f&&!p.isUnsubscribed;f++)p.next(t[f]);p.isUnsubscribed||p.complete()}else{if(o.isPromise(t))return t.then(function(e){p.isUnsubscribed||(p.next(e),p.complete())},function(e){return p.error(e)}).then(null,function(e){r.root.setTimeout(function(){throw e})}),p;if("function"==typeof t[s.$$iterator]){for(var d=0,g=t;d<g.length;d++){var y=g[d];if(p.next(y),p.isUnsubscribed)break}p.isUnsubscribed||p.complete()}else if("function"==typeof t[c.$$observable]){var m=t[c.$$observable]();if("function"==typeof m.subscribe)return m.subscribe(new u.InnerSubscriber(e,n,l));p.error("invalid observable")}else p.error(new TypeError("unknown type returned"))}}}var r=n(49),i=n(210),o=n(381),a=n(40),s=n(378),c=n(208),u=n(368);t.subscribeToResult=subscribeToResult},function(e,t){"use strict";function throwError(e){throw e}t.throwError=throwError},function(e,t,n){"use strict";function toSubscriber(e,t,n){if(e&&"object"==typeof e){if(e instanceof r.Subscriber)return e;if("function"==typeof e[i.$$rxSubscriber])return e[i.$$rxSubscriber]()}return new r.Subscriber(e,t,n)}var r=n(76),i=n(132);t.toSubscriber=toSubscriber},function(e,t,n){"use strict";function tryCatcher(){try{return r.apply(this,arguments)}catch(e){return i.errorObject.e=e,i.errorObject}}function tryCatch(e){return r=e,tryCatcher}var r,i=n(209);t.tryCatch=tryCatch},,,,function(e,t,n){"use strict";var r=n(1),i=n(269),o=n(280),a=n(3),s=n(14),c=function(){function Animation(e,t,n){var i=this;this.element=e,this.data=t,this.browserDetails=n,this.callbacks=[],this.eventClearFunctions=[],this.completed=!1,this._stringPrefix="",this.startTime=r.DateWrapper.toMillis(r.DateWrapper.now()),this._stringPrefix=s.DOM.getAnimationPrefix(),this.setup(),this.wait(function(e){return i.start()})}return Object.defineProperty(Animation.prototype,"totalTime",{get:function(){var e=null!=this.computedDelay?this.computedDelay:0,t=null!=this.computedDuration?this.computedDuration:0;return e+t},enumerable:!0,configurable:!0}),Animation.prototype.wait=function(e){this.browserDetails.raf(e,2)},Animation.prototype.setup=function(){null!=this.data.fromStyles&&this.applyStyles(this.data.fromStyles),null!=this.data.duration&&this.applyStyles({transitionDuration:this.data.duration.toString()+"ms"}),null!=this.data.delay&&this.applyStyles({transitionDelay:this.data.delay.toString()+"ms"})},Animation.prototype.start=function(){this.addClasses(this.data.classesToAdd),this.addClasses(this.data.animationClasses),this.removeClasses(this.data.classesToRemove),null!=this.data.toStyles&&this.applyStyles(this.data.toStyles);var e=s.DOM.getComputedStyle(this.element);this.computedDelay=i.Math.max(this.parseDurationString(e.getPropertyValue(this._stringPrefix+"transition-delay")),this.parseDurationString(this.element.style.getPropertyValue(this._stringPrefix+"transition-delay"))),this.computedDuration=i.Math.max(this.parseDurationString(e.getPropertyValue(this._stringPrefix+"transition-duration")),this.parseDurationString(this.element.style.getPropertyValue(this._stringPrefix+"transition-duration"))),this.addEvents()},Animation.prototype.applyStyles=function(e){var t=this;a.StringMapWrapper.forEach(e,function(e,n){var i=o.camelCaseToDashCase(n);r.isPresent(s.DOM.getStyle(t.element,i))?s.DOM.setStyle(t.element,i,e.toString()):s.DOM.setStyle(t.element,t._stringPrefix+i,e.toString())})},Animation.prototype.addClasses=function(e){for(var t=0,n=e.length;n>t;t++)s.DOM.addClass(this.element,e[t])},Animation.prototype.removeClasses=function(e){for(var t=0,n=e.length;n>t;t++)s.DOM.removeClass(this.element,e[t])},Animation.prototype.addEvents=function(){var e=this;this.totalTime>0?this.eventClearFunctions.push(s.DOM.onAndCancel(this.element,s.DOM.getTransitionEnd(),function(t){return e.handleAnimationEvent(t)})):this.handleAnimationCompleted()},Animation.prototype.handleAnimationEvent=function(e){var t=i.Math.round(1e3*e.elapsedTime);this.browserDetails.elapsedTimeIncludesDelay||(t+=this.computedDelay),e.stopPropagation(),t>=this.totalTime&&this.handleAnimationCompleted()},Animation.prototype.handleAnimationCompleted=function(){this.removeClasses(this.data.animationClasses),this.callbacks.forEach(function(e){return e()}),this.callbacks=[],this.eventClearFunctions.forEach(function(e){return e()}),this.eventClearFunctions=[],this.completed=!0},Animation.prototype.onComplete=function(e){return this.completed?e():this.callbacks.push(e),this},Animation.prototype.parseDurationString=function(e){var t=0;if(null==e||e.length<2)return t;if("ms"==e.substring(e.length-2)){var n=r.NumberWrapper.parseInt(this.stripLetters(e),10);n>t&&(t=n)}else if("s"==e.substring(e.length-1)){var o=1e3*r.NumberWrapper.parseFloat(this.stripLetters(e)),n=i.Math.floor(o);n>t&&(t=n)}return t},Animation.prototype.stripLetters=function(e){return r.StringWrapper.replaceAll(e,r.RegExpWrapper.create("[^0-9]+$",""),"")},Animation}();t.Animation=c},function(e,t,n){"use strict";var r=n(391),i=n(389),o=function(){function CssAnimationBuilder(e){this.browserDetails=e,this.data=new r.CssAnimationOptions}return CssAnimationBuilder.prototype.addAnimationClass=function(e){return this.data.animationClasses.push(e),this},CssAnimationBuilder.prototype.addClass=function(e){return this.data.classesToAdd.push(e),this},CssAnimationBuilder.prototype.removeClass=function(e){return this.data.classesToRemove.push(e),this},CssAnimationBuilder.prototype.setDuration=function(e){return this.data.duration=e,this},CssAnimationBuilder.prototype.setDelay=function(e){return this.data.delay=e,this},CssAnimationBuilder.prototype.setStyles=function(e,t){return this.setFromStyles(e).setToStyles(t)},CssAnimationBuilder.prototype.setFromStyles=function(e){return this.data.fromStyles=e,this},CssAnimationBuilder.prototype.setToStyles=function(e){return this.data.toStyles=e,this},CssAnimationBuilder.prototype.start=function(e){return new i.Animation(e,this.data,this.browserDetails)},CssAnimationBuilder}();t.CssAnimationBuilder=o},function(e,t){"use strict";var n=function(){function CssAnimationOptions(){this.classesToAdd=[],this.classesToRemove=[],this.animationClasses=[]}return CssAnimationOptions}();t.CssAnimationOptions=n},function(e,t,n){"use strict";var r=n(1),i=n(222),o=n(216);t.COMMON_DIRECTIVES=r.CONST_EXPR([o.CORE_DIRECTIVES,i.FORM_DIRECTIVES])},function(e,t,n){"use strict";var r=n(1),i=n(217),o=n(218),a=n(219),s=n(221),c=n(136),u=n(220);t.CORE_DIRECTIVES=r.CONST_EXPR([i.NgClass,o.NgFor,a.NgIf,s.NgStyle,c.NgSwitch,c.NgSwitchWhen,c.NgSwitchDefault,u.NgPlural,u.NgPluralCase])},function(e,t){"use strict"},function(e,t,n){"use strict";var r=n(1),i=n(139),o=n(142),a=n(144),s=n(138),c=n(143),u=n(141),l=n(101),p=n(100),f=n(145),h=n(102),d=n(140),g=n(103),y=n(146),m=n(139);t.NgControlName=m.NgControlName;var _=n(142);t.NgFormControl=_.NgFormControl;var v=n(144);t.NgModel=v.NgModel;var b=n(138);t.NgControlGroup=b.NgControlGroup;var C=n(143);t.NgFormModel=C.NgFormModel;var P=n(141);t.NgForm=P.NgForm;var R=n(101);t.DefaultValueAccessor=R.DefaultValueAccessor;var w=n(100);t.CheckboxControlValueAccessor=w.CheckboxControlValueAccessor;var E=n(102);t.RadioControlValueAccessor=E.RadioControlValueAccessor,t.RadioButtonState=E.RadioButtonState;var S=n(145);t.NumberValueAccessor=S.NumberValueAccessor;var D=n(140);t.NgControlStatus=D.NgControlStatus;var A=n(103);t.SelectControlValueAccessor=A.SelectControlValueAccessor,t.NgSelectOption=A.NgSelectOption;var x=n(146);t.RequiredValidator=x.RequiredValidator,t.MinLengthValidator=x.MinLengthValidator,t.MaxLengthValidator=x.MaxLengthValidator,t.PatternValidator=x.PatternValidator;var O=n(51);t.NgControl=O.NgControl,t.FORM_DIRECTIVES=r.CONST_EXPR([i.NgControlName,s.NgControlGroup,o.NgFormControl,a.NgModel,c.NgFormModel,u.NgForm,g.NgSelectOption,l.DefaultValueAccessor,f.NumberValueAccessor,p.CheckboxControlValueAccessor,g.SelectControlValueAccessor,h.RadioControlValueAccessor,d.NgControlStatus,y.RequiredValidator,y.MinLengthValidator,y.MaxLengthValidator,y.PatternValidator])},function(e,t){"use strict";function normalizeValidator(e){return void 0!==e.validate?function(t){return e.validate(t)}:e}function normalizeAsyncValidator(e){return void 0!==e.validate?function(t){return Promise.resolve(e.validate(t))}:e}t.normalizeValidator=normalizeValidator,t.normalizeAsyncValidator=normalizeAsyncValidator},function(e,t,n){"use strict";var r=n(224);t.AsyncPipe=r.AsyncPipe;var i=n(225);t.DatePipe=i.DatePipe;var o=n(228);t.JsonPipe=o.JsonPipe;var a=n(232);t.SlicePipe=a.SlicePipe;var s=n(229);t.LowerCasePipe=s.LowerCasePipe;var c=n(230);t.NumberPipe=c.NumberPipe,t.DecimalPipe=c.DecimalPipe,t.PercentPipe=c.PercentPipe,t.CurrencyPipe=c.CurrencyPipe;var u=n(233);t.UpperCasePipe=u.UpperCasePipe;var l=n(231);t.ReplacePipe=l.ReplacePipe;var p=n(226);t.I18nPluralPipe=p.I18nPluralPipe;var f=n(227);t.I18nSelectPipe=f.I18nSelectPipe;var h=n(398);t.COMMON_PIPES=h.COMMON_PIPES},function(e,t,n){"use strict";var r=n(224),i=n(233),o=n(229),a=n(228),s=n(232),c=n(225),u=n(230),l=n(231),p=n(226),f=n(227),h=n(1);t.COMMON_PIPES=h.CONST_EXPR([r.AsyncPipe,i.UpperCasePipe,o.LowerCasePipe,a.JsonPipe,s.SlicePipe,u.DecimalPipe,u.PercentPipe,u.CurrencyPipe,c.DatePipe,l.ReplacePipe,p.I18nPluralPipe,f.I18nSelectPipe])},function(e,t,n){"use strict";function assertArrayOfStrings(e,t){if(r.assertionsEnabled()&&!r.isBlank(t)){if(!r.isArray(t))throw new i.BaseException("Expected '"+e+"' to be an array of strings.");for(var n=0;n<t.length;n+=1)if(!r.isString(t[n]))throw new i.BaseException("Expected '"+e+"' to be an array of strings.")}}var r=n(1),i=n(5);t.assertArrayOfStrings=assertArrayOfStrings},function(e,t,n){"use strict";function createChangeDetectorDefinitions(e,t,n,r){var i=[],o=new u(null,i,t);return s.templateVisitAll(o,r),createChangeDefinitions(i,e,n)}function createChangeDefinitions(e,t,n){var r=_collectNestedProtoViewsVariableNames(e);return e.map(function(e){var i=t.name+"_"+e.viewIndex;return new a.ChangeDetectorDefinition(i,e.strategy,r[e.viewIndex],e.bindingRecords,e.eventRecords,e.directiveRecords,n)})}function _collectNestedProtoViewsVariableNames(e){var t=r.ListWrapper.createFixedSize(e.length);return e.forEach(function(e){var n=i.isPresent(e.parent)?t[e.parent.viewIndex]:[];t[e.viewIndex]=n.concat(e.variableNames)}),t}var r=n(3),i=n(1),o=n(18),a=n(23),s=n(65),c=n(109);t.createChangeDetectorDefinitions=createChangeDetectorDefinitions;var u=function(){function ProtoViewVisitor(e,t,n){this.parent=e,this.allVisitors=t,this.strategy=n,this.nodeCount=0,this.boundElementCount=0,this.variableNames=[],this.bindingRecords=[],this.eventRecords=[],this.directiveRecords=[],this.viewIndex=t.length,t.push(this)}return ProtoViewVisitor.prototype.visitEmbeddedTemplate=function(e,t){this.nodeCount++,this.boundElementCount++,s.templateVisitAll(this,e.outputs);for(var n=0;n<e.directives.length;n++)e.directives[n].visit(this,n);var r=new ProtoViewVisitor(this,this.allVisitors,a.ChangeDetectionStrategy.Default);return s.templateVisitAll(r,e.vars),s.templateVisitAll(r,e.children),null},ProtoViewVisitor.prototype.visitElement=function(e,t){this.nodeCount++,e.isBound()&&this.boundElementCount++,s.templateVisitAll(this,e.inputs,null),s.templateVisitAll(this,e.outputs),s.templateVisitAll(this,e.exportAsVars);for(var n=0;n<e.directives.length;n++)e.directives[n].visit(this,n);return s.templateVisitAll(this,e.children),null},ProtoViewVisitor.prototype.visitNgContent=function(e,t){return null},ProtoViewVisitor.prototype.visitVariable=function(e,t){return this.variableNames.push(e.name),null},ProtoViewVisitor.prototype.visitEvent=function(e,t){var n=i.isPresent(t)?a.BindingRecord.createForHostEvent(e.handler,e.fullName,t):a.BindingRecord.createForEvent(e.handler,e.fullName,this.boundElementCount-1);return this.eventRecords.push(n),null},ProtoViewVisitor.prototype.visitElementProperty=function(e,t){var n,r=this.boundElementCount-1,o=i.isPresent(t)?t.directiveIndex:null;return e.type===s.PropertyBindingType.Property?n=i.isPresent(o)?a.BindingRecord.createForHostProperty(o,e.value,e.name):a.BindingRecord.createForElementProperty(e.value,r,e.name):e.type===s.PropertyBindingType.Attribute?n=i.isPresent(o)?a.BindingRecord.createForHostAttribute(o,e.value,e.name):a.BindingRecord.createForElementAttribute(e.value,r,e.name):e.type===s.PropertyBindingType.Class?n=i.isPresent(o)?a.BindingRecord.createForHostClass(o,e.value,e.name):a.BindingRecord.createForElementClass(e.value,r,e.name):e.type===s.PropertyBindingType.Style&&(n=i.isPresent(o)?a.BindingRecord.createForHostStyle(o,e.value,e.name,e.unit):a.BindingRecord.createForElementStyle(e.value,r,e.name,e.unit)),this.bindingRecords.push(n),null},ProtoViewVisitor.prototype.visitAttr=function(e,t){return null},ProtoViewVisitor.prototype.visitBoundText=function(e,t){var n=this.nodeCount++;return this.bindingRecords.push(a.BindingRecord.createForTextNode(e.value,n)),null},ProtoViewVisitor.prototype.visitText=function(e,t){return this.nodeCount++,null},ProtoViewVisitor.prototype.visitDirective=function(e,t){var n=new a.DirectiveIndex(this.boundElementCount-1,t),i=e.directive,o=[];r.StringMapWrapper.forEach(e.directive.outputs,function(e,t){return o.push([t,e])});var u=new a.DirectiveRecord({directiveIndex:n,callAfterContentInit:-1!==i.lifecycleHooks.indexOf(c.LifecycleHooks.AfterContentInit),callAfterContentChecked:-1!==i.lifecycleHooks.indexOf(c.LifecycleHooks.AfterContentChecked),callAfterViewInit:-1!==i.lifecycleHooks.indexOf(c.LifecycleHooks.AfterViewInit),callAfterViewChecked:-1!==i.lifecycleHooks.indexOf(c.LifecycleHooks.AfterViewChecked),callOnChanges:-1!==i.lifecycleHooks.indexOf(c.LifecycleHooks.OnChanges),callDoCheck:-1!==i.lifecycleHooks.indexOf(c.LifecycleHooks.DoCheck),callOnInit:-1!==i.lifecycleHooks.indexOf(c.LifecycleHooks.OnInit),callOnDestroy:-1!==i.lifecycleHooks.indexOf(c.LifecycleHooks.OnDestroy),changeDetection:i.changeDetection,outputs:o});this.directiveRecords.push(u),s.templateVisitAll(this,e.inputs,u);var l=this.bindingRecords;return u.callOnChanges&&l.push(a.BindingRecord.createDirectiveOnChanges(u)),u.callOnInit&&l.push(a.BindingRecord.createDirectiveOnInit(u)),u.callDoCheck&&l.push(a.BindingRecord.createDirectiveDoCheck(u)),s.templateVisitAll(this,e.hostProperties,u),s.templateVisitAll(this,e.hostEvents,u),s.templateVisitAll(this,e.exportAsVars),null},ProtoViewVisitor.prototype.visitDirectiveProperty=function(e,t){var n=o.reflector.setter(e.directiveName);return this.bindingRecords.push(a.BindingRecord.createForDirective(e.value,e.directiveName,n,t)),null},ProtoViewVisitor}()},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function _createChangeDetectorGenConfig(){return new b.ChangeDetectorGenConfig(u.assertionsEnabled(),!1,!0)}var r=n(235),i=n(153);t.TemplateCompiler=i.TemplateCompiler;var o=n(105);t.CompileDirectiveMetadata=o.CompileDirectiveMetadata,t.CompileTypeMetadata=o.CompileTypeMetadata,t.CompileTemplateMetadata=o.CompileTemplateMetadata;var a=n(64);t.SourceModule=a.SourceModule,t.SourceWithImports=a.SourceWithImports;var s=n(168);t.PLATFORM_DIRECTIVES=s.PLATFORM_DIRECTIVES,t.PLATFORM_PIPES=s.PLATFORM_PIPES,__export(n(65));var c=n(154);t.TEMPLATE_TRANSFORMS=c.TEMPLATE_TRANSFORMS;var u=n(1),l=n(6),p=n(154),f=n(148),h=n(239),d=n(236),g=n(234),y=n(238),m=n(241),_=n(150),v=n(153),b=n(23),C=n(69),P=n(235),R=n(151),w=n(403),E=n(79),S=n(23);t.COMPILER_PROVIDERS=u.CONST_EXPR([S.Lexer,S.Parser,f.HtmlParser,p.TemplateParser,h.TemplateNormalizer,d.RuntimeMetadataResolver,E.DEFAULT_PACKAGE_URL_PROVIDER,y.StyleCompiler,_.ProtoViewCompiler,m.ViewCompiler,g.ChangeDetectionCompiler,new l.Provider(b.ChangeDetectorGenConfig,{useFactory:_createChangeDetectorGenConfig,deps:[]}),v.TemplateCompiler,new l.Provider(P.RuntimeCompiler,{useClass:r.RuntimeCompiler_}),new l.Provider(C.Compiler,{useExisting:P.RuntimeCompiler}),w.DomElementSchemaRegistry,new l.Provider(R.ElementSchemaRegistry,{useExisting:w.DomElementSchemaRegistry}),E.UrlResolver])},function(e,t,n){"use strict";function tokenizeHtml(e,t){return new z(new a.ParseSourceFile(e,t)).tokenize()}function unexpectedCharacterErrorMsg(e){var t=e===f?"EOF":i.StringWrapper.fromCharCode(e);return'Unexpected character "'+t+'"'}function unknownEntityErrorMsg(e){return'Unknown entity "'+e+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}function isNotWhitespace(e){return!isWhitespace(e)||e===f}function isWhitespace(e){return e>=h&&y>=e||e===W}function isNameEnd(e){return isWhitespace(e)||e===O||e===R||e===C||e===_||e===x}function isPrefixEnd(e){return(j>e||e>L)&&(M>e||e>V)&&(w>e||e>S)}function isDigitEntityEnd(e){return e==E||e==f||!isAsciiHexDigit(e)}function isNamedEntityEnd(e){return e==E||e==f||!isAsciiLetter(e)}function isTextEnd(e){
return e===A||e===f}function isAsciiLetter(e){return e>=j&&L>=e||e>=M&&V>=e}function isAsciiHexDigit(e){return e>=j&&B>=e||e>=M&&I>=e||e>=w&&S>=e}function compareCharCodeCaseInsensitive(e,t){return toUpperCaseCharCode(e)==toUpperCaseCharCode(t)}function toUpperCaseCharCode(e){return e>=j&&L>=e?e-j+M:e}function mergeTextTokens(e){for(var t,n=[],r=0;r<e.length;r++){var o=e[r];i.isPresent(t)&&t.type==c.TEXT&&o.type==c.TEXT?(t.parts[0]+=o.parts[0],t.sourceSpan.end=o.sourceSpan.end):(t=o,n.push(t))}return n}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(1),o=n(3),a=n(149),s=n(78);!function(e){e[e.TAG_OPEN_START=0]="TAG_OPEN_START",e[e.TAG_OPEN_END=1]="TAG_OPEN_END",e[e.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",e[e.TAG_CLOSE=3]="TAG_CLOSE",e[e.TEXT=4]="TEXT",e[e.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",e[e.RAW_TEXT=6]="RAW_TEXT",e[e.COMMENT_START=7]="COMMENT_START",e[e.COMMENT_END=8]="COMMENT_END",e[e.CDATA_START=9]="CDATA_START",e[e.CDATA_END=10]="CDATA_END",e[e.ATTR_NAME=11]="ATTR_NAME",e[e.ATTR_VALUE=12]="ATTR_VALUE",e[e.DOC_TYPE=13]="DOC_TYPE",e[e.EOF=14]="EOF"}(t.HtmlTokenType||(t.HtmlTokenType={}));var c=t.HtmlTokenType,u=function(){function HtmlToken(e,t,n){this.type=e,this.parts=t,this.sourceSpan=n}return HtmlToken}();t.HtmlToken=u;var l=function(e){function HtmlTokenError(t,n,r){e.call(this,r,t),this.tokenType=n}return r(HtmlTokenError,e),HtmlTokenError}(a.ParseError);t.HtmlTokenError=l;var p=function(){function HtmlTokenizeResult(e,t){this.tokens=e,this.errors=t}return HtmlTokenizeResult}();t.HtmlTokenizeResult=p,t.tokenizeHtml=tokenizeHtml;var f=0,h=9,d=10,g=13,y=32,m=33,_=34,v=35,b=38,C=39,P=45,R=47,w=48,E=59,S=57,D=58,A=60,x=61,O=62,T=91,N=93,M=65,I=70,k=88,V=90,j=97,B=102,L=122,F=120,W=160,U=/\r\n?/g,H=function(){function ControlFlowError(e){this.error=e}return ControlFlowError}(),z=function(){function _HtmlTokenizer(e){this.file=e,this.peek=-1,this.index=-1,this.line=0,this.column=-1,this.tokens=[],this.errors=[],this.input=e.content,this.length=e.content.length,this._advance()}return _HtmlTokenizer.prototype._processCarriageReturns=function(e){return i.StringWrapper.replaceAll(e,U,"\n")},_HtmlTokenizer.prototype.tokenize=function(){for(;this.peek!==f;){var e=this._getLocation();try{this._attemptCharCode(A)?this._attemptCharCode(m)?this._attemptCharCode(T)?this._consumeCdata(e):this._attemptCharCode(P)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(R)?this._consumeTagClose(e):this._consumeTagOpen(e):this._consumeText()}catch(t){if(!(t instanceof H))throw t;this.errors.push(t.error)}}return this._beginToken(c.EOF),this._endToken([]),new p(mergeTextTokens(this.tokens),this.errors)},_HtmlTokenizer.prototype._getLocation=function(){return new a.ParseLocation(this.file,this.index,this.line,this.column)},_HtmlTokenizer.prototype._getSpan=function(e,t){return i.isBlank(e)&&(e=this._getLocation()),i.isBlank(t)&&(t=this._getLocation()),new a.ParseSourceSpan(e,t)},_HtmlTokenizer.prototype._beginToken=function(e,t){void 0===t&&(t=null),i.isBlank(t)&&(t=this._getLocation()),this.currentTokenStart=t,this.currentTokenType=e},_HtmlTokenizer.prototype._endToken=function(e,t){void 0===t&&(t=null),i.isBlank(t)&&(t=this._getLocation());var n=new u(this.currentTokenType,e,new a.ParseSourceSpan(this.currentTokenStart,t));return this.tokens.push(n),this.currentTokenStart=null,this.currentTokenType=null,n},_HtmlTokenizer.prototype._createError=function(e,t){var n=new l(e,this.currentTokenType,t);return this.currentTokenStart=null,this.currentTokenType=null,new H(n)},_HtmlTokenizer.prototype._advance=function(){if(this.index>=this.length)throw this._createError(unexpectedCharacterErrorMsg(f),this._getSpan());this.peek===d?(this.line++,this.column=0):this.peek!==d&&this.peek!==g&&this.column++,this.index++,this.peek=this.index>=this.length?f:i.StringWrapper.charCodeAt(this.input,this.index)},_HtmlTokenizer.prototype._attemptCharCode=function(e){return this.peek===e?(this._advance(),!0):!1},_HtmlTokenizer.prototype._attemptCharCodeCaseInsensitive=function(e){return compareCharCodeCaseInsensitive(this.peek,e)?(this._advance(),!0):!1},_HtmlTokenizer.prototype._requireCharCode=function(e){var t=this._getLocation();if(!this._attemptCharCode(e))throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan(t,t))},_HtmlTokenizer.prototype._attemptStr=function(e){for(var t=0;t<e.length;t++)if(!this._attemptCharCode(i.StringWrapper.charCodeAt(e,t)))return!1;return!0},_HtmlTokenizer.prototype._attemptStrCaseInsensitive=function(e){for(var t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(i.StringWrapper.charCodeAt(e,t)))return!1;return!0},_HtmlTokenizer.prototype._requireStr=function(e){var t=this._getLocation();if(!this._attemptStr(e))throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan(t))},_HtmlTokenizer.prototype._attemptCharCodeUntilFn=function(e){for(;!e(this.peek);)this._advance()},_HtmlTokenizer.prototype._requireCharCodeUntilFn=function(e,t){var n=this._getLocation();if(this._attemptCharCodeUntilFn(e),this.index-n.offset<t)throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan(n,n))},_HtmlTokenizer.prototype._attemptUntilChar=function(e){for(;this.peek!==e;)this._advance()},_HtmlTokenizer.prototype._readChar=function(e){if(e&&this.peek===b)return this._decodeEntity();var t=this.index;return this._advance(),this.input[t]},_HtmlTokenizer.prototype._decodeEntity=function(){var e=this._getLocation();if(this._advance(),!this._attemptCharCode(v)){var t=this._savePosition();if(this._attemptCharCodeUntilFn(isNamedEntityEnd),this.peek!=E)return this._restorePosition(t),"&";this._advance();var n=this.input.substring(e.offset+1,this.index-1),r=s.NAMED_ENTITIES[n];if(i.isBlank(r))throw this._createError(unknownEntityErrorMsg(n),this._getSpan(e));return r}var o=this._attemptCharCode(F)||this._attemptCharCode(k),a=this._getLocation().offset;if(this._attemptCharCodeUntilFn(isDigitEntityEnd),this.peek!=E)throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan());this._advance();var c=this.input.substring(a,this.index-1);try{var u=i.NumberWrapper.parseInt(c,o?16:10);return i.StringWrapper.fromCharCode(u)}catch(l){var p=this.input.substring(e.offset+1,this.index-1);throw this._createError(unknownEntityErrorMsg(p),this._getSpan(e))}},_HtmlTokenizer.prototype._consumeRawText=function(e,t,n){var r,i=this._getLocation();this._beginToken(e?c.ESCAPABLE_RAW_TEXT:c.RAW_TEXT,i);for(var o=[];;){if(r=this._getLocation(),this._attemptCharCode(t)&&n())break;for(this.index>r.offset&&o.push(this.input.substring(r.offset,this.index));this.peek!==t;)o.push(this._readChar(e))}return this._endToken([this._processCarriageReturns(o.join(""))],r)},_HtmlTokenizer.prototype._consumeComment=function(e){var t=this;this._beginToken(c.COMMENT_START,e),this._requireCharCode(P),this._endToken([]);var n=this._consumeRawText(!1,P,function(){return t._attemptStr("->")});this._beginToken(c.COMMENT_END,n.sourceSpan.end),this._endToken([])},_HtmlTokenizer.prototype._consumeCdata=function(e){var t=this;this._beginToken(c.CDATA_START,e),this._requireStr("CDATA["),this._endToken([]);var n=this._consumeRawText(!1,N,function(){return t._attemptStr("]>")});this._beginToken(c.CDATA_END,n.sourceSpan.end),this._endToken([])},_HtmlTokenizer.prototype._consumeDocType=function(e){this._beginToken(c.DOC_TYPE,e),this._attemptUntilChar(O),this._advance(),this._endToken([this.input.substring(e.offset+2,this.index-1)])},_HtmlTokenizer.prototype._consumePrefixAndName=function(){for(var e=this.index,t=null;this.peek!==D&&!isPrefixEnd(this.peek);)this._advance();var n;this.peek===D?(this._advance(),t=this.input.substring(e,this.index-1),n=this.index):n=e,this._requireCharCodeUntilFn(isNameEnd,this.index===n?1:0);var r=this.input.substring(n,this.index);return[t,r]},_HtmlTokenizer.prototype._consumeTagOpen=function(e){var t,n=this._savePosition();try{if(!isAsciiLetter(this.peek))throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan());var r=this.index;for(this._consumeTagOpenStart(e),t=this.input.substring(r,this.index).toLowerCase(),this._attemptCharCodeUntilFn(isNotWhitespace);this.peek!==R&&this.peek!==O;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(isNotWhitespace),this._attemptCharCode(x)&&(this._attemptCharCodeUntilFn(isNotWhitespace),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(isNotWhitespace);this._consumeTagOpenEnd()}catch(i){if(i instanceof H)return this._restorePosition(n),this._beginToken(c.TEXT,e),void this._endToken(["<"]);throw i}var o=s.getHtmlTagDefinition(t).contentType;o===s.HtmlTagContentType.RAW_TEXT?this._consumeRawTextWithTagClose(t,!1):o===s.HtmlTagContentType.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(t,!0)},_HtmlTokenizer.prototype._consumeRawTextWithTagClose=function(e,t){var n=this,r=this._consumeRawText(t,A,function(){return n._attemptCharCode(R)?(n._attemptCharCodeUntilFn(isNotWhitespace),n._attemptStrCaseInsensitive(e)?(n._attemptCharCodeUntilFn(isNotWhitespace),!!n._attemptCharCode(O)):!1):!1});this._beginToken(c.TAG_CLOSE,r.sourceSpan.end),this._endToken([null,e])},_HtmlTokenizer.prototype._consumeTagOpenStart=function(e){this._beginToken(c.TAG_OPEN_START,e);var t=this._consumePrefixAndName();this._endToken(t)},_HtmlTokenizer.prototype._consumeAttributeName=function(){this._beginToken(c.ATTR_NAME);var e=this._consumePrefixAndName();this._endToken(e)},_HtmlTokenizer.prototype._consumeAttributeValue=function(){this._beginToken(c.ATTR_VALUE);var e;if(this.peek===C||this.peek===_){var t=this.peek;this._advance();for(var n=[];this.peek!==t;)n.push(this._readChar(!0));e=n.join(""),this._advance()}else{var r=this.index;this._requireCharCodeUntilFn(isNameEnd,1),e=this.input.substring(r,this.index)}this._endToken([this._processCarriageReturns(e)])},_HtmlTokenizer.prototype._consumeTagOpenEnd=function(){var e=this._attemptCharCode(R)?c.TAG_OPEN_END_VOID:c.TAG_OPEN_END;this._beginToken(e),this._requireCharCode(O),this._endToken([])},_HtmlTokenizer.prototype._consumeTagClose=function(e){this._beginToken(c.TAG_CLOSE,e),this._attemptCharCodeUntilFn(isNotWhitespace);var t;t=this._consumePrefixAndName(),this._attemptCharCodeUntilFn(isNotWhitespace),this._requireCharCode(O),this._endToken(t)},_HtmlTokenizer.prototype._consumeText=function(){var e=this._getLocation();this._beginToken(c.TEXT,e);for(var t=[this._readChar(!0)];!isTextEnd(this.peek);)t.push(this._readChar(!0));this._endToken([this._processCarriageReturns(t.join(""))])},_HtmlTokenizer.prototype._savePosition=function(){return[this.peek,this.index,this.column,this.line,this.tokens.length]},_HtmlTokenizer.prototype._restorePosition=function(e){this.peek=e[0],this.index=e[1],this.column=e[2],this.line=e[3];var t=e[4];t<this.tokens.length&&(this.tokens=o.ListWrapper.slice(this.tokens,0,t))},_HtmlTokenizer}()},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(6),s=n(1),c=n(3),u=n(14),l=n(78),p=n(151),f=s.CONST_EXPR({xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"}),h=function(e){function DomElementSchemaRegistry(){e.apply(this,arguments),this._protoElements=new Map}return r(DomElementSchemaRegistry,e),DomElementSchemaRegistry.prototype._getProtoElement=function(e){var t=this._protoElements.get(e);if(s.isBlank(t)){var n=l.splitNsName(e);t=s.isPresent(n[0])?u.DOM.createElementNS(f[n[0]],n[1]):u.DOM.createElement(n[1]),this._protoElements.set(e,t)}return t},DomElementSchemaRegistry.prototype.hasProperty=function(e,t){if(-1!==e.indexOf("-"))return!0;var n=this._getProtoElement(e);return u.DOM.hasProperty(n,t)},DomElementSchemaRegistry.prototype.getMappedPropName=function(e){var t=c.StringMapWrapper.get(u.DOM.attrToPropMap,e);return s.isPresent(t)?t:e},DomElementSchemaRegistry=i([a.Injectable(),o("design:paramtypes",[])],DomElementSchemaRegistry)}(p.ElementSchemaRegistry);t.DomElementSchemaRegistry=h},function(e,t,n){"use strict";function stripComments(e){return i.StringWrapper.replaceAllMapped(e,C,function(e){return""})}function processRules(e,t){var n=escapeBlocks(e),r=0;return i.StringWrapper.replaceAllMapped(n.escapedString,P,function(e){var o=e[2],a="",s=e[4],c="";i.isPresent(e[4])&&e[4].startsWith("{"+S)&&(a=n.blocks[r++],s=e[4].substring(S.length+1),c="{");var u=t(new D(o,a));return""+e[1]+u.selector+e[3]+c+u.content+s})}function escapeBlocks(e){for(var t=i.StringWrapper.split(e,R),n=[],r=[],o=0,a=[],s=0;s<t.length;s++){var c=t[s];c==E&&o--,o>0?a.push(c):(a.length>0&&(r.push(a.join("")),n.push(S),a=[]),n.push(c)),c==w&&o++}return a.length>0&&(r.push(a.join("")),n.push(S)),new A(n.join(""),r)}var r=n(3),i=n(1),o=function(){function ShadowCss(){this.strictStyling=!0}return ShadowCss.prototype.shimCssText=function(e,t,n){return void 0===n&&(n=""),e=stripComments(e),e=this._insertDirectives(e),this._scopeCssText(e,t,n)},ShadowCss.prototype._insertDirectives=function(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)},ShadowCss.prototype._insertPolyfillDirectivesInCssText=function(e){return i.StringWrapper.replaceAllMapped(e,a,function(e){return e[1]+"{"})},ShadowCss.prototype._insertPolyfillRulesInCssText=function(e){return i.StringWrapper.replaceAllMapped(e,s,function(e){var t=e[0];return t=i.StringWrapper.replace(t,e[1],""),t=i.StringWrapper.replace(t,e[2],""),e[3]+t})},ShadowCss.prototype._scopeCssText=function(e,t,n){var r=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),i.isPresent(t)&&(e=this._scopeSelectors(e,t,n)),e=e+"\n"+r,e.trim()},ShadowCss.prototype._extractUnscopedRulesFromCssText=function(e){for(var t,n="",r=i.RegExpWrapper.matcher(c,e);i.isPresent(t=i.RegExpMatcherWrapper.next(r));){var o=t[0];o=i.StringWrapper.replace(o,t[2],""),o=i.StringWrapper.replace(o,t[1],t[3]),n+=o+"\n\n"}return n},ShadowCss.prototype._convertColonHost=function(e){return this._convertColonRule(e,f,this._colonHostPartReplacer)},ShadowCss.prototype._convertColonHostContext=function(e){return this._convertColonRule(e,h,this._colonHostContextPartReplacer)},ShadowCss.prototype._convertColonRule=function(e,t,n){return i.StringWrapper.replaceAllMapped(e,t,function(e){if(i.isPresent(e[2])){for(var t=e[2].split(","),r=[],o=0;o<t.length;o++){var a=t[o];if(i.isBlank(a))break;a=a.trim(),r.push(n(d,a,e[3]))}return r.join(",")}return d+e[3]})},ShadowCss.prototype._colonHostContextPartReplacer=function(e,t,n){return i.StringWrapper.contains(t,u)?this._colonHostPartReplacer(e,t,n):e+t+n+", "+t+" "+e+n},ShadowCss.prototype._colonHostPartReplacer=function(e,t,n){return e+i.StringWrapper.replace(t,u,"")+n},ShadowCss.prototype._convertShadowDOMSelectors=function(e){for(var t=0;t<g.length;t++)e=i.StringWrapper.replaceAll(e,g[t]," ");return e},ShadowCss.prototype._scopeSelectors=function(e,t,n){var r=this;return processRules(e,function(e){var i=e.selector,o=e.content;return"@"!=e.selector[0]||e.selector.startsWith("@page")?i=r._scopeSelector(e.selector,t,n,r.strictStyling):e.selector.startsWith("@media")&&(o=r._scopeSelectors(e.content,t,n)),new D(i,o)})},ShadowCss.prototype._scopeSelector=function(e,t,n,r){for(var o=[],a=e.split(","),s=0;s<a.length;s++){var c=a[s].trim(),u=i.StringWrapper.split(c,y),l=u[0];this._selectorNeedsScoping(l,t)&&(u[0]=r&&!i.StringWrapper.contains(l,d)?this._applyStrictSelectorScope(l,t):this._applySelectorScope(l,t,n)),o.push(u.join(" "))}return o.join(", ")},ShadowCss.prototype._selectorNeedsScoping=function(e,t){var n=this._makeScopeMatcher(t);return!i.isPresent(i.RegExpWrapper.firstMatch(n,e))},ShadowCss.prototype._makeScopeMatcher=function(e){var t=/\[/g,n=/\]/g;return e=i.StringWrapper.replaceAll(e,t,"\\["),e=i.StringWrapper.replaceAll(e,n,"\\]"),i.RegExpWrapper.create("^("+e+")"+m,"m")},ShadowCss.prototype._applySelectorScope=function(e,t,n){return this._applySimpleSelectorScope(e,t,n)},ShadowCss.prototype._applySimpleSelectorScope=function(e,t,n){if(i.isPresent(i.RegExpWrapper.firstMatch(_,e))){var r=this.strictStyling?"["+n+"]":t;return e=i.StringWrapper.replace(e,d,r),i.StringWrapper.replaceAll(e,_,r+" ")}return t+" "+e},ShadowCss.prototype._applyStrictSelectorScope=function(e,t){var n=/\[is=([^\]]*)\]/g;t=i.StringWrapper.replaceAllMapped(t,n,function(e){return e[1]});for(var o=[" ",">","+","~"],a=e,s="["+t+"]",c=0;c<o.length;c++){var u=o[c],l=a.split(u);a=l.map(function(e){var t=i.StringWrapper.replaceAll(e.trim(),_,"");if(t.length>0&&!r.ListWrapper.contains(o,t)&&!i.StringWrapper.contains(t,s)){var n=/([^:]*)(:*)(.*)/g,a=i.RegExpWrapper.firstMatch(n,t);i.isPresent(a)&&(e=a[1]+s+a[2]+a[3])}return e}).join(u)}return a},ShadowCss.prototype._insertPolyfillHostInCssText=function(e){return e=i.StringWrapper.replaceAll(e,b,l),e=i.StringWrapper.replaceAll(e,v,u)},ShadowCss}();t.ShadowCss=o;var a=/polyfill-next-selector[^}]*content:[\s]*?['"](.*?)['"][;\s]*}([^{]*?){/gim,s=/(polyfill-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,c=/(polyfill-unscoped-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,u="-shadowcsshost",l="-shadowcsscontext",p=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",f=i.RegExpWrapper.create("("+u+p,"im"),h=i.RegExpWrapper.create("("+l+p,"im"),d=u+"-no-combinator",g=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],y=/(?:>>>)|(?:\/deep\/)/g,m="([>\\s~+[.,{:][\\s\\S]*)?$",_=i.RegExpWrapper.create(u,"im"),v=/:host/gim,b=/:host-context/gim,C=/\/\*[\s\S]*?\*\//g,P=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,R=/([{}])/g,w="{",E="}",S="%BLOCK%",D=function(){function CssRule(e,t){this.selector=e,this.content=t}return CssRule}();t.CssRule=D,t.processRules=processRules;var A=function(){function StringWithEscapedBlocks(e,t){this.escapedString=e,this.blocks=t}return StringWithEscapedBlocks}()},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(1),a=function(){function AngularEntrypoint(e){this.name=e}return AngularEntrypoint=r([o.CONST(),i("design:paramtypes",[String])],AngularEntrypoint)}();t.AngularEntrypoint=a},function(e,t,n){"use strict";var r=n(1),i=n(6),o=n(80),a=n(23),s=n(260),c=n(110),u=n(110),l=n(166),p=n(107),f=n(164),h=n(69),d=n(69),g=n(83),y=n(83);t.APPLICATION_COMMON_PROVIDERS=r.CONST_EXPR([new i.Provider(h.Compiler,{useClass:d.Compiler_}),o.APP_ID_RANDOM_PROVIDER,s.ResolvedMetadataCache,new i.Provider(c.AppViewManager,{useClass:u.AppViewManager_}),l.ViewResolver,new i.Provider(a.IterableDiffers,{useValue:a.defaultIterableDiffers}),new i.Provider(a.KeyValueDiffers,{useValue:a.defaultKeyValueDiffers}),p.DirectiveResolver,f.PipeResolver,new i.Provider(g.DynamicComponentLoader,{useClass:y.DynamicComponentLoader_})])},function(e,t,n){"use strict";function coalesce(e){for(var t=[],n=[],o=new i.Map,a=0,s=i.ListWrapper.createFixedSize(e.length),c=0;c<e.length;c++){var u=s[c];r.isPresent(u)&&(a--,u.fixedArgs[0]=t.length);var l=e[c],p=_cloneAndUpdateIndexes(l,t,o);if(p.isSkipRecord())t.push(p),a++,s[p.fixedArgs[0]]=p;else{var f=_mayBeAddRecord(p,t,n,a>0);o.set(l.selfIndex,f.selfIndex)}}return _optimizeSkips(t)}function _optimizeSkips(e){for(var t=[],n=i.ListWrapper.createFixedSize(e.length),a=new i.Map,s=0;s<e.length;s++){var c=n[s];r.isPresent(c)&&(c.fixedArgs[0]=t.length);var u=e[s];if(u.isSkipRecord()){if(u.isConditionalSkipRecord()&&u.fixedArgs[0]===s+2&&s<e.length-1&&e[s+1].mode===o.RecordType.SkipRecords&&(u.mode=u.mode===o.RecordType.SkipRecordsIf?o.RecordType.SkipRecordsIfNot:o.RecordType.SkipRecordsIf,u.fixedArgs[0]=e[s+1].fixedArgs[0],s++),u.fixedArgs[0]>s+1){var l=_cloneAndUpdateIndexes(u,t,a);t.push(l),n[l.fixedArgs[0]]=l}}else{var l=_cloneAndUpdateIndexes(u,t,a);t.push(l),a.set(u.selfIndex,l.selfIndex)}}return t}function _mayBeAddRecord(e,t,n,i){var o=_findFirstMatch(e,t,n);return r.isPresent(o)?(e.lastInBinding?(t.push(_createSelfRecord(e,o.selfIndex,t.length+1)),o.referencedBySelf=!0):e.argumentToPureFunction&&(o.argumentToPureFunction=!0),o):(i&&n.push(e.selfIndex),t.push(e),e)}function _findFirstMatch(e,t,n){return t.find(function(t){return-1==n.indexOf(t.selfIndex)&&t.mode!==o.RecordType.DirectiveLifecycle&&_haveSameDirIndex(t,e)&&t.mode===e.mode&&r.looseIdentical(t.funcOrValue,e.funcOrValue)&&t.contextIndex===e.contextIndex&&r.looseIdentical(t.name,e.name)&&i.ListWrapper.equals(t.args,e.args)})}function _cloneAndUpdateIndexes(e,t,n){var r=e.args.map(function(e){return _srcToDstSelfIndex(n,e)}),i=_srcToDstSelfIndex(n,e.contextIndex),a=t.length+1;return new o.ProtoRecord(e.mode,e.name,e.funcOrValue,r,e.fixedArgs,i,e.directiveIndex,a,e.bindingRecord,e.lastInBinding,e.lastInDirective,e.argumentToPureFunction,e.referencedBySelf,e.propertyBindingIndex)}function _srcToDstSelfIndex(e,t){var n=e.get(t);return r.isPresent(n)?n:t}function _createSelfRecord(e,t,n){return new o.ProtoRecord(o.RecordType.Self,"self",null,[],e.fixedArgs,t,e.directiveIndex,n,e.bindingRecord,e.lastInBinding,e.lastInDirective,!1,!1,e.propertyBindingIndex)}function _haveSameDirIndex(e,t){var n=r.isBlank(e.directiveIndex)?null:e.directiveIndex.directiveIndex,i=r.isBlank(e.directiveIndex)?null:e.directiveIndex.elementIndex,o=r.isBlank(t.directiveIndex)?null:t.directiveIndex.directiveIndex,a=r.isBlank(t.directiveIndex)?null:t.directiveIndex.elementIndex;return n===o&&i===a}var r=n(1),i=n(3),o=n(81);t.coalesce=coalesce},function(e,t,n){"use strict";var r=n(1),i=n(247),o=n(81),a=n(5),s=function(){function CodegenLogicUtil(e,t,n){this._names=e,this._utilName=t,this._changeDetectorStateName=n}return CodegenLogicUtil.prototype.genPropertyBindingEvalValue=function(e){var t=this;return this._genEvalValue(e,function(e){return t._names.getLocalName(e)},this._names.getLocalsAccessorName())},CodegenLogicUtil.prototype.genEventBindingEvalValue=function(e,t){var n=this;return this._genEvalValue(t,function(t){return n._names.getEventLocalName(e,t)},"locals")},CodegenLogicUtil.prototype._genEvalValue=function(e,t,n){var r,s=-1==e.contextIndex?this._names.getDirectiveName(e.directiveIndex):t(e.contextIndex),c=e.args.map(function(e){return t(e)}).join(", ");switch(e.mode){case o.RecordType.Self:r=s;break;case o.RecordType.Const:r=i.codify(e.funcOrValue);break;case o.RecordType.PropertyRead:r=s+"."+e.name;break;case o.RecordType.SafeProperty:var u=s+"."+e.name;r=this._utilName+".isValueBlank("+s+") ? null : "+u;break;case o.RecordType.PropertyWrite:r=s+"."+e.name+" = "+t(e.args[0]);break;case o.RecordType.Local:r=n+".get("+i.rawString(e.name)+")";break;case o.RecordType.InvokeMethod:r=s+"."+e.name+"("+c+")";break;case o.RecordType.SafeMethodInvoke:var l=s+"."+e.name+"("+c+")";r=this._utilName+".isValueBlank("+s+") ? null : "+l;break;case o.RecordType.InvokeClosure:r=s+"("+c+")";break;case o.RecordType.PrimitiveOp:r=this._utilName+"."+e.name+"("+c+")";break;case o.RecordType.CollectionLiteral:r=this._utilName+"."+e.name+"("+c+")";break;case o.RecordType.Interpolate:r=this._genInterpolation(e);break;case o.RecordType.KeyedRead:r=s+"["+t(e.args[0])+"]";break;case o.RecordType.KeyedWrite:r=s+"["+t(e.args[0])+"] = "+t(e.args[1]);break;case o.RecordType.Chain:r=""+t(e.args[e.args.length-1]);break;default:throw new a.BaseException("Unknown operation "+e.mode)}return t(e.selfIndex)+" = "+r+";"},CodegenLogicUtil.prototype.genPropertyBindingTargets=function(e,t){var n=this,o=e.map(function(e){if(r.isBlank(e))return"null";var o=t?i.codify(e.debug):"null";return n._utilName+".bindingTarget("+i.codify(e.mode)+", "+e.elementIndex+", "+i.codify(e.name)+", "+i.codify(e.unit)+", "+o+")"});return"["+o.join(", ")+"]"},CodegenLogicUtil.prototype.genDirectiveIndices=function(e){var t=this,n=e.map(function(e){return t._utilName+".directiveIndex("+e.directiveIndex.elementIndex+", "+e.directiveIndex.directiveIndex+")"});return"["+n.join(", ")+"]"},CodegenLogicUtil.prototype._genInterpolation=function(e){for(var t=[],n=0;n<e.args.length;++n)t.push(i.codify(e.fixedArgs[n])),t.push(this._utilName+".s("+this._names.getLocalName(e.args[n])+")");return t.push(i.codify(e.fixedArgs[e.args.length])),i.combineGeneratedStrings(t)},CodegenLogicUtil.prototype.genHydrateDirectives=function(e){for(var t=this,n=[],i=0,o=0;o<e.length;++o){var a=e[o],s=this._names.getDirectiveName(a.directiveIndex);n.push(s+" = "+this._genReadDirective(o)+";"),r.isPresent(a.outputs)&&a.outputs.forEach(function(e){var o=t._genEventHandler(a.directiveIndex.elementIndex,e[1]),c="this.outputSubscriptions["+i++ +"] = "+s+"."+e[0];r.IS_DART?n.push(c+".listen("+o+");"):n.push(c+".subscribe({next: "+o+"});")})}if(i>0){var c="this.outputSubscriptions";r.IS_DART?n.unshift(c+" = new List("+i+");"):n.unshift(c+" = new Array("+i+");")}return n.join("\n")},CodegenLogicUtil.prototype.genDirectivesOnDestroy=function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];if(r.callOnDestroy){var i=this._names.getDirectiveName(r.directiveIndex);t.push(i+".ngOnDestroy();")}}return t.join("\n")},CodegenLogicUtil.prototype._genEventHandler=function(e,t){return r.IS_DART?"(event) => this.handleEvent('"+t+"', "+e+", event)":"(function(event) { return this.handleEvent('"+t+"', "+e+", event); }).bind(this)"},CodegenLogicUtil.prototype._genReadDirective=function(e){return"this.getDirectiveFor(directives, "+e+")"},CodegenLogicUtil.prototype.genHydrateDetectors=function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];r.isDefaultChangeDetection()||t.push(this._names.getDetectorName(r.directiveIndex)+" = this.getDetectorFor(directives, "+n+");")}return t.join("\n")},CodegenLogicUtil.prototype.genContentLifecycleCallbacks=function(e){for(var t=[],n=r.IS_DART?"==":"===",i=e.length-1;i>=0;--i){var o=e[i];o.callAfterContentInit&&t.push("if("+this._names.getStateName()+" "+n+" "+this._changeDetectorStateName+".NeverChecked) "+this._names.getDirectiveName(o.directiveIndex)+".ngAfterContentInit();"),o.callAfterContentChecked&&t.push(this._names.getDirectiveName(o.directiveIndex)+".ngAfterContentChecked();")}return t},CodegenLogicUtil.prototype.genViewLifecycleCallbacks=function(e){for(var t=[],n=r.IS_DART?"==":"===",i=e.length-1;i>=0;--i){var o=e[i];o.callAfterViewInit&&t.push("if("+this._names.getStateName()+" "+n+" "+this._changeDetectorStateName+".NeverChecked) "+this._names.getDirectiveName(o.directiveIndex)+".ngAfterViewInit();"),o.callAfterViewChecked&&t.push(this._names.getDirectiveName(o.directiveIndex)+".ngAfterViewChecked();")}return t},CodegenLogicUtil}();t.CodegenLogicUtil=s},function(e,t,n){"use strict";function sanitizeName(e){return r.StringWrapper.replaceAll(e,d,"")}var r=n(1),i=n(3),o="state",a="propertyBindingIndex",s="directiveIndices",c="dispatcher",u="locals",l="mode",p="pipes",f="protos";t.CONTEXT_ACCESSOR="context",t.CONTEXT_INDEX=0;var h="this.",d=/\W/g;t.sanitizeName=sanitizeName;var g=function(){function CodegenNameUtil(e,n,r,o){this._records=e,this._eventBindings=n,this._directiveRecords=r,this._utilName=o,this._sanitizedEventNames=new i.Map,this._sanitizedNames=i.ListWrapper.createFixedSize(this._records.length+1),this._sanitizedNames[t.CONTEXT_INDEX]=t.CONTEXT_ACCESSOR;for(var a=0,s=this._records.length;s>a;++a)this._sanitizedNames[a+1]=sanitizeName(""+this._records[a].name+a);for(var c=0;c<n.length;++c){for(var u=n[c],l=[t.CONTEXT_ACCESSOR],a=0,s=u.records.length;s>a;++a)l.push(sanitizeName(""+u.records[a].name+a+"_"+c));this._sanitizedEventNames.set(u,l)}}return CodegenNameUtil.prototype._addFieldPrefix=function(e){return""+h+e},CodegenNameUtil.prototype.getDispatcherName=function(){return this._addFieldPrefix(c)},CodegenNameUtil.prototype.getPipesAccessorName=function(){return this._addFieldPrefix(p)},CodegenNameUtil.prototype.getProtosName=function(){return this._addFieldPrefix(f)},CodegenNameUtil.prototype.getDirectivesAccessorName=function(){return this._addFieldPrefix(s)},CodegenNameUtil.prototype.getLocalsAccessorName=function(){return this._addFieldPrefix(u)},CodegenNameUtil.prototype.getStateName=function(){return this._addFieldPrefix(o)},CodegenNameUtil.prototype.getModeName=function(){return this._addFieldPrefix(l)},CodegenNameUtil.prototype.getPropertyBindingIndex=function(){return this._addFieldPrefix(a)},CodegenNameUtil.prototype.getLocalName=function(e){return"l_"+this._sanitizedNames[e]},CodegenNameUtil.prototype.getEventLocalName=function(e,t){return"l_"+this._sanitizedEventNames.get(e)[t]},CodegenNameUtil.prototype.getChangeName=function(e){return"c_"+this._sanitizedNames[e]},CodegenNameUtil.prototype.genInitLocals=function(){for(var e=[],n=[],r=0,o=this.getFieldCount();o>r;++r)if(r==t.CONTEXT_INDEX)e.push(this.getLocalName(r)+" = "+this.getFieldName(r));else{var a=this._records[r-1];if(a.argumentToPureFunction){var s=this.getChangeName(r);e.push(this.getLocalName(r)+","+s),n.push(s)}else e.push(""+this.getLocalName(r))}var c=i.ListWrapper.isEmpty(n)?"":n.join("=")+" = false;";return"var "+e.join(",")+";"+c},CodegenNameUtil.prototype.genInitEventLocals=function(){var e=this,n=[this.getLocalName(t.CONTEXT_INDEX)+" = "+this.getFieldName(t.CONTEXT_INDEX)];return this._sanitizedEventNames.forEach(function(r,i){for(var o=0;o<r.length;++o)o!==t.CONTEXT_INDEX&&n.push(""+e.getEventLocalName(i,o))}),n.length>1?"var "+n.join(",")+";":""},CodegenNameUtil.prototype.getPreventDefaultAccesor=function(){return"preventDefault"},CodegenNameUtil.prototype.getFieldCount=function(){return this._sanitizedNames.length},CodegenNameUtil.prototype.getFieldName=function(e){return this._addFieldPrefix(this._sanitizedNames[e])},CodegenNameUtil.prototype.getAllFieldNames=function(){for(var e=[],t=0,n=this.getFieldCount();n>t;++t)(0===t||this._records[t-1].shouldBeChecked())&&e.push(this.getFieldName(t));for(var r=0,i=this._records.length;i>r;++r){var o=this._records[r];o.isPipeRecord()&&e.push(this.getPipeName(o.selfIndex))}for(var a=0,s=this._directiveRecords.length;s>a;++a){var c=this._directiveRecords[a];e.push(this.getDirectiveName(c.directiveIndex)),c.isDefaultChangeDetection()||e.push(this.getDetectorName(c.directiveIndex))}return e},CodegenNameUtil.prototype.genDehydrateFields=function(){var e=this.getAllFieldNames();return i.ListWrapper.removeAt(e,t.CONTEXT_INDEX),i.ListWrapper.isEmpty(e)?"":(e.push(this._utilName+".uninitialized;"),e.join(" = "))},CodegenNameUtil.prototype.genPipeOnDestroy=function(){var e=this;return this._records.filter(function(e){return e.isPipeRecord()}).map(function(t){return e._utilName+".callPipeOnDestroy("+e.getPipeName(t.selfIndex)+");"}).join("\n")},CodegenNameUtil.prototype.getPipeName=function(e){return this._addFieldPrefix(this._sanitizedNames[e]+"_pipe")},CodegenNameUtil.prototype.getDirectiveName=function(e){return this._addFieldPrefix("directive_"+e.name)},CodegenNameUtil.prototype.getDetectorName=function(e){return this._addFieldPrefix("detector_"+e.name)},CodegenNameUtil}();t.CodegenNameUtil=g;
},function(e,t){"use strict";var n=function(){function EventBinding(e,t,n,r){this.eventName=e,this.elIndex=t,this.dirIndex=n,this.records=r}return EventBinding}();t.EventBinding=n},function(e,t,n){"use strict";var r=n(245),i=function(){function JitProtoChangeDetector(e){this.definition=e,this._factory=this._createFactory(e)}return JitProtoChangeDetector.isSupported=function(){return!0},JitProtoChangeDetector.prototype.instantiate=function(){return this._factory()},JitProtoChangeDetector.prototype._createFactory=function(e){return new r.ChangeDetectorJITGenerator(e,"util","AbstractChangeDetector","ChangeDetectorStatus").generate()},JitProtoChangeDetector}();t.JitProtoChangeDetector=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(159),s=n(1),c=n(5),u=n(3),l=n(254),p=n(18),f=n(106),h=new f.ImplicitReceiver,d=/\{\{([\s\S]*?)\}\}/g,g=function(e){function ParseException(t,n,r,i){e.call(this,"Parser Error: "+t+" "+r+" ["+n+"] in "+i)}return r(ParseException,e),ParseException}(c.BaseException),y=function(){function SplitInterpolation(e,t){this.strings=e,this.expressions=t}return SplitInterpolation}();t.SplitInterpolation=y;var m=function(){function Parser(e,t){void 0===t&&(t=null),this._lexer=e,this._reflector=s.isPresent(t)?t:p.reflector}return Parser.prototype.parseAction=function(e,t){this._checkNoInterpolation(e,t);var n=this._lexer.tokenize(e),r=new _(e,t,n,this._reflector,!0).parseChain();return new f.ASTWithSource(r,e,t)},Parser.prototype.parseBinding=function(e,t){var n=this._parseBindingAst(e,t);return new f.ASTWithSource(n,e,t)},Parser.prototype.parseSimpleBinding=function(e,t){var n=this._parseBindingAst(e,t);if(!v.check(n))throw new g("Host binding expression can only contain field access and constants",e,t);return new f.ASTWithSource(n,e,t)},Parser.prototype._parseBindingAst=function(e,t){var n=this._parseQuote(e,t);if(s.isPresent(n))return n;this._checkNoInterpolation(e,t);var r=this._lexer.tokenize(e);return new _(e,t,r,this._reflector,!1).parseChain()},Parser.prototype._parseQuote=function(e,t){if(s.isBlank(e))return null;var n=e.indexOf(":");if(-1==n)return null;var r=e.substring(0,n).trim();if(!l.isIdentifier(r))return null;var i=e.substring(n+1);return new f.Quote(r,i,t)},Parser.prototype.parseTemplateBindings=function(e,t){var n=this._lexer.tokenize(e);return new _(e,t,n,this._reflector,!1).parseTemplateBindings()},Parser.prototype.parseInterpolation=function(e,t){var n=this.splitInterpolation(e,t);if(null==n)return null;for(var r=[],i=0;i<n.expressions.length;++i){var o=this._lexer.tokenize(n.expressions[i]),a=new _(e,t,o,this._reflector,!1).parseChain();r.push(a)}return new f.ASTWithSource(new f.Interpolation(n.strings,r),e,t)},Parser.prototype.splitInterpolation=function(e,t){var n=s.StringWrapper.split(e,d);if(n.length<=1)return null;for(var r=[],i=[],o=0;o<n.length;o++){var a=n[o];if(o%2===0)r.push(a);else{if(!(a.trim().length>0))throw new g("Blank expressions are not allowed in interpolated strings",e,"at column "+this._findInterpolationErrorColumn(n,o)+" in",t);i.push(a)}}return new y(r,i)},Parser.prototype.wrapLiteralPrimitive=function(e,t){return new f.ASTWithSource(new f.LiteralPrimitive(e),e,t)},Parser.prototype._checkNoInterpolation=function(e,t){var n=s.StringWrapper.split(e,d);if(n.length>1)throw new g("Got interpolation ({{}}) where expression was expected",e,"at column "+this._findInterpolationErrorColumn(n,1)+" in",t)},Parser.prototype._findInterpolationErrorColumn=function(e,t){for(var n="",r=0;t>r;r++)n+=r%2===0?e[r]:"{{"+e[r]+"}}";return n.length},Parser=i([a.Injectable(),o("design:paramtypes",[l.Lexer,p.Reflector])],Parser)}();t.Parser=m;var _=function(){function _ParseAST(e,t,n,r,i){this.input=e,this.location=t,this.tokens=n,this.reflector=r,this.parseAction=i,this.index=0}return _ParseAST.prototype.peek=function(e){var t=this.index+e;return t<this.tokens.length?this.tokens[t]:l.EOF},Object.defineProperty(_ParseAST.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(_ParseAST.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index:this.input.length},enumerable:!0,configurable:!0}),_ParseAST.prototype.advance=function(){this.index++},_ParseAST.prototype.optionalCharacter=function(e){return this.next.isCharacter(e)?(this.advance(),!0):!1},_ParseAST.prototype.optionalKeywordVar=function(){return this.peekKeywordVar()?(this.advance(),!0):!1},_ParseAST.prototype.peekKeywordVar=function(){return this.next.isKeywordVar()||this.next.isOperator("#")},_ParseAST.prototype.expectCharacter=function(e){this.optionalCharacter(e)||this.error("Missing expected "+s.StringWrapper.fromCharCode(e))},_ParseAST.prototype.optionalOperator=function(e){return this.next.isOperator(e)?(this.advance(),!0):!1},_ParseAST.prototype.expectOperator=function(e){this.optionalOperator(e)||this.error("Missing expected operator "+e)},_ParseAST.prototype.expectIdentifierOrKeyword=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()||this.error("Unexpected token "+e+", expected identifier or keyword"),this.advance(),e.toString()},_ParseAST.prototype.expectIdentifierOrKeywordOrString=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()||this.error("Unexpected token "+e+", expected identifier, keyword, or string"),this.advance(),e.toString()},_ParseAST.prototype.parseChain=function(){for(var e=[];this.index<this.tokens.length;){var t=this.parsePipe();if(e.push(t),this.optionalCharacter(l.$SEMICOLON))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(l.$SEMICOLON););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==e.length?new f.EmptyExpr:1==e.length?e[0]:new f.Chain(e)},_ParseAST.prototype.parsePipe=function(){var e=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var t=this.expectIdentifierOrKeyword(),n=[];this.optionalCharacter(l.$COLON);)n.push(this.parseExpression());e=new f.BindingPipe(e,t,n)}while(this.optionalOperator("|"))}return e},_ParseAST.prototype.parseExpression=function(){return this.parseConditional()},_ParseAST.prototype.parseConditional=function(){var e=this.inputIndex,t=this.parseLogicalOr();if(this.optionalOperator("?")){var n=this.parsePipe();if(!this.optionalCharacter(l.$COLON)){var r=this.inputIndex,i=this.input.substring(e,r);this.error("Conditional expression "+i+" requires all 3 expressions")}var o=this.parsePipe();return new f.Conditional(t,n,o)}return t},_ParseAST.prototype.parseLogicalOr=function(){for(var e=this.parseLogicalAnd();this.optionalOperator("||");)e=new f.Binary("||",e,this.parseLogicalAnd());return e},_ParseAST.prototype.parseLogicalAnd=function(){for(var e=this.parseEquality();this.optionalOperator("&&");)e=new f.Binary("&&",e,this.parseEquality());return e},_ParseAST.prototype.parseEquality=function(){for(var e=this.parseRelational();;)if(this.optionalOperator("=="))e=new f.Binary("==",e,this.parseRelational());else if(this.optionalOperator("==="))e=new f.Binary("===",e,this.parseRelational());else if(this.optionalOperator("!="))e=new f.Binary("!=",e,this.parseRelational());else{if(!this.optionalOperator("!=="))return e;e=new f.Binary("!==",e,this.parseRelational())}},_ParseAST.prototype.parseRelational=function(){for(var e=this.parseAdditive();;)if(this.optionalOperator("<"))e=new f.Binary("<",e,this.parseAdditive());else if(this.optionalOperator(">"))e=new f.Binary(">",e,this.parseAdditive());else if(this.optionalOperator("<="))e=new f.Binary("<=",e,this.parseAdditive());else{if(!this.optionalOperator(">="))return e;e=new f.Binary(">=",e,this.parseAdditive())}},_ParseAST.prototype.parseAdditive=function(){for(var e=this.parseMultiplicative();;)if(this.optionalOperator("+"))e=new f.Binary("+",e,this.parseMultiplicative());else{if(!this.optionalOperator("-"))return e;e=new f.Binary("-",e,this.parseMultiplicative())}},_ParseAST.prototype.parseMultiplicative=function(){for(var e=this.parsePrefix();;)if(this.optionalOperator("*"))e=new f.Binary("*",e,this.parsePrefix());else if(this.optionalOperator("%"))e=new f.Binary("%",e,this.parsePrefix());else{if(!this.optionalOperator("/"))return e;e=new f.Binary("/",e,this.parsePrefix())}},_ParseAST.prototype.parsePrefix=function(){return this.optionalOperator("+")?this.parsePrefix():this.optionalOperator("-")?new f.Binary("-",new f.LiteralPrimitive(0),this.parsePrefix()):this.optionalOperator("!")?new f.PrefixNot(this.parsePrefix()):this.parseCallChain()},_ParseAST.prototype.parseCallChain=function(){for(var e=this.parsePrimary();;)if(this.optionalCharacter(l.$PERIOD))e=this.parseAccessMemberOrMethodCall(e,!1);else if(this.optionalOperator("?."))e=this.parseAccessMemberOrMethodCall(e,!0);else if(this.optionalCharacter(l.$LBRACKET)){var t=this.parsePipe();if(this.expectCharacter(l.$RBRACKET),this.optionalOperator("=")){var n=this.parseConditional();e=new f.KeyedWrite(e,t,n)}else e=new f.KeyedRead(e,t)}else{if(!this.optionalCharacter(l.$LPAREN))return e;var r=this.parseCallArguments();this.expectCharacter(l.$RPAREN),e=new f.FunctionCall(e,r)}},_ParseAST.prototype.parsePrimary=function(){if(this.optionalCharacter(l.$LPAREN)){var e=this.parsePipe();return this.expectCharacter(l.$RPAREN),e}if(this.next.isKeywordNull()||this.next.isKeywordUndefined())return this.advance(),new f.LiteralPrimitive(null);if(this.next.isKeywordTrue())return this.advance(),new f.LiteralPrimitive(!0);if(this.next.isKeywordFalse())return this.advance(),new f.LiteralPrimitive(!1);if(this.optionalCharacter(l.$LBRACKET)){var t=this.parseExpressionList(l.$RBRACKET);return this.expectCharacter(l.$RBRACKET),new f.LiteralArray(t)}if(this.next.isCharacter(l.$LBRACE))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(h,!1);if(this.next.isNumber()){var n=this.next.toNumber();return this.advance(),new f.LiteralPrimitive(n)}if(this.next.isString()){var r=this.next.toString();return this.advance(),new f.LiteralPrimitive(r)}throw this.index>=this.tokens.length?this.error("Unexpected end of expression: "+this.input):this.error("Unexpected token "+this.next),new c.BaseException("Fell through all cases in parsePrimary")},_ParseAST.prototype.parseExpressionList=function(e){var t=[];if(!this.next.isCharacter(e))do t.push(this.parsePipe());while(this.optionalCharacter(l.$COMMA));return t},_ParseAST.prototype.parseLiteralMap=function(){var e=[],t=[];if(this.expectCharacter(l.$LBRACE),!this.optionalCharacter(l.$RBRACE)){do{var n=this.expectIdentifierOrKeywordOrString();e.push(n),this.expectCharacter(l.$COLON),t.push(this.parsePipe())}while(this.optionalCharacter(l.$COMMA));this.expectCharacter(l.$RBRACE)}return new f.LiteralMap(e,t)},_ParseAST.prototype.parseAccessMemberOrMethodCall=function(e,t){void 0===t&&(t=!1);var n=this.expectIdentifierOrKeyword();if(this.optionalCharacter(l.$LPAREN)){var r=this.parseCallArguments();this.expectCharacter(l.$RPAREN);var i=this.reflector.method(n);return t?new f.SafeMethodCall(e,n,i,r):new f.MethodCall(e,n,i,r)}if(!t){if(this.optionalOperator("=")){this.parseAction||this.error("Bindings cannot contain assignments");var o=this.parseConditional();return new f.PropertyWrite(e,n,this.reflector.setter(n),o)}return new f.PropertyRead(e,n,this.reflector.getter(n))}return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),null):new f.SafePropertyRead(e,n,this.reflector.getter(n))},_ParseAST.prototype.parseCallArguments=function(){if(this.next.isCharacter(l.$RPAREN))return[];var e=[];do e.push(this.parsePipe());while(this.optionalCharacter(l.$COMMA));return e},_ParseAST.prototype.parseBlockContent=function(){this.parseAction||this.error("Binding expression cannot contain chained expression");for(var e=[];this.index<this.tokens.length&&!this.next.isCharacter(l.$RBRACE);){var t=this.parseExpression();if(e.push(t),this.optionalCharacter(l.$SEMICOLON))for(;this.optionalCharacter(l.$SEMICOLON););}return 0==e.length?new f.EmptyExpr:1==e.length?e[0]:new f.Chain(e)},_ParseAST.prototype.expectTemplateBindingKey=function(){var e="",t=!1;do e+=this.expectIdentifierOrKeywordOrString(),t=this.optionalOperator("-"),t&&(e+="-");while(t);return e.toString()},_ParseAST.prototype.parseTemplateBindings=function(){for(var e=[],t=null;this.index<this.tokens.length;){var n=this.optionalKeywordVar(),r=this.expectTemplateBindingKey();n||(null==t?t=r:r=t+r[0].toUpperCase()+r.substring(1)),this.optionalCharacter(l.$COLON);var i=null,o=null;if(n)i=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.next!==l.EOF&&!this.peekKeywordVar()){var a=this.inputIndex,s=this.parsePipe(),c=this.input.substring(a,this.inputIndex);o=new f.ASTWithSource(s,c,this.location)}e.push(new f.TemplateBinding(r,n,i,o)),this.optionalCharacter(l.$SEMICOLON)||this.optionalCharacter(l.$COMMA)}return e},_ParseAST.prototype.error=function(e,t){void 0===t&&(t=null),s.isBlank(t)&&(t=this.index);var n=t<this.tokens.length?"at column "+(this.tokens[t].index+1)+" in":"at the end of the expression";throw new g(e,this.input,n,this.location)},_ParseAST}();t._ParseAST=_;var v=function(){function SimpleExpressionChecker(){this.simple=!0}return SimpleExpressionChecker.check=function(e){var t=new SimpleExpressionChecker;return e.visit(t),t.simple},SimpleExpressionChecker.prototype.visitImplicitReceiver=function(e){},SimpleExpressionChecker.prototype.visitInterpolation=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitLiteralPrimitive=function(e){},SimpleExpressionChecker.prototype.visitPropertyRead=function(e){},SimpleExpressionChecker.prototype.visitPropertyWrite=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitSafePropertyRead=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitMethodCall=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitSafeMethodCall=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitFunctionCall=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitLiteralArray=function(e){this.visitAll(e.expressions)},SimpleExpressionChecker.prototype.visitLiteralMap=function(e){this.visitAll(e.values)},SimpleExpressionChecker.prototype.visitBinary=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitPrefixNot=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitConditional=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitPipe=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitKeyedRead=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitKeyedWrite=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitAll=function(e){for(var t=u.ListWrapper.createFixedSize(e.length),n=0;n<e.length;++n)t[n]=e[n].visit(this);return t},SimpleExpressionChecker.prototype.visitChain=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitQuote=function(e){this.simple=!1},SimpleExpressionChecker}()},function(e,t){"use strict";function implementsOnDestroy(e){return e.constructor.prototype.ngOnDestroy}t.implementsOnDestroy=implementsOnDestroy},function(e,t){"use strict";var n=function(){function SelectedPipe(e,t){this.pipe=e,this.pure=t}return SelectedPipe}();t.SelectedPipe=n},function(e,t,n){"use strict";var r=n(1),i=n(158),o=function(){function DebugDomRootRenderer(e){this._delegate=e}return DebugDomRootRenderer.prototype.renderComponent=function(e){return new a(this,this._delegate.renderComponent(e))},DebugDomRootRenderer}();t.DebugDomRootRenderer=o;var a=function(){function DebugDomRenderer(e,t){this._rootRenderer=e,this._delegate=t}return DebugDomRenderer.prototype.renderComponent=function(e){return this._rootRenderer.renderComponent(e)},DebugDomRenderer.prototype.selectRootElement=function(e){var t=this._delegate.selectRootElement(e),n=new i.DebugElement(t,null);return i.indexDebugNode(n),t},DebugDomRenderer.prototype.createElement=function(e,t){var n=this._delegate.createElement(e,t),r=new i.DebugElement(n,i.getDebugNode(e));return r.name=t,i.indexDebugNode(r),n},DebugDomRenderer.prototype.createViewRoot=function(e){return this._delegate.createViewRoot(e)},DebugDomRenderer.prototype.createTemplateAnchor=function(e){var t=this._delegate.createTemplateAnchor(e),n=new i.DebugNode(t,i.getDebugNode(e));return i.indexDebugNode(n),t},DebugDomRenderer.prototype.createText=function(e,t){var n=this._delegate.createText(e,t),r=new i.DebugNode(n,i.getDebugNode(e));return i.indexDebugNode(r),n},DebugDomRenderer.prototype.projectNodes=function(e,t){var n=i.getDebugNode(e);if(r.isPresent(n)&&n instanceof i.DebugElement){var o=n;t.forEach(function(e){o.addChild(i.getDebugNode(e))})}this._delegate.projectNodes(e,t)},DebugDomRenderer.prototype.attachViewAfter=function(e,t){var n=i.getDebugNode(e);if(r.isPresent(n)){var o=n.parent;if(t.length>0&&r.isPresent(o)){var a=[];t.forEach(function(e){return a.push(i.getDebugNode(e))}),o.insertChildrenAfter(n,a)}}this._delegate.attachViewAfter(e,t)},DebugDomRenderer.prototype.detachView=function(e){e.forEach(function(e){var t=i.getDebugNode(e);r.isPresent(t)&&r.isPresent(t.parent)&&t.parent.removeChild(t)}),this._delegate.detachView(e)},DebugDomRenderer.prototype.destroyView=function(e,t){t.forEach(function(e){i.removeDebugNodeFromIndex(i.getDebugNode(e))}),this._delegate.destroyView(e,t)},DebugDomRenderer.prototype.listen=function(e,t,n){var o=i.getDebugNode(e);return r.isPresent(o)&&o.listeners.push(new i.EventListener(t,n)),this._delegate.listen(e,t,n)},DebugDomRenderer.prototype.listenGlobal=function(e,t,n){return this._delegate.listenGlobal(e,t,n)},DebugDomRenderer.prototype.setElementProperty=function(e,t,n){var o=i.getDebugNode(e);r.isPresent(o)&&o instanceof i.DebugElement&&o.properties.set(t,n),this._delegate.setElementProperty(e,t,n)},DebugDomRenderer.prototype.setElementAttribute=function(e,t,n){var o=i.getDebugNode(e);r.isPresent(o)&&o instanceof i.DebugElement&&o.attributes.set(t,n),this._delegate.setElementAttribute(e,t,n)},DebugDomRenderer.prototype.setBindingDebugInfo=function(e,t,n){this._delegate.setBindingDebugInfo(e,t,n)},DebugDomRenderer.prototype.setElementDebugInfo=function(e,t){var n=i.getDebugNode(e);n.setDebugInfo(t),this._delegate.setElementDebugInfo(e,t)},DebugDomRenderer.prototype.setElementClass=function(e,t,n){this._delegate.setElementClass(e,t,n)},DebugDomRenderer.prototype.setElementStyle=function(e,t,n){this._delegate.setElementStyle(e,t,n)},DebugDomRenderer.prototype.invokeElementMethod=function(e,t,n){this._delegate.invokeElementMethod(e,t,n)},DebugDomRenderer.prototype.setText=function(e,t){this._delegate.setText(e,t)},DebugDomRenderer}();t.DebugDomRenderer=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(1),a=function(){function OpaqueToken(e){this._desc=e}return OpaqueToken.prototype.toString=function(){return"Token "+this._desc},OpaqueToken=r([o.CONST(),i("design:paramtypes",[String])],OpaqueToken)}();t.OpaqueToken=a},function(e,t,n){"use strict";var r=n(107);t.DirectiveResolver=r.DirectiveResolver;var i=n(166);t.ViewResolver=i.ViewResolver;var o=n(69);t.Compiler=o.Compiler;var a=n(110);t.AppViewManager=a.AppViewManager;var s=n(259);t.QueryList=s.QueryList;var c=n(83);t.DynamicComponentLoader=c.DynamicComponentLoader;var u=n(163);t.ElementRef=u.ElementRef;var l=n(261);t.TemplateRef=l.TemplateRef;var p=n(111);t.EmbeddedViewRef=p.EmbeddedViewRef,t.HostViewRef=p.HostViewRef,t.ViewRef=p.ViewRef,t.HostViewFactoryRef=p.HostViewFactoryRef;var f=n(165);t.ViewContainerRef=f.ViewContainerRef;var h=n(83);t.ComponentRef=h.ComponentRef},function(e,t,n){"use strict";function hasLifecycleHook(e,t){if(!(t instanceof r.Type))return!1;var n=t.prototype;switch(e){case i.LifecycleHooks.AfterContentInit:return!!n.ngAfterContentInit;case i.LifecycleHooks.AfterContentChecked:return!!n.ngAfterContentChecked;case i.LifecycleHooks.AfterViewInit:return!!n.ngAfterViewInit;case i.LifecycleHooks.AfterViewChecked:return!!n.ngAfterViewChecked;case i.LifecycleHooks.OnChanges:return!!n.ngOnChanges;case i.LifecycleHooks.DoCheck:return!!n.ngDoCheck;case i.LifecycleHooks.OnDestroy:return!!n.ngOnDestroy;case i.LifecycleHooks.OnInit:return!!n.ngOnInit;default:return!1}}var r=n(1),i=n(109);t.hasLifecycleHook=hasLifecycleHook},function(e,t,n){"use strict";function _reflector(){return a.reflector}var r=n(1),i=n(6),o=n(257),a=n(18),s=n(87),c=n(114);t.PLATFORM_COMMON_PROVIDERS=r.CONST_EXPR([new i.Provider(a.Reflector,{useFactory:_reflector,deps:[]}),new i.Provider(s.ReflectorReader,{useExisting:a.Reflector}),c.TestabilityRegistry,o.Console])},function(e,t,n){"use strict";var r=n(1);t.enableProdMode=r.enableProdMode},function(e,t,n){"use strict";function detectWTF(){var e=o.global.wtf;return e&&(r=e.trace)?(i=r.events,!0):!1}function createScope(e,t){return void 0===t&&(t=null),i.createScope(e,t)}function leave(e,t){return r.leaveScope(e,t),t}function startTimeRange(e,t){return r.beginTimeRange(e,t)}function endTimeRange(e){r.endTimeRange(e)}var r,i,o=n(1);t.detectWTF=detectWTF,t.createScope=createScope,t.leave=leave,t.startTimeRange=startTimeRange,t.endTimeRange=endTimeRange},function(e,t){"use strict";function wtfInit(){}t.wtfInit=wtfInit},function(e,t,n){"use strict";var r=n(113);t.RootRenderer=r.RootRenderer,t.Renderer=r.Renderer,t.RenderComponentType=r.RenderComponentType},280,function(e,t,n){"use strict";var r=n(88);t.Class=r.Class},function(e,t,n){"use strict";var r=n(115);t.NgZone=r.NgZone,t.NgZoneError=r.NgZoneError},function(e,t){"use strict";var n=window;t.window=n,t.document=window.document,t.location=window.location,t.gc=window.gc?function(){return window.gc()}:function(){return null},t.performance=window.performance?window.performance:null,t.Event=window.Event,t.MouseEvent=window.MouseEvent,t.KeyboardEvent=window.KeyboardEvent,t.EventTarget=window.EventTarget,t.History=window.History,t.Location=window.Location,t.EventListener=window.EventListener},function(e,t,n){"use strict";var r=n(1);t.Type=r.Type;var i=n(9);t.EventEmitter=i.EventEmitter;var o=n(5);t.WrappedException=o.WrappedException;var a=n(170);t.ExceptionHandler=a.ExceptionHandler},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(3),o=n(1),a=n(14),s=n(277),c=function(e){function GenericBrowserDomAdapter(){var t=this;e.call(this),this._animationPrefix=null,this._transitionEnd=null;try{var n=this.createElement("div",this.defaultDoc());if(o.isPresent(this.getStyle(n,"animationName")))this._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],a=0;a<r.length;a++)if(o.isPresent(this.getStyle(n,r[a]+"AnimationName"))){this._animationPrefix="-"+r[a].toLowerCase()+"-";break}var s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};i.StringMapWrapper.forEach(s,function(e,r){o.isPresent(t.getStyle(n,r))&&(t._transitionEnd=e)})}catch(c){this._animationPrefix=null,this._transitionEnd=null}}return r(GenericBrowserDomAdapter,e),GenericBrowserDomAdapter.prototype.getXHR=function(){return s.XHRImpl},GenericBrowserDomAdapter.prototype.getDistributedNodes=function(e){return e.getDistributedNodes()},GenericBrowserDomAdapter.prototype.resolveAndSetHref=function(e,t,n){e.href=null==n?t:t+"/../"+n},GenericBrowserDomAdapter.prototype.supportsDOMEvents=function(){return!0},GenericBrowserDomAdapter.prototype.supportsNativeShadowDOM=function(){return o.isFunction(this.defaultDoc().body.createShadowRoot)},GenericBrowserDomAdapter.prototype.getAnimationPrefix=function(){return o.isPresent(this._animationPrefix)?this._animationPrefix:""},GenericBrowserDomAdapter.prototype.getTransitionEnd=function(){return o.isPresent(this._transitionEnd)?this._transitionEnd:""},GenericBrowserDomAdapter.prototype.supportsAnimation=function(){return o.isPresent(this._animationPrefix)&&o.isPresent(this._transitionEnd)},GenericBrowserDomAdapter}(a.DomAdapter);t.GenericBrowserDomAdapter=c},function(e,t,n){"use strict";var r=n(3),i=n(1),o=n(14),a=n(4),s=function(){function PublicTestability(e){this._testability=e}return PublicTestability.prototype.isStable=function(){return this._testability.isStable()},PublicTestability.prototype.whenStable=function(e){this._testability.whenStable(e)},PublicTestability.prototype.findBindings=function(e,t,n){return this.findProviders(e,t,n)},PublicTestability.prototype.findProviders=function(e,t,n){return this._testability.findBindings(e,t,n)},PublicTestability}(),c=function(){function BrowserGetTestability(){}return BrowserGetTestability.init=function(){a.setTestabilityGetter(new BrowserGetTestability)},BrowserGetTestability.prototype.addToWindow=function(e){i.global.getAngularTestability=function(t,n){void 0===n&&(n=!0);var r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return new s(r)},i.global.getAllAngularTestabilities=function(){var t=e.getAllTestabilities();return t.map(function(e){return new s(e)})},i.global.getAllAngularRootElements=function(){return e.getAllRootElements()};var t=function(e){var t=i.global.getAllAngularTestabilities(),n=t.length,r=!1,o=function(t){r=r||t,n--,0==n&&e(r)};t.forEach(function(e){e.whenStable(o)})};i.global.frameworkStabilizers||(i.global.frameworkStabilizers=r.ListWrapper.createGrowableSize(0)),i.global.frameworkStabilizers.push(t)},BrowserGetTestability.prototype.findTestabilityInTree=function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return i.isPresent(r)?r:n?o.DOM.isShadowRoot(t)?this.findTestabilityInTree(e,o.DOM.getHost(t),!0):this.findTestabilityInTree(e,o.DOM.parentElement(t),!0):null},BrowserGetTestability}();t.BrowserGetTestability=c},function(e,t,n){"use strict";var r=n(14),i=function(){function Title(){}return Title.prototype.getTitle=function(){return r.DOM.getTitle()},Title.prototype.setTitle=function(e){r.DOM.setTitle(e)},Title}();t.Title=i},function(e,t,n){"use strict";var r=n(242),i=n(1),o=n(427),a=n(14),s=function(){function AngularTools(e){this.profiler=new c(e)}return AngularTools}();t.AngularTools=s;var c=function(){function AngularProfiler(e){this.appRef=e.injector.get(r.ApplicationRef)}return AngularProfiler.prototype.timeChangeDetection=function(e){var t=i.isPresent(e)&&e.record,n="Change Detection",r=i.isPresent(o.window.console.profile);t&&r&&o.window.console.profile(n);for(var s=a.DOM.performanceNow(),c=0;5>c||a.DOM.performanceNow()-s<500;)this.appRef.tick(),c++;var u=a.DOM.performanceNow();t&&r&&o.window.console.profileEnd(n);var l=(u-s)/c;o.window.console.log("ran "+c+" change detection cycles"),o.window.console.log(i.NumberWrapper.toFixed(l,2)+" ms per check")},AngularProfiler}();t.AngularProfiler=c},function(e,t,n){"use strict";function enableDebugTools(e){o.ng=new i.AngularTools(e)}function disableDebugTools(){delete o.ng}var r=n(1),i=n(432),o=r.global;t.enableDebugTools=enableDebugTools,t.disableDebugTools=disableDebugTools},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(66),o=n(5),a=n(1),s=n(70),c=function(e){function CachedXHR(){if(e.call(this),this._cache=a.global.$templateCache,null==this._cache)throw new o.BaseException("CachedXHR: Template cache was not found in $templateCache.")}return r(CachedXHR,e),CachedXHR.prototype.get=function(e){return this._cache.hasOwnProperty(e)?s.PromiseWrapper.resolve(this._cache[e]):s.PromiseWrapper.reject("CachedXHR: Did not find cached template for "+e,null)},CachedXHR}(i.XHR);t.CachedXHR=c},function(e,t,n){"use strict";var r=n(1),i=n(14),o=function(){function By(){}return By.all=function(){return function(e){return!0}},By.css=function(e){return function(t){return r.isPresent(t.nativeElement)?i.DOM.elementMatches(t.nativeElement,e):!1}},By.directive=function(e){return function(t){return-1!==t.providerTokens.indexOf(e)}},By}();t.By=o},function(e,t,n){"use strict";function inspectNativeElement(e){return a.getDebugNode(e)}function _createConditionalRootRenderer(e){return r.assertionsEnabled()?_createRootRenderer(e):e}function _createRootRenderer(e){return o.DOM.setGlobalVar(p,inspectNativeElement),o.DOM.setGlobalVar(f,l),new u.DebugDomRootRenderer(e)}var r=n(1),i=n(6),o=n(14),a=n(158),s=n(175),c=n(4),u=n(415),l=r.CONST_EXPR({ApplicationRef:c.ApplicationRef,NgZone:c.NgZone}),p="ng.probe",f="ng.coreTokens";t.inspectNativeElement=inspectNativeElement,t.ELEMENT_PROBE_PROVIDERS=r.CONST_EXPR([new i.Provider(c.RootRenderer,{useFactory:_createConditionalRootRenderer,deps:[s.DomRootRenderer]})]),t.ELEMENT_PROBE_PROVIDERS_PROD_MODE=r.CONST_EXPR([new i.Provider(c.RootRenderer,{useFactory:_createRootRenderer,deps:[s.DomRootRenderer]})])},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(71),o=n(3),a={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},s=function(e){function HammerGesturesPluginCommon(){e.call(this)}return r(HammerGesturesPluginCommon,e),HammerGesturesPluginCommon.prototype.supports=function(e){return e=e.toLowerCase(),o.StringMapWrapper.contains(a,e)},HammerGesturesPluginCommon}(i.EventManagerPlugin);t.HammerGesturesPluginCommon=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(14),s=n(1),c=n(3),u=n(71),l=n(6),p=["alt","control","meta","shift"],f={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},h=function(e){function KeyEventsPlugin(){e.call(this)}return r(KeyEventsPlugin,e),
KeyEventsPlugin.prototype.supports=function(e){return s.isPresent(KeyEventsPlugin.parseEventName(e))},KeyEventsPlugin.prototype.addEventListener=function(e,t,n){var r=KeyEventsPlugin.parseEventName(t),i=KeyEventsPlugin.eventCallback(e,c.StringMapWrapper.get(r,"fullKey"),n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return a.DOM.onAndCancel(e,c.StringMapWrapper.get(r,"domEventName"),i)})},KeyEventsPlugin.parseEventName=function(e){var t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||!s.StringWrapper.equals(n,"keydown")&&!s.StringWrapper.equals(n,"keyup"))return null;var r=KeyEventsPlugin._normalizeKey(t.pop()),i="";if(p.forEach(function(e){c.ListWrapper.contains(t,e)&&(c.ListWrapper.remove(t,e),i+=e+".")}),i+=r,0!=t.length||0===r.length)return null;var o=c.StringMapWrapper.create();return c.StringMapWrapper.set(o,"domEventName",n),c.StringMapWrapper.set(o,"fullKey",i),o},KeyEventsPlugin.getEventFullKey=function(e){var t="",n=a.DOM.getEventKey(e);return n=n.toLowerCase(),s.StringWrapper.equals(n," ")?n="space":s.StringWrapper.equals(n,".")&&(n="dot"),p.forEach(function(r){if(r!=n){var i=c.StringMapWrapper.get(f,r);i(e)&&(t+=r+".")}}),t+=n},KeyEventsPlugin.eventCallback=function(e,t,n,r){return function(e){s.StringWrapper.equals(KeyEventsPlugin.getEventFullKey(e),t)&&r.run(function(){return n(e)})}},KeyEventsPlugin._normalizeKey=function(e){switch(e){case"esc":return"escape";default:return e}},KeyEventsPlugin=i([l.Injectable(),o("design:paramtypes",[])],KeyEventsPlugin)}(u.EventManagerPlugin);t.KeyEventsPlugin=h},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(4),s=n(92),c=n(14),u=function(e){function BrowserPlatformLocation(){e.call(this),this._init()}return r(BrowserPlatformLocation,e),BrowserPlatformLocation.prototype._init=function(){this._location=c.DOM.getLocation(),this._history=c.DOM.getHistory()},Object.defineProperty(BrowserPlatformLocation.prototype,"location",{get:function(){return this._location},enumerable:!0,configurable:!0}),BrowserPlatformLocation.prototype.getBaseHrefFromDOM=function(){return c.DOM.getBaseHref()},BrowserPlatformLocation.prototype.onPopState=function(e){c.DOM.getGlobalEventTarget("window").addEventListener("popstate",e,!1)},BrowserPlatformLocation.prototype.onHashChange=function(e){c.DOM.getGlobalEventTarget("window").addEventListener("hashchange",e,!1)},Object.defineProperty(BrowserPlatformLocation.prototype,"pathname",{get:function(){return this._location.pathname},set:function(e){this._location.pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"search",{get:function(){return this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"hash",{get:function(){return this._location.hash},enumerable:!0,configurable:!0}),BrowserPlatformLocation.prototype.pushState=function(e,t,n){this._history.pushState(e,t,n)},BrowserPlatformLocation.prototype.replaceState=function(e,t,n){this._history.replaceState(e,t,n)},BrowserPlatformLocation.prototype.forward=function(){this._history.forward()},BrowserPlatformLocation.prototype.back=function(){this._history.back()},BrowserPlatformLocation=i([a.Injectable(),o("design:paramtypes",[])],BrowserPlatformLocation)}(s.PlatformLocation);t.BrowserPlatformLocation=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(4),c=n(91),u=n(1),l=n(92),p=function(e){function HashLocationStrategy(t,n){e.call(this),this._platformLocation=t,this._baseHref="",u.isPresent(n)&&(this._baseHref=n)}return r(HashLocationStrategy,e),HashLocationStrategy.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},HashLocationStrategy.prototype.getBaseHref=function(){return this._baseHref},HashLocationStrategy.prototype.path=function(){var e=this._platformLocation.hash;return u.isPresent(e)||(e="#"),e.length>0?e.substring(1):e},HashLocationStrategy.prototype.prepareExternalUrl=function(e){var t=c.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t},HashLocationStrategy.prototype.pushState=function(e,t,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)},HashLocationStrategy.prototype.replaceState=function(e,t,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)},HashLocationStrategy.prototype.forward=function(){this._platformLocation.forward()},HashLocationStrategy.prototype.back=function(){this._platformLocation.back()},HashLocationStrategy=i([s.Injectable(),a(1,s.Optional()),a(1,s.Inject(c.APP_BASE_HREF)),o("design:paramtypes",[l.PlatformLocation,String])],HashLocationStrategy)}(c.LocationStrategy);t.HashLocationStrategy=p},function(e,t,n){"use strict";function normalizeRouteConfig(e,t){if(e instanceof r.AsyncRoute){var n=wrapLoaderToReconfigureRegistry(e.loader,t);return new r.AsyncRoute({path:e.path,loader:n,name:e.name,data:e.data,useAsDefault:e.useAsDefault})}if(e instanceof r.Route||e instanceof r.Redirect||e instanceof r.AuxRoute)return e;if(+!!e.component+ +!!e.redirectTo+ +!!e.loader!=1)throw new o.BaseException('Route config should contain exactly one "component", "loader", or "redirectTo" property.');if(e.as&&e.name)throw new o.BaseException('Route config should contain exactly one "as" or "name" property.');if(e.as&&(e.name=e.as),e.loader){var n=wrapLoaderToReconfigureRegistry(e.loader,t);return new r.AsyncRoute({path:e.path,loader:n,name:e.name,data:e.data,useAsDefault:e.useAsDefault})}if(e.aux)return new r.AuxRoute({path:e.aux,component:e.component,name:e.name});if(e.component){if("object"==typeof e.component){var i=e.component;if("constructor"==i.type)return new r.Route({path:e.path,component:i.constructor,name:e.name,data:e.data,useAsDefault:e.useAsDefault});if("loader"==i.type)return new r.AsyncRoute({path:e.path,loader:i.loader,name:e.name,data:e.data,useAsDefault:e.useAsDefault});throw new o.BaseException('Invalid component type "'+i.type+'". Valid types are "constructor" and "loader".')}return new r.Route(e)}return e.redirectTo?new r.Redirect({path:e.path,redirectTo:e.redirectTo}):e}function wrapLoaderToReconfigureRegistry(e,t){return function(){return e().then(function(e){return t.configFromComponent(e),e})}}function assertComponentExists(e,t){if(!i.isType(e))throw new o.BaseException('Component for route "'+t+'" is not defined, or is not a class.')}var r=n(286),i=n(1),o=n(5);t.normalizeRouteConfig=normalizeRouteConfig,t.assertComponentExists=assertComponentExists},function(e,t,n){"use strict";var r=n(287),i=n(4),o=n(1),a=n(439),s=n(92);t.ROUTER_PROVIDERS=o.CONST_EXPR([r.ROUTER_PROVIDERS_COMMON,o.CONST_EXPR(new i.Provider(s.PlatformLocation,{useClass:a.BrowserPlatformLocation}))]),t.ROUTER_BINDINGS=t.ROUTER_PROVIDERS},function(e,t,n){"use strict";var r=n(1),i=n(54),o=function(){function AsyncRouteHandler(e,t){void 0===t&&(t=null),this._loader=e,this._resolvedComponent=null,this.data=r.isPresent(t)?new i.RouteData(t):i.BLANK_ROUTE_DATA}return AsyncRouteHandler.prototype.resolveComponentType=function(){var e=this;return r.isPresent(this._resolvedComponent)?this._resolvedComponent:this._resolvedComponent=this._loader().then(function(t){return e.componentType=t,t})},AsyncRouteHandler}();t.AsyncRouteHandler=o},function(e,t,n){"use strict";var r=n(9),i=n(1),o=n(54),a=function(){function SyncRouteHandler(e,t){this.componentType=e,this._resolvedComponent=null,this._resolvedComponent=r.PromiseWrapper.resolve(e),this.data=i.isPresent(t)?new o.RouteData(t):o.BLANK_ROUTE_DATA}return SyncRouteHandler.prototype.resolveComponentType=function(){return this._resolvedComponent},SyncRouteHandler}();t.SyncRouteHandler=a},function(e,t,n){"use strict";function encodeDynamicSegment(e){return r.isBlank(e)?null:(e=r.StringWrapper.replaceAll(e,d,"%25"),e=r.StringWrapper.replaceAll(e,g,"%2F"),e=r.StringWrapper.replaceAll(e,y,"%28"),e=r.StringWrapper.replaceAll(e,m,"%29"),e=r.StringWrapper.replaceAll(e,_,"%3B"))}function decodeDynamicSegment(e){return r.isBlank(e)?null:(e=r.StringWrapper.replaceAll(e,v,";"),e=r.StringWrapper.replaceAll(e,b,")"),e=r.StringWrapper.replaceAll(e,C,"("),e=r.StringWrapper.replaceAll(e,P,"/"),e=r.StringWrapper.replaceAll(e,R,"%"))}var r=n(1),i=n(5),o=n(3),a=n(448),s=n(179),c=n(288),u=function(){function ContinuationPathSegment(){this.name="",this.specificity="",this.hash="..."}return ContinuationPathSegment.prototype.generate=function(e){return""},ContinuationPathSegment.prototype.match=function(e){return!0},ContinuationPathSegment}(),l=function(){function StaticPathSegment(e){this.path=e,this.name="",this.specificity="2",this.hash=e}return StaticPathSegment.prototype.match=function(e){return e==this.path},StaticPathSegment.prototype.generate=function(e){return this.path},StaticPathSegment}(),p=function(){function DynamicPathSegment(e){this.name=e,this.specificity="1",this.hash=":"}return DynamicPathSegment.prototype.match=function(e){return e.length>0},DynamicPathSegment.prototype.generate=function(e){if(!o.StringMapWrapper.contains(e.map,this.name))throw new i.BaseException("Route generator for '"+this.name+"' was not included in parameters passed.");return encodeDynamicSegment(a.normalizeString(e.get(this.name)))},DynamicPathSegment.paramMatcher=/^:([^\/]+)$/g,DynamicPathSegment}(),f=function(){function StarPathSegment(e){this.name=e,this.specificity="0",this.hash="*"}return StarPathSegment.prototype.match=function(e){return!0},StarPathSegment.prototype.generate=function(e){return a.normalizeString(e.get(this.name))},StarPathSegment.wildcardMatcher=/^\*([^\/]+)$/g,StarPathSegment}(),h=function(){function ParamRoutePath(e){this.routePath=e,this.terminal=!0,this._assertValidPath(e),this._parsePathString(e),this.specificity=this._calculateSpecificity(),this.hash=this._calculateHash();var t=this._segments[this._segments.length-1];this.terminal=!(t instanceof u)}return ParamRoutePath.prototype.matchUrl=function(e){for(var t,n=e,i={},a=[],l=0;l<this._segments.length;l+=1){var h=this._segments[l];if(t=n,h instanceof u)break;if(r.isPresent(t)){if(h instanceof f){i[h.name]=t.toString(),a.push(t.toString()),n=null;break}if(a.push(t.path),h instanceof p)i[h.name]=decodeDynamicSegment(t.path);else if(!h.match(t.path))return null;n=t.child}else if(!h.match(""))return null}if(this.terminal&&r.isPresent(n))return null;var d=a.join("/"),g=[],y=[],m=i;if(r.isPresent(t)){var _=e instanceof s.RootUrl?e:t;r.isPresent(_.params)?(m=o.StringMapWrapper.merge(_.params,i),y=s.convertUrlParamsToArray(_.params)):m=i,g=t.auxiliary}return new c.MatchedUrl(d,y,m,g,n)},ParamRoutePath.prototype.generateUrl=function(e){for(var t=new a.TouchMap(e),n=[],r=0;r<this._segments.length;r++){var i=this._segments[r];i instanceof u||n.push(i.generate(t))}var o=n.join("/"),s=t.getUnused(),l=s;return new c.GeneratedUrl(o,l)},ParamRoutePath.prototype.toString=function(){return this.routePath},ParamRoutePath.prototype._parsePathString=function(e){e.startsWith("/")&&(e=e.substring(1));var t=e.split("/");this._segments=[];for(var n=t.length-1,o=0;n>=o;o++){var a,s=t[o];if(r.isPresent(a=r.RegExpWrapper.firstMatch(p.paramMatcher,s)))this._segments.push(new p(a[1]));else if(r.isPresent(a=r.RegExpWrapper.firstMatch(f.wildcardMatcher,s)))this._segments.push(new f(a[1]));else if("..."==s){if(n>o)throw new i.BaseException('Unexpected "..." before the end of the path for "'+e+'".');this._segments.push(new u)}else this._segments.push(new l(s))}},ParamRoutePath.prototype._calculateSpecificity=function(){var e,t,n=this._segments.length;if(0==n)t+="2";else for(t="",e=0;n>e;e++)t+=this._segments[e].specificity;return t},ParamRoutePath.prototype._calculateHash=function(){var e,t=this._segments.length,n=[];for(e=0;t>e;e++)n.push(this._segments[e].hash);return n.join("/")},ParamRoutePath.prototype._assertValidPath=function(e){if(r.StringWrapper.contains(e,"#"))throw new i.BaseException('Path "'+e+'" should not include "#". Use "HashLocationStrategy" instead.');var t=r.RegExpWrapper.firstMatch(ParamRoutePath.RESERVED_CHARS,e);if(r.isPresent(t))throw new i.BaseException('Path "'+e+'" contains "'+t[0]+'" which is not allowed in a route config.')},ParamRoutePath.RESERVED_CHARS=r.RegExpWrapper.create("//|\\(|\\)|;|\\?|="),ParamRoutePath}();t.ParamRoutePath=h;var d=/%/g,g=/\//g,y=/\(/g,m=/\)/g,_=/;/g,v=/%3B/gi,b=/%29/gi,C=/%28/gi,P=/%2F/gi,R=/%25/gi},function(e,t,n){"use strict";var r=n(1),i=n(288),o=function(){function RegexRoutePath(e,t){this._reString=e,this._serializer=t,this.terminal=!0,this.specificity="2",this.hash=this._reString,this._regex=r.RegExpWrapper.create(this._reString)}return RegexRoutePath.prototype.matchUrl=function(e){var t=e.toString(),n={},o=r.RegExpWrapper.matcher(this._regex,t),a=r.RegExpMatcherWrapper.next(o);if(r.isBlank(a))return null;for(var s=0;s<a.length;s+=1)n[s.toString()]=a[s];return new i.MatchedUrl(t,[],n,[],null)},RegexRoutePath.prototype.generateUrl=function(e){return this._serializer(e)},RegexRoutePath.prototype.toString=function(){return this._reString},RegexRoutePath}();t.RegexRoutePath=o},function(e,t,n){"use strict";var r=n(1),i=n(5),o=n(3),a=n(9),s=n(289),c=n(120),u=n(443),l=n(444),p=n(445),f=n(446),h=function(){function RuleSet(){this.rulesByName=new o.Map,this.auxRulesByName=new o.Map,this.auxRulesByPath=new o.Map,this.rules=[],this.defaultRule=null}return RuleSet.prototype.config=function(e){var t;if(r.isPresent(e.name)&&e.name[0].toUpperCase()!=e.name[0]){var n=e.name[0].toUpperCase()+e.name.substring(1);throw new i.BaseException('Route "'+e.path+'" with name "'+e.name+'" does not begin with an uppercase letter. Route names should be CamelCase like "'+n+'".')}if(e instanceof c.AuxRoute){t=new l.SyncRouteHandler(e.component,e.data);var o=this._getRoutePath(e),a=new s.RouteRule(o,t,e.name);return this.auxRulesByPath.set(o.toString(),a),r.isPresent(e.name)&&this.auxRulesByName.set(e.name,a),a.terminal}var p=!1;if(e instanceof c.Redirect){var f=this._getRoutePath(e),h=new s.RedirectRule(f,e.redirectTo);return this._assertNoHashCollision(h.hash,e.path),this.rules.push(h),!0}e instanceof c.Route?(t=new l.SyncRouteHandler(e.component,e.data),p=r.isPresent(e.useAsDefault)&&e.useAsDefault):e instanceof c.AsyncRoute&&(t=new u.AsyncRouteHandler(e.loader,e.data),p=r.isPresent(e.useAsDefault)&&e.useAsDefault);var d=this._getRoutePath(e),g=new s.RouteRule(d,t,e.name);if(this._assertNoHashCollision(g.hash,e.path),p){if(r.isPresent(this.defaultRule))throw new i.BaseException("Only one route can be default");this.defaultRule=g}return this.rules.push(g),r.isPresent(e.name)&&this.rulesByName.set(e.name,g),g.terminal},RuleSet.prototype.recognize=function(e){var t=[];return this.rules.forEach(function(n){var i=n.recognize(e);r.isPresent(i)&&t.push(i)}),0==t.length&&r.isPresent(e)&&e.auxiliary.length>0?[a.PromiseWrapper.resolve(new s.PathMatch(null,null,e.auxiliary))]:t},RuleSet.prototype.recognizeAuxiliary=function(e){var t=this.auxRulesByPath.get(e.path);return r.isPresent(t)?[t.recognize(e)]:[a.PromiseWrapper.resolve(null)]},RuleSet.prototype.hasRoute=function(e){return this.rulesByName.has(e)},RuleSet.prototype.componentLoaded=function(e){return this.hasRoute(e)&&r.isPresent(this.rulesByName.get(e).handler.componentType)},RuleSet.prototype.loadComponent=function(e){return this.rulesByName.get(e).handler.resolveComponentType()},RuleSet.prototype.generate=function(e,t){var n=this.rulesByName.get(e);return r.isBlank(n)?null:n.generate(t)},RuleSet.prototype.generateAuxiliary=function(e,t){var n=this.auxRulesByName.get(e);return r.isBlank(n)?null:n.generate(t)},RuleSet.prototype._assertNoHashCollision=function(e,t){this.rules.forEach(function(n){if(e==n.hash)throw new i.BaseException("Configuration '"+t+"' conflicts with existing route '"+n.path+"'")})},RuleSet.prototype._getRoutePath=function(e){if(r.isPresent(e.regex)){if(r.isFunction(e.serializer))return new f.RegexRoutePath(e.regex,e.serializer);throw new i.BaseException("Route provides a regex property, '"+e.regex+"', but no serializer property")}if(r.isPresent(e.path)){var t=e instanceof c.AuxRoute&&e.path.startsWith("/")?e.path.substring(1):e.path;return new p.ParamRoutePath(t)}throw new i.BaseException("Route must provide either a path or regex property")},RuleSet}();t.RuleSet=h},function(e,t,n){"use strict";function normalizeString(e){return r.isBlank(e)?null:e.toString()}var r=n(1),i=n(3),o=function(){function TouchMap(e){var t=this;this.map={},this.keys={},r.isPresent(e)&&i.StringMapWrapper.forEach(e,function(e,n){t.map[n]=r.isPresent(e)?e.toString():null,t.keys[n]=!0})}return TouchMap.prototype.get=function(e){return i.StringMapWrapper.delete(this.keys,e),this.map[e]},TouchMap.prototype.getUnused=function(){var e=this,t={},n=i.StringMapWrapper.keys(this.keys);return n.forEach(function(n){return t[n]=i.StringMapWrapper.get(e.map,n)}),t},TouchMap}();t.TouchMap=o,t.normalizeString=normalizeString},function(e,t){"use strict";var n=function(){function Codegen(e){}return Codegen.prototype.generate=function(e,t,n){throw"Not implemented in JS"},Codegen.prototype.toString=function(){throw"Not implemented in JS"},Codegen}();t.Codegen=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r,i;!function(){function d3_documentElement(e){return e&&(e.ownerDocument||e.document||e).documentElement}function d3_window(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function d3_ascending(e,t){return t>e?-1:e>t?1:e>=t?0:NaN}function d3_number(e){return null===e?NaN:+e}function d3_numeric(e){return!isNaN(e)}function d3_bisector(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}function d3_transposeLength(e){return e.length}function d3_range_integerScale(e){for(var t=1;e*t%1;)t*=10;return t}function d3_class(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function d3_Map(){this._=Object.create(null)}function d3_map_escape(e){return(e+="")===_||e[0]===v?v+e:e}function d3_map_unescape(e){return(e+="")[0]===v?e.slice(1):e}function d3_map_has(e){return d3_map_escape(e)in this._}function d3_map_remove(e){return(e=d3_map_escape(e))in this._&&delete this._[e]}function d3_map_keys(){var e=[];for(var t in this._)e.push(d3_map_unescape(t));return e}function d3_map_size(){var e=0;for(var t in this._)++e;return e}function d3_map_empty(){for(var e in this._)return!1;return!0}function d3_Set(){this._=Object.create(null)}function d3_identity(e){return e}function d3_rebind(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function d3_vendorSymbol(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=b.length;r>n;++n){var i=b[n]+t;if(i in e)return i}}function d3_noop(){}function d3_dispatch(){}function d3_dispatch_event(e){function event(){for(var n,r=t,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return e}var t=[],n=new d3_Map;return event.on=function(r,i){var o,a=n.get(r);return arguments.length<2?a&&a.on:(a&&(a.on=null,t=t.slice(0,o=t.indexOf(a)).concat(t.slice(o+1)),n.remove(r)),i&&t.push(n.set(r,{on:i})),e)},event}function d3_eventPreventDefault(){o.event.preventDefault()}function d3_eventSource(){for(var e,t=o.event;e=t.sourceEvent;)t=e;return t}function d3_eventDispatch(e){for(var t=new d3_dispatch,n=0,r=arguments.length;++n<r;)t[arguments[n]]=d3_dispatch_event(t);return t.of=function(n,r){return function(i){try{var a=i.sourceEvent=o.event;i.target=e,o.event=i,t[i.type].apply(n,r)}finally{o.event=a}}},t}function d3_selection(e){return P(e,S),e}function d3_selection_selector(e){return"function"==typeof e?e:function(){return R(e,this)}}function d3_selection_selectorAll(e){return"function"==typeof e?e:function(){return w(e,this)}}function d3_selection_attr(e,t){function attrNull(){this.removeAttribute(e)}function attrNullNS(){this.removeAttributeNS(e.space,e.local)}function attrConstant(){this.setAttribute(e,t)}function attrConstantNS(){this.setAttributeNS(e.space,e.local,t)}function attrFunction(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function attrFunctionNS(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=o.ns.qualify(e),null==t?e.local?attrNullNS:attrNull:"function"==typeof t?e.local?attrFunctionNS:attrFunction:e.local?attrConstantNS:attrConstant}function d3_collapse(e){return e.trim().replace(/\s+/g," ")}function d3_selection_classedRe(e){return new RegExp("(?:^|\\s+)"+o.requote(e)+"(?:\\s+|$)","g")}function d3_selection_classes(e){return(e+"").trim().split(/^|\s+/)}function d3_selection_classed(e,t){function classedConstant(){for(var r=-1;++r<n;)e[r](this,t)}function classedFunction(){for(var r=-1,i=t.apply(this,arguments);++r<n;)e[r](this,i)}e=d3_selection_classes(e).map(d3_selection_classedName);var n=e.length;return"function"==typeof t?classedFunction:classedConstant}function d3_selection_classedName(e){var t=d3_selection_classedRe(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",d3_collapse(i+" "+e))):n.setAttribute("class",d3_collapse(i.replace(t," ")))}}function d3_selection_style(e,t,n){function styleNull(){this.style.removeProperty(e)}function styleConstant(){this.style.setProperty(e,t,n)}function styleFunction(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?styleNull:"function"==typeof t?styleFunction:styleConstant}function d3_selection_property(e,t){function propertyNull(){delete this[e]}function propertyConstant(){this[e]=t}function propertyFunction(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?propertyNull:"function"==typeof t?propertyFunction:propertyConstant}function d3_selection_creator(e){function create(){var t=this.ownerDocument,n=this.namespaceURI;return n===D&&t.documentElement.namespaceURI===D?t.createElement(e):t.createElementNS(n,e)}function createNS(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"==typeof e?e:(e=o.ns.qualify(e)).local?createNS:create}function d3_selectionRemove(){var e=this.parentNode;e&&e.removeChild(this)}function d3_selection_dataNode(e){return{__data__:e}}function d3_selection_filter(e){return function(){return E(this,e)}}function d3_selection_sortComparator(e){return arguments.length||(e=d3_ascending),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function d3_selection_each(e,t){for(var n=0,r=e.length;r>n;n++)for(var i,o=e[n],a=0,s=o.length;s>a;a++)(i=o[a])&&t(i,a,n);return e}function d3_selection_enter(e){return P(e,x),e}function d3_selection_enterInsertBefore(e){var t,n;return function(r,i,o){var a,s=e[o].update,c=s.length;for(o!=n&&(n=o,t=0),i>=t&&(t=i+1);!(a=s[t])&&++t<c;);return a}}function d3_selection_on(e,t,n){function onRemove(){var t=this[r];t&&(this.removeEventListener(e,t,t.$),delete this[r])}function onAdd(){var i=a(t,s(arguments));onRemove.call(this),this.addEventListener(e,this[r]=i,i.$=n),i._=t}function removeAll(){var t,n=new RegExp("^__on([^.]+)"+o.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var r="__on"+e,i=e.indexOf("."),a=d3_selection_onListener;i>0&&(e=e.slice(0,i));var c=O.get(e);return c&&(e=c,a=d3_selection_onFilter),i?t?onAdd:onRemove:t?d3_noop:removeAll}function d3_selection_onListener(e,t){return function(n){var r=o.event;o.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{o.event=r}}}function d3_selection_onFilter(e,t){var n=d3_selection_onListener(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function d3_event_dragSuppress(e){var t=".dragsuppress-"+ ++N,n="click"+t,r=o.select(d3_window(e)).on("touchmove"+t,d3_eventPreventDefault).on("dragstart"+t,d3_eventPreventDefault).on("selectstart"+t,d3_eventPreventDefault);if(null==T&&(T="onselectstart"in e?!1:d3_vendorSymbol(e.style,"userSelect")),T){var i=d3_documentElement(e).style,a=i[T];i[T]="none"}return function(e){if(r.on(t,null),T&&(i[T]=a),e){var o=function(){r.on(n,null)};r.on(n,function(){d3_eventPreventDefault(),o()},!0),setTimeout(o,0)}}}function d3_mousePoint(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>M){var i=d3_window(e);if(i.scrollX||i.scrollY){n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=n[0][0].getScreenCTM();M=!(a.f||a.e),n.remove()}}return M?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function d3_behavior_dragTouchId(){return o.event.changedTouches[0].identifier}function d3_sgn(e){return e>0?1:0>e?-1:0}function d3_cross2d(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function d3_acos(e){return e>1?0:-1>e?V:Math.acos(e)}function d3_asin(e){return e>1?L:-1>e?-L:Math.asin(e)}function d3_sinh(e){return((e=Math.exp(e))-1/e)/2}function d3_cosh(e){return((e=Math.exp(e))+1/e)/2}function d3_tanh(e){return((e=Math.exp(2*e))-1)/(e+1)}function d3_haversin(e){return(e=Math.sin(e/2))*e}function d3_color(){}function d3_hsl(e,t,n){return this instanceof d3_hsl?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof d3_hsl?new d3_hsl(e.h,e.s,e.l):d3_rgb_parse(""+e,d3_rgb_hsl,d3_hsl):new d3_hsl(e,t,n)}function d3_hsl_rgb(e,t,n){function v(e){return e>360?e-=360:0>e&&(e+=360),60>e?r+(i-r)*e/60:180>e?i:240>e?r+(i-r)*(240-e)/60:r}function vv(e){return Math.round(255*v(e))}var r,i;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,i=.5>=n?n*(1+t):n+t-n*t,r=2*n-i,new d3_rgb(vv(e+120),vv(e),vv(e-120))}function d3_hcl(e,t,n){return this instanceof d3_hcl?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof d3_hcl?new d3_hcl(e.h,e.c,e.l):e instanceof d3_lab?d3_lab_hcl(e.l,e.a,e.b):d3_lab_hcl((e=d3_rgb_lab((e=o.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new d3_hcl(e,t,n)}function d3_hcl_lab(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new d3_lab(n,Math.cos(e*=F)*t,Math.sin(e)*t)}function d3_lab(e,t,n){return this instanceof d3_lab?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof d3_lab?new d3_lab(e.l,e.a,e.b):e instanceof d3_hcl?d3_hcl_lab(e.h,e.c,e.l):d3_rgb_lab((e=d3_rgb(e)).r,e.g,e.b):new d3_lab(e,t,n)}function d3_lab_rgb(e,t,n){var r=(e+16)/116,i=r+t/500,o=r-n/200;return i=d3_lab_xyz(i)*$,r=d3_lab_xyz(r)*Z,o=d3_lab_xyz(o)*Y,new d3_rgb(d3_xyz_rgb(3.2404542*i-1.5371385*r-.4985314*o),d3_xyz_rgb(-.969266*i+1.8760108*r+.041556*o),d3_xyz_rgb(.0556434*i-.2040259*r+1.0572252*o))}function d3_lab_hcl(e,t,n){return e>0?new d3_hcl(Math.atan2(n,t)*W,Math.sqrt(t*t+n*n),e):new d3_hcl(NaN,NaN,e)}function d3_lab_xyz(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function d3_xyz_lab(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function d3_xyz_rgb(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function d3_rgb(e,t,n){return this instanceof d3_rgb?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof d3_rgb?new d3_rgb(e.r,e.g,e.b):d3_rgb_parse(""+e,d3_rgb,d3_hsl_rgb):new d3_rgb(e,t,n)}function d3_rgbNumber(e){return new d3_rgb(e>>16,e>>8&255,255&e)}function d3_rgbString(e){return d3_rgbNumber(e)+""}function d3_rgb_hex(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function d3_rgb_parse(e,t,n){var r,i,o,a=0,s=0,c=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(d3_rgb_parseNumber(i[0]),d3_rgb_parseNumber(i[1]),d3_rgb_parseNumber(i[2]))}return(o=ne.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&o)>>4,a=a>>4|a,s=240&o,s=s>>4|s,c=15&o,c=c<<4|c):7===e.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,c=255&o)),t(a,s,c))}function d3_rgb_hsl(e,t,n){var r,i,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-o,c=(a+o)/2;return s?(i=.5>c?s/(a+o):s/(2-a-o),r=e==a?(t-n)/s+(n>t?6:0):t==a?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,i=c>0&&1>c?0:r),new d3_hsl(r,i,c)}function d3_rgb_lab(e,t,n){e=d3_rgb_xyz(e),t=d3_rgb_xyz(t),n=d3_rgb_xyz(n);var r=d3_xyz_lab((.4124564*e+.3575761*t+.1804375*n)/$),i=d3_xyz_lab((.2126729*e+.7151522*t+.072175*n)/Z),o=d3_xyz_lab((.0193339*e+.119192*t+.9503041*n)/Y);return d3_lab(116*i-16,500*(r-i),200*(i-o))}function d3_rgb_xyz(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function d3_rgb_parseNumber(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function d3_functor(e){return"function"==typeof e?e:function(){return e}}function d3_xhrType(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),d3_xhr(t,n,e,r)}}function d3_xhr(e,t,n,r){function respond(){var e,t=u.status;if(!t&&d3_xhrHasResponse(u)||t>=200&&300>t||304===t){try{e=n.call(i,u)}catch(r){return void a.error.call(i,r)}a.load.call(i,e)}else a.error.call(i,u)}var i={},a=o.dispatch("beforesend","progress","load","error"),c={},u=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(e)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=respond:u.onreadystatechange=function(){u.readyState>3&&respond()},u.onprogress=function(e){var t=o.event;o.event=e;try{a.progress.call(i,u)}finally{o.event=t}},i.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?c[e]:(null==t?delete c[e]:c[e]=t+"",i)},i.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",i):t},i.responseType=function(e){return arguments.length?(l=e,i):l},i.response=function(e){return n=e,i},["get","post"].forEach(function(e){i[e]=function(){return i.send.apply(i,[e].concat(s(arguments)))}}),i.send=function(n,r,o){if(2===arguments.length&&"function"==typeof r&&(o=r,r=null),u.open(n,e,!0),null==t||"accept"in c||(c.accept=t+",*/*"),u.setRequestHeader)for(var s in c)u.setRequestHeader(s,c[s]);
return null!=t&&u.overrideMimeType&&u.overrideMimeType(t),null!=l&&(u.responseType=l),null!=o&&i.on("error",o).on("load",function(e){o(null,e)}),a.beforesend.call(i,u),u.send(null==r?null:r),i},i.abort=function(){return u.abort(),i},o.rebind(i,a,"on"),null==r?i:i.get(d3_xhr_fixCallback(r))}function d3_xhr_fixCallback(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function d3_xhrHasResponse(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function d3_timer(e,t,n){var r=arguments.length;2>r&&(t=0),3>r&&(n=Date.now());var i=n+t,o={c:e,t:i,n:null};return ie?ie.n=o:re=o,ie=o,oe||(ae=clearTimeout(ae),oe=1,se(d3_timer_step)),o}function d3_timer_step(){var e=d3_timer_mark(),t=d3_timer_sweep()-e;t>24?(isFinite(t)&&(clearTimeout(ae),ae=setTimeout(d3_timer_step,t)),oe=0):(oe=1,se(d3_timer_step))}function d3_timer_mark(){for(var e=Date.now(),t=re;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function d3_timer_sweep(){for(var e,t=re,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:re=t.n;return ie=e,n}function d3_format_precision(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function d3_formatPrefix(e,t){var n=Math.pow(10,3*m(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function d3_locale_numberFormat(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,a=r&&n?function(e,t){for(var i=e.length,o=[],a=0,s=r[0],c=0;i>0&&s>0&&(c+s+1>t&&(s=Math.max(1,t-c)),o.push(e.substring(i-=s,i+s)),!((c+=s+1)>t));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:d3_identity;return function(e){var n=ue.exec(e),r=n[1]||" ",s=n[2]||">",c=n[3]||"-",u=n[4]||"",l=n[5],p=+n[6],f=n[7],h=n[8],d=n[9],g=1,y="",m="",_=!1,v=!0;switch(h&&(h=+h.substring(1)),(l||"0"===r&&"="===s)&&(l=r="0",s="="),d){case"n":f=!0,d="g";break;case"%":g=100,m="%",d="f";break;case"p":g=100,m="%",d="r";break;case"b":case"o":case"x":case"X":"#"===u&&(y="0"+d.toLowerCase());case"c":v=!1;case"d":_=!0,h=0;break;case"s":g=-1,d="r"}"$"===u&&(y=i[0],m=i[1]),"r"!=d||h||(d="g"),null!=h&&("g"==d?h=Math.max(1,Math.min(21,h)):"e"!=d&&"f"!=d||(h=Math.max(0,Math.min(20,h)))),d=le.get(d)||d3_format_typeDefault;var b=l&&f;return function(e){var n=m;if(_&&e%1)return"";var i=0>e||0===e&&0>1/e?(e=-e,"-"):"-"===c?"":c;if(0>g){var u=o.formatPrefix(e,h);e=u.scale(e),n=u.symbol+m}else e*=g;e=d(e,h);var C,P,R=e.lastIndexOf(".");if(0>R){var w=v?e.lastIndexOf("e"):-1;0>w?(C=e,P=""):(C=e.substring(0,w),P=e.substring(w))}else C=e.substring(0,R),P=t+e.substring(R+1);!l&&f&&(C=a(C,1/0));var E=y.length+C.length+P.length+(b?0:i.length),S=p>E?new Array(E=p-E+1).join(r):"";return b&&(C=a(S+C,S.length?p-P.length:1/0)),i+=y,e=C+P,("<"===s?i+e+S:">"===s?S+i+e:"^"===s?S.substring(0,E>>=1)+i+e+S.substring(E):i+(b?e:S+e))+n}}}function d3_format_typeDefault(e){return e+""}function d3_date_utc(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function d3_time_interval(e,t,n){function round(t){var n=e(t),r=offset(n,1);return r-t>t-n?n:r}function ceil(n){return t(n=e(new fe(n-1)),1),n}function offset(e,n){return t(e=new fe(+e),n),e}function range(e,r,i){var o=ceil(e),a=[];if(i>1)for(;r>o;)n(o)%i||a.push(new Date(+o)),t(o,1);else for(;r>o;)a.push(new Date(+o)),t(o,1);return a}function range_utc(e,t,n){try{fe=d3_date_utc;var r=new d3_date_utc;return r._=e,range(r,t,n)}finally{fe=Date}}e.floor=e,e.round=round,e.ceil=ceil,e.offset=offset,e.range=range;var r=e.utc=d3_time_interval_utc(e);return r.floor=r,r.round=d3_time_interval_utc(round),r.ceil=d3_time_interval_utc(ceil),r.offset=d3_time_interval_utc(offset),r.range=range_utc,e}function d3_time_interval_utc(e){return function(t,n){try{fe=d3_date_utc;var r=new d3_date_utc;return r._=t,e(r,n)._}finally{fe=Date}}}function d3_locale_timeFormat(e){function d3_time_format(e){function format(n){for(var r,i,o,a=[],s=-1,c=0;++s<t;)37===e.charCodeAt(s)&&(a.push(e.slice(c,s)),null!=(i=de[r=e.charAt(++s)])&&(r=e.charAt(++s)),(o=v[r])&&(r=o(n,null==i?"e"===r?" ":"0":i)),a.push(r),c=s+1);return a.push(e.slice(c,s)),a.join("")}var t=e.length;return format.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=d3_time_parse(n,e,t,0);if(r!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=null!=n.Z&&fe!==d3_date_utc,o=new(i?d3_date_utc:fe);return"j"in n?o.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),o.setFullYear(n.y,0,1),o.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(o.getDay()+5)%7:n.w+7*n.U-(o.getDay()+6)%7)):o.setFullYear(n.y,n.m,n.d),o.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),i?o._:o},format.toString=function(){return e},format}function d3_time_parse(e,t,n,r){for(var i,o,a,s=0,c=t.length,u=n.length;c>s;){if(r>=u)return-1;if(i=t.charCodeAt(s++),37===i){if(a=t.charAt(s++),o=b[a in de?t.charAt(s++):a],!o||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function d3_time_parseWeekdayAbbrev(e,t,n){h.lastIndex=0;var r=h.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1}function d3_time_parseWeekday(e,t,n){p.lastIndex=0;var r=p.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1}function d3_time_parseMonthAbbrev(e,t,n){m.lastIndex=0;var r=m.exec(t.slice(n));return r?(e.m=_.get(r[0].toLowerCase()),n+r[0].length):-1}function d3_time_parseMonth(e,t,n){g.lastIndex=0;var r=g.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1}function d3_time_parseLocaleFull(e,t,n){return d3_time_parse(e,v.c.toString(),t,n)}function d3_time_parseLocaleDate(e,t,n){return d3_time_parse(e,v.x.toString(),t,n)}function d3_time_parseLocaleTime(e,t,n){return d3_time_parse(e,v.X.toString(),t,n)}function d3_time_parseAmPm(e,t,n){var r=l.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,c=e.months,u=e.shortMonths;d3_time_format.utc=function(e){function format(e){try{fe=d3_date_utc;var n=new fe;return n._=e,t(n)}finally{fe=Date}}var t=d3_time_format(e);return format.parse=function(e){try{fe=d3_date_utc;var n=t.parse(e);return n&&n._}finally{fe=Date}},format.toString=t.toString,format},d3_time_format.multi=d3_time_format.utc.multi=d3_time_formatMulti;var l=o.map(),p=d3_time_formatRe(a),f=d3_time_formatLookup(a),h=d3_time_formatRe(s),d=d3_time_formatLookup(s),g=d3_time_formatRe(c),y=d3_time_formatLookup(c),m=d3_time_formatRe(u),_=d3_time_formatLookup(u);i.forEach(function(e,t){l.set(e.toLowerCase(),t)});var v={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return c[e.getMonth()]},c:d3_time_format(t),d:function(e,t){return d3_time_formatPad(e.getDate(),t,2)},e:function(e,t){return d3_time_formatPad(e.getDate(),t,2)},H:function(e,t){return d3_time_formatPad(e.getHours(),t,2)},I:function(e,t){return d3_time_formatPad(e.getHours()%12||12,t,2)},j:function(e,t){return d3_time_formatPad(1+pe.dayOfYear(e),t,3)},L:function(e,t){return d3_time_formatPad(e.getMilliseconds(),t,3)},m:function(e,t){return d3_time_formatPad(e.getMonth()+1,t,2)},M:function(e,t){return d3_time_formatPad(e.getMinutes(),t,2)},p:function(e){return i[+(e.getHours()>=12)]},S:function(e,t){return d3_time_formatPad(e.getSeconds(),t,2)},U:function(e,t){return d3_time_formatPad(pe.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return d3_time_formatPad(pe.mondayOfYear(e),t,2)},x:d3_time_format(n),X:d3_time_format(r),y:function(e,t){return d3_time_formatPad(e.getFullYear()%100,t,2)},Y:function(e,t){return d3_time_formatPad(e.getFullYear()%1e4,t,4)},Z:d3_time_zone,"%":function(){return"%"}},b={a:d3_time_parseWeekdayAbbrev,A:d3_time_parseWeekday,b:d3_time_parseMonthAbbrev,B:d3_time_parseMonth,c:d3_time_parseLocaleFull,d:d3_time_parseDay,e:d3_time_parseDay,H:d3_time_parseHour24,I:d3_time_parseHour24,j:d3_time_parseDayOfYear,L:d3_time_parseMilliseconds,m:d3_time_parseMonthNumber,M:d3_time_parseMinutes,p:d3_time_parseAmPm,S:d3_time_parseSeconds,U:d3_time_parseWeekNumberSunday,w:d3_time_parseWeekdayNumber,W:d3_time_parseWeekNumberMonday,x:d3_time_parseLocaleDate,X:d3_time_parseLocaleTime,y:d3_time_parseYear,Y:d3_time_parseFullYear,Z:d3_time_parseZone,"%":d3_time_parseLiteralPercent};return d3_time_format}function d3_time_formatPad(e,t,n){var r=0>e?"-":"",i=(r?-e:e)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(t)+i:i)}function d3_time_formatRe(e){return new RegExp("^(?:"+e.map(o.requote).join("|")+")","i")}function d3_time_formatLookup(e){for(var t=new d3_Map,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function d3_time_parseWeekdayNumber(e,t,n){ge.lastIndex=0;var r=ge.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function d3_time_parseWeekNumberSunday(e,t,n){ge.lastIndex=0;var r=ge.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function d3_time_parseWeekNumberMonday(e,t,n){ge.lastIndex=0;var r=ge.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function d3_time_parseFullYear(e,t,n){ge.lastIndex=0;var r=ge.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function d3_time_parseYear(e,t,n){ge.lastIndex=0;var r=ge.exec(t.slice(n,n+2));return r?(e.y=d3_time_expandYear(+r[0]),n+r[0].length):-1}function d3_time_parseZone(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function d3_time_expandYear(e){return e+(e>68?1900:2e3)}function d3_time_parseMonthNumber(e,t,n){ge.lastIndex=0;var r=ge.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function d3_time_parseDay(e,t,n){ge.lastIndex=0;var r=ge.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function d3_time_parseDayOfYear(e,t,n){ge.lastIndex=0;var r=ge.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function d3_time_parseHour24(e,t,n){ge.lastIndex=0;var r=ge.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function d3_time_parseMinutes(e,t,n){ge.lastIndex=0;var r=ge.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function d3_time_parseSeconds(e,t,n){ge.lastIndex=0;var r=ge.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function d3_time_parseMilliseconds(e,t,n){ge.lastIndex=0;var r=ge.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function d3_time_zone(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=m(t)/60|0,i=m(t)%60;return n+d3_time_formatPad(r,"0",2)+d3_time_formatPad(i,"0",2)}function d3_time_parseLiteralPercent(e,t,n){ye.lastIndex=0;var r=ye.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function d3_time_formatMulti(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function d3_adder(){}function d3_adderSum(e,t,n){var r=n.s=e+t,i=r-e,o=r-i;n.t=e-o+(t-i)}function d3_geo_streamGeometry(e,t){e&&be.hasOwnProperty(e.type)&&be[e.type](e,t)}function d3_geo_streamLine(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function d3_geo_streamPolygon(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)d3_geo_streamLine(e[n],t,1);t.polygonEnd()}function d3_geo_areaRingStart(){function nextPoint(e,t){e*=F,t=t*F/2+V/4;var o=e-n,a=o>=0?1:-1,s=a*o,c=Math.cos(t),u=Math.sin(t),l=i*u,p=r*c+l*Math.cos(s),f=l*a*Math.sin(s);Pe.add(Math.atan2(f,p)),n=e,r=c,i=u}var e,t,n,r,i;Re.point=function(o,a){Re.point=nextPoint,n=(e=o)*F,r=Math.cos(a=(t=a)*F/2+V/4),i=Math.sin(a)},Re.lineEnd=function(){nextPoint(e,t)}}function d3_geo_cartesian(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function d3_geo_cartesianDot(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function d3_geo_cartesianCross(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function d3_geo_cartesianAdd(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function d3_geo_cartesianScale(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function d3_geo_cartesianNormalize(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function d3_geo_spherical(e){return[Math.atan2(e[1],e[0]),d3_asin(e[2])]}function d3_geo_sphericalEqual(e,t){return m(e[0]-t[0])<I&&m(e[1]-t[1])<I}function d3_geo_centroidPoint(e,t){e*=F;var n=Math.cos(t*=F);d3_geo_centroidPointXYZ(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function d3_geo_centroidPointXYZ(e,t,n){++we,Se+=(e-Se)/we,De+=(t-De)/we,Ae+=(n-Ae)/we}function d3_geo_centroidLineStart(){function nextPoint(r,i){r*=F;var o=Math.cos(i*=F),a=o*Math.cos(r),s=o*Math.sin(r),c=Math.sin(i),u=Math.atan2(Math.sqrt((u=t*c-n*s)*u+(u=n*a-e*c)*u+(u=e*s-t*a)*u),e*a+t*s+n*c);Ee+=u,xe+=u*(e+(e=a)),Oe+=u*(t+(t=s)),Te+=u*(n+(n=c)),d3_geo_centroidPointXYZ(e,t,n)}var e,t,n;ke.point=function(r,i){r*=F;var o=Math.cos(i*=F);e=o*Math.cos(r),t=o*Math.sin(r),n=Math.sin(i),ke.point=nextPoint,d3_geo_centroidPointXYZ(e,t,n)}}function d3_geo_centroidLineEnd(){ke.point=d3_geo_centroidPoint}function d3_geo_centroidRingStart(){function nextPoint(e,t){e*=F;var o=Math.cos(t*=F),a=o*Math.cos(e),s=o*Math.sin(e),c=Math.sin(t),u=r*c-i*s,l=i*a-n*c,p=n*s-r*a,f=Math.sqrt(u*u+l*l+p*p),h=n*a+r*s+i*c,d=f&&-d3_acos(h)/f,g=Math.atan2(f,h);Ne+=d*u,Me+=d*l,Ie+=d*p,Ee+=g,xe+=g*(n+(n=a)),Oe+=g*(r+(r=s)),Te+=g*(i+(i=c)),d3_geo_centroidPointXYZ(n,r,i)}var e,t,n,r,i;ke.point=function(o,a){e=o,t=a,ke.point=nextPoint,o*=F;var s=Math.cos(a*=F);n=s*Math.cos(o),r=s*Math.sin(o),i=Math.sin(a),d3_geo_centroidPointXYZ(n,r,i)},ke.lineEnd=function(){nextPoint(e,t),ke.lineEnd=d3_geo_centroidLineEnd,ke.point=d3_geo_centroidPoint}}function d3_geo_compose(e,t){function compose(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(compose.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),compose}function d3_true(){return!0}function d3_geo_clipPolygon(e,t,n,r,i){var o=[],a=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(d3_geo_sphericalEqual(n,r)){i.lineStart();for(var s=0;t>s;++s)i.point((n=e[s])[0],n[1]);return void i.lineEnd()}var c=new d3_geo_clipPolygonIntersection(n,e,null,!0),u=new d3_geo_clipPolygonIntersection(n,null,c,!1);c.o=u,o.push(c),a.push(u),c=new d3_geo_clipPolygonIntersection(r,e,null,!1),u=new d3_geo_clipPolygonIntersection(r,null,c,!0),c.o=u,o.push(c),a.push(u)}}),a.sort(t),d3_geo_clipPolygonLinkCircular(o),d3_geo_clipPolygonLinkCircular(a),o.length){for(var s=0,c=n,u=a.length;u>s;++s)a[s].e=c=!c;for(var l,p,f=o[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(var s=0,u=l.length;u>s;++s)i.point((p=l[s])[0],p[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d){l=h.p.z;for(var s=l.length-1;s>=0;--s)i.point((p=l[s])[0],p[1])}else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,l=h.z,d=!d}while(!h.v);i.lineEnd()}}}function d3_geo_clipPolygonLinkCircular(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function d3_geo_clipPolygonIntersection(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function d3_geo_clip(e,t,n,r){return function(i,a){function point(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&a.point(t,n)}function pointLine(e,t){var n=i(e,t);l.point(n[0],n[1])}function lineStart(){f.point=pointLine,l.lineStart()}function lineEnd(){f.point=point,l.lineEnd()}function pointRing(e,t){u.push([e,t]);var n=i(e,t);d.point(n[0],n[1])}function ringStart(){d.lineStart(),u=[]}function ringEnd(){pointRing(u[0][0],u[0][1]),d.lineEnd();var e,t=d.clean(),n=h.buffer(),r=n.length;if(u.pop(),c.push(u),u=null,r)if(1&t){e=n[0];var i,r=e.length-1,o=-1;if(r>0){for(g||(a.polygonStart(),g=!0),a.lineStart();++o<r;)a.point((i=e[o])[0],i[1]);a.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),s.push(n.filter(d3_geo_clipSegmentLength1))}var s,c,u,l=t(a),p=i.invert(r[0],r[1]),f={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){f.point=pointRing,f.lineStart=ringStart,f.lineEnd=ringEnd,s=[],c=[]},polygonEnd:function(){f.point=point,f.lineStart=lineStart,f.lineEnd=lineEnd,s=o.merge(s);var e=d3_geo_pointInPolygon(p,c);s.length?(g||(a.polygonStart(),g=!0),d3_geo_clipPolygon(s,d3_geo_clipSort,e,n,a)):e&&(g||(a.polygonStart(),g=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),g&&(a.polygonEnd(),g=!1),s=c=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},h=d3_geo_clipBufferListener(),d=t(h),g=!1;return f}}function d3_geo_clipSegmentLength1(e){return e.length>1}function d3_geo_clipBufferListener(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:d3_noop,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function d3_geo_clipSort(e,t){return((e=e.x)[0]<0?e[1]-L-I:L-e[1])-((t=t.x)[0]<0?t[1]-L-I:L-t[1])}function d3_geo_clipAntimeridianLine(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?V:-V,c=m(o-n);m(c-V)<I?(e.point(n,r=(r+a)/2>0?L:-L),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&c>=V&&(m(n-i)<I&&(n-=i*I),m(o-s)<I&&(o-=s*I),r=d3_geo_clipAntimeridianIntersect(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function d3_geo_clipAntimeridianIntersect(e,t,n,r){var i,o,a=Math.sin(e-n);return m(a)>I?Math.atan((Math.sin(t)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*o*a)):(t+r)/2}function d3_geo_clipAntimeridianInterpolate(e,t,n,r){var i;if(null==e)i=n*L,r.point(-V,i),r.point(0,i),r.point(V,i),r.point(V,0),r.point(V,-i),r.point(0,-i),r.point(-V,-i),r.point(-V,0),r.point(-V,i);else if(m(e[0]-t[0])>I){var o=e[0]<t[0]?V:-V;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function d3_geo_pointInPolygon(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Pe.reset();for(var s=0,c=t.length;c>s;++s){var u=t[s],l=u.length;if(l)for(var p=u[0],f=p[0],h=p[1]/2+V/4,d=Math.sin(h),g=Math.cos(h),y=1;;){y===l&&(y=0),e=u[y];var m=e[0],_=e[1]/2+V/4,v=Math.sin(_),b=Math.cos(_),C=m-f,P=C>=0?1:-1,R=P*C,w=R>V,E=d*v;if(Pe.add(Math.atan2(E*P*Math.sin(R),g*b+E*Math.cos(R))),o+=w?C+P*j:C,w^f>=n^m>=n){var S=d3_geo_cartesianCross(d3_geo_cartesian(p),d3_geo_cartesian(e));d3_geo_cartesianNormalize(S);var D=d3_geo_cartesianCross(i,S);d3_geo_cartesianNormalize(D);var A=(w^C>=0?-1:1)*d3_asin(D[2]);(r>A||r===A&&(S[0]||S[1]))&&(a+=w^C>=0?1:-1)}if(!y++)break;f=m,d=v,g=b,p=e}}return(-I>o||I>o&&0>Pe)^1&a}function d3_geo_clipCircle(e){function visible(e,n){return Math.cos(e)*Math.cos(n)>t}function clipLine(e){var t,i,o,a,s;return{lineStart:function(){a=o=!1,s=1},point:function(c,u){var l,p=[c,u],f=visible(c,u),h=n?f?0:code(c,u):f?code(c+(0>c?V:-V),u):0;if(!t&&(a=o=f)&&e.lineStart(),f!==o&&(l=intersect(t,p),(d3_geo_sphericalEqual(t,l)||d3_geo_sphericalEqual(p,l))&&(p[0]+=I,p[1]+=I,f=visible(p[0],p[1]))),f!==o)s=0,f?(e.lineStart(),l=intersect(p,t),e.point(l[0],l[1])):(l=intersect(t,p),e.point(l[0],l[1]),e.lineEnd()),t=l;else if(r&&t&&n^f){var d;h&i||!(d=intersect(p,t,!0))||(s=0,n?(e.lineStart(),e.point(d[0][0],d[0][1]),e.point(d[1][0],d[1][1]),e.lineEnd()):(e.point(d[1][0],d[1][1]),e.lineEnd(),e.lineStart(),e.point(d[0][0],d[0][1])))}!f||t&&d3_geo_sphericalEqual(t,p)||e.point(p[0],p[1]),t=p,o=f,i=h},lineEnd:function(){o&&e.lineEnd(),t=null},clean:function(){return s|(a&&o)<<1}}}function intersect(e,n,r){var i=d3_geo_cartesian(e),o=d3_geo_cartesian(n),a=[1,0,0],s=d3_geo_cartesianCross(i,o),c=d3_geo_cartesianDot(s,s),u=s[0],l=c-u*u;if(!l)return!r&&e;var p=t*c/l,f=-t*u/l,h=d3_geo_cartesianCross(a,s),d=d3_geo_cartesianScale(a,p),g=d3_geo_cartesianScale(s,f);d3_geo_cartesianAdd(d,g);var y=h,_=d3_geo_cartesianDot(d,y),v=d3_geo_cartesianDot(y,y),b=_*_-v*(d3_geo_cartesianDot(d,d)-1);if(!(0>b)){var C=Math.sqrt(b),P=d3_geo_cartesianScale(y,(-_-C)/v);if(d3_geo_cartesianAdd(P,d),P=d3_geo_spherical(P),!r)return P;var R,w=e[0],E=n[0],S=e[1],D=n[1];w>E&&(R=w,w=E,E=R);var A=E-w,x=m(A-V)<I,O=x||I>A;if(!x&&S>D&&(R=S,S=D,D=R),O?x?S+D>0^P[1]<(m(P[0]-w)<I?S:D):S<=P[1]&&P[1]<=D:A>V^(w<=P[0]&&P[0]<=E)){var T=d3_geo_cartesianScale(y,(-_+C)/v);return d3_geo_cartesianAdd(T,d),[P,d3_geo_spherical(T)]}}}function code(t,r){var i=n?e:V-e,o=0;return-i>t?o|=1:t>i&&(o|=2),-i>r?o|=4:r>i&&(o|=8),o}var t=Math.cos(e),n=t>0,r=m(t)>I,i=d3_geo_circleInterpolate(e,6*F);return d3_geo_clip(visible,clipLine,i,n?[0,-e]:[-V,e-V])}function d3_geom_clipLine(e,t,n,r){return function(i){var o,a=i.a,s=i.b,c=a.x,u=a.y,l=s.x,p=s.y,f=0,h=1,d=l-c,g=p-u;if(o=e-c,d||!(o>0)){if(o/=d,0>d){if(f>o)return;h>o&&(h=o)}else if(d>0){if(o>h)return;o>f&&(f=o)}if(o=n-c,d||!(0>o)){if(o/=d,0>d){if(o>h)return;o>f&&(f=o)}else if(d>0){if(f>o)return;h>o&&(h=o)}if(o=t-u,g||!(o>0)){if(o/=g,0>g){if(f>o)return;h>o&&(h=o)}else if(g>0){if(o>h)return;o>f&&(f=o)}if(o=r-u,g||!(0>o)){if(o/=g,0>g){if(o>h)return;o>f&&(f=o)}else if(g>0){if(f>o)return;h>o&&(h=o)}return f>0&&(i.a={x:c+f*d,y:u+f*g}),1>h&&(i.b={x:c+h*d,y:u+h*g}),i}}}}}}function d3_geo_clipExtent(e,t,n,r){function corner(r,i){return m(r[0]-e)<I?i>0?0:3:m(r[0]-n)<I?i>0?2:1:m(r[1]-t)<I?i>0?1:0:i>0?3:2}function compare(e,t){return comparePoints(e.x,t.x)}function comparePoints(e,t){var n=corner(e,1),r=corner(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(i){function insidePolygon(e){for(var t=0,n=s.length,r=e[1],i=0;n>i;++i)for(var o,a=1,c=s[i],u=c.length,l=c[0];u>a;++a)o=c[a],l[1]<=r?o[1]>r&&d3_cross2d(l,o,e)>0&&++t:o[1]<=r&&d3_cross2d(l,o,e)<0&&--t,l=o;return 0!==t}function interpolate(i,o,a,s){var c=0,u=0;if(null==i||(c=corner(i,a))!==(u=corner(o,a))||comparePoints(i,o)<0^a>0){do s.point(0===c||3===c?e:n,c>1?r:t);while((c=(c+a+4)%4)!==u)}else s.point(o[0],o[1])}function pointVisible(i,o){return i>=e&&n>=i&&o>=t&&r>=o}function point(e,t){pointVisible(e,t)&&i.point(e,t)}function lineStart(){b.point=linePoint,s&&s.push(c=[]),g=!0,d=!1,f=h=NaN}function lineEnd(){a&&(linePoint(u,l),p&&d&&_.rejoin(),a.push(_.buffer())),b.point=point,d&&i.lineEnd()}function linePoint(e,t){e=Math.max(-je,Math.min(je,e)),t=Math.max(-je,Math.min(je,t));var n=pointVisible(e,t);if(s&&c.push([e,t]),g)u=e,l=t,p=n,g=!1,n&&(i.lineStart(),i.point(e,t));else if(n&&d)i.point(e,t);else{var r={a:{x:f,y:h},b:{x:e,y:t}};v(r)?(d||(i.lineStart(),i.point(r.a.x,r.a.y)),i.point(r.b.x,r.b.y),n||i.lineEnd(),y=!1):n&&(i.lineStart(),i.point(e,t),y=!1)}f=e,h=t,d=n}var a,s,c,u,l,p,f,h,d,g,y,m=i,_=d3_geo_clipBufferListener(),v=d3_geom_clipLine(e,t,n,r),b={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){i=_,a=[],s=[],y=!0},polygonEnd:function(){i=m,a=o.merge(a);var t=insidePolygon([e,r]),n=y&&t,u=a.length;(n||u)&&(i.polygonStart(),n&&(i.lineStart(),interpolate(null,null,1,i),i.lineEnd()),u&&d3_geo_clipPolygon(a,compare,t,interpolate,i),i.polygonEnd()),a=s=c=null}};return b}}function d3_geo_conic(e){var t=0,n=V/3,r=d3_geo_projectionMutator(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*V/180,n=e[1]*V/180):[t/V*180,n/V*180]},i}function d3_geo_conicEqualArea(e,t){function forward(e,t){var n=Math.sqrt(i-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),o-n*Math.cos(e)]}var n=Math.sin(e),r=(n+Math.sin(t))/2,i=1+n*(2*r-n),o=Math.sqrt(i)/r;return forward.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/r,d3_asin((i-(e*e+n*n)*r*r)/(2*r))]},forward}function d3_geo_pathAreaRingStart(){function nextPoint(e,t){Le+=r*e-n*t,n=e,r=t}var e,t,n,r;ze.point=function(i,o){ze.point=nextPoint,e=n=i,t=r=o},ze.lineEnd=function(){nextPoint(e,t)}}function d3_geo_pathBoundsPoint(e,t){Fe>e&&(Fe=e),e>Ue&&(Ue=e),We>t&&(We=t),t>He&&(He=t)}function d3_geo_pathBuffer(){function point(n,r){t.push("M",n,",",r,e)}function pointLineStart(e,r){t.push("M",e,",",r),n.point=pointLine}function pointLine(e,n){t.push("L",e,",",n)}function lineEnd(){n.point=point}function lineEndPolygon(){t.push("Z")}var e=d3_geo_pathBufferCircle(4.5),t=[],n={point:point,lineStart:function(){n.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){n.lineEnd=lineEndPolygon},polygonEnd:function(){n.lineEnd=lineEnd,n.point=point},pointRadius:function(t){return e=d3_geo_pathBufferCircle(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};return n}function d3_geo_pathBufferCircle(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function d3_geo_pathCentroidPoint(e,t){Se+=e,De+=t,++Ae}function d3_geo_pathCentroidLineStart(){function nextPoint(n,r){var i=n-e,o=r-t,a=Math.sqrt(i*i+o*o);xe+=a*(e+n)/2,Oe+=a*(t+r)/2,Te+=a,d3_geo_pathCentroidPoint(e=n,t=r)}var e,t;Ge.point=function(n,r){Ge.point=nextPoint,d3_geo_pathCentroidPoint(e=n,t=r)}}function d3_geo_pathCentroidLineEnd(){Ge.point=d3_geo_pathCentroidPoint}function d3_geo_pathCentroidRingStart(){function nextPoint(e,t){var i=e-n,o=t-r,a=Math.sqrt(i*i+o*o);xe+=a*(n+e)/2,Oe+=a*(r+t)/2,Te+=a,a=r*e-n*t,Ne+=a*(n+e),Me+=a*(r+t),Ie+=3*a,d3_geo_pathCentroidPoint(n=e,r=t)}var e,t,n,r;Ge.point=function(i,o){Ge.point=nextPoint,d3_geo_pathCentroidPoint(e=n=i,t=r=o)},Ge.lineEnd=function(){nextPoint(e,t)}}function d3_geo_pathContext(e){function point(n,r){e.moveTo(n+t,r),e.arc(n,r,t,0,j)}function pointLineStart(t,r){e.moveTo(t,r),n.point=pointLine}function pointLine(t,n){e.lineTo(t,n)}function lineEnd(){n.point=point}function lineEndPolygon(){e.closePath()}var t=4.5,n={point:point,lineStart:function(){n.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){n.lineEnd=lineEndPolygon},polygonEnd:function(){n.lineEnd=lineEnd,n.point=point},pointRadius:function(e){return t=e,n},result:d3_noop};return n}function d3_geo_resample(e){function resample(e){return(r?resampleRecursive:resampleNone)(e)}function resampleNone(t){return d3_geo_transformPoint(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function resampleRecursive(t){function point(n,r){n=e(n,r),t.point(n[0],n[1])}function lineStart(){p=NaN,y.point=linePoint,t.lineStart()}function linePoint(n,i){var o=d3_geo_cartesian([n,i]),a=e(n,i);resampleLineTo(p,f,l,h,d,g,p=a[0],f=a[1],l=n,h=o[0],d=o[1],g=o[2],r,t),t.point(p,f)}function lineEnd(){y.point=point,t.lineEnd()}function ringStart(){lineStart(),y.point=ringPoint,y.lineEnd=ringEnd}function ringPoint(e,t){linePoint(n=e,i=t),o=p,a=f,s=h,c=d,u=g,y.point=linePoint}function ringEnd(){resampleLineTo(p,f,l,h,d,g,o,a,n,s,c,u,r,t),y.lineEnd=lineEnd,lineEnd()}var n,i,o,a,s,c,u,l,p,f,h,d,g,y={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){t.polygonStart(),y.lineStart=ringStart},polygonEnd:function(){t.polygonEnd(),y.lineStart=lineStart}};return y}function resampleLineTo(r,i,o,a,s,c,u,l,p,f,h,d,g,y){var _=u-r,v=l-i,b=_*_+v*v;if(b>4*t&&g--){var C=a+f,P=s+h,R=c+d,w=Math.sqrt(C*C+P*P+R*R),E=Math.asin(R/=w),S=m(m(R)-1)<I||m(o-p)<I?(o+p)/2:Math.atan2(P,C),D=e(S,E),A=D[0],x=D[1],O=A-r,T=x-i,N=v*O-_*T;(N*N/b>t||m((_*O+v*T)/b-.5)>.3||n>a*f+s*h+c*d)&&(resampleLineTo(r,i,o,a,s,c,A,x,S,C/=w,P/=w,R,g,y),y.point(A,x),resampleLineTo(A,x,S,C,P,R,u,l,p,f,h,d,g,y))}}var t=.5,n=Math.cos(30*F),r=16;return resample.precision=function(e){return arguments.length?(r=(t=e*e)>0&&16,resample):Math.sqrt(t)},resample}function d3_geo_pathProjectStream(e){var t=d3_geo_resample(function(t,n){return e([t*W,n*W])});return function(e){return d3_geo_projectionRadians(t(e))}}function d3_geo_transform(e){this.stream=e}function d3_geo_transformPoint(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function d3_geo_projection(e){return d3_geo_projectionMutator(function(){return e})()}function d3_geo_projectionMutator(e){function projection(e){return e=r(e[0]*F,e[1]*F),[e[0]*u+i,a-e[1]*u]}function invert(e){return e=r.invert((e[0]-i)/u,(a-e[1])/u),e&&[e[0]*W,e[1]*W]}function reset(){r=d3_geo_compose(n=d3_geo_rotation(d,g,y),t);var e=t(f,h);return i=l-e[0]*u,a=p+e[1]*u,invalidate()}function invalidate(){return s&&(s.valid=!1,s=null),projection}var t,n,r,i,a,s,c=d3_geo_resample(function(e,n){return e=t(e,n),[e[0]*u+i,a-e[1]*u]}),u=150,l=480,p=250,f=0,h=0,d=0,g=0,y=0,m=Ve,_=d3_identity,v=null,b=null;return projection.stream=function(e){return s&&(s.valid=!1),s=d3_geo_projectionRadians(m(n,c(_(e)))),s.valid=!0,s},projection.clipAngle=function(e){return arguments.length?(m=null==e?(v=e,Ve):d3_geo_clipCircle((v=+e)*F),invalidate()):v},projection.clipExtent=function(e){return arguments.length?(b=e,_=e?d3_geo_clipExtent(e[0][0],e[0][1],e[1][0],e[1][1]):d3_identity,invalidate()):b},projection.scale=function(e){return arguments.length?(u=+e,reset()):u},projection.translate=function(e){return arguments.length?(l=+e[0],p=+e[1],reset()):[l,p]},projection.center=function(e){return arguments.length?(f=e[0]%360*F,h=e[1]%360*F,reset()):[f*W,h*W]},projection.rotate=function(e){return arguments.length?(d=e[0]%360*F,g=e[1]%360*F,y=e.length>2?e[2]%360*F:0,reset()):[d*W,g*W,y*W]},o.rebind(projection,c,"precision"),function(){return t=e.apply(this,arguments),projection.invert=t.invert&&invert,reset()}}function d3_geo_projectionRadians(e){return d3_geo_transformPoint(e,function(t,n){e.point(t*F,n*F)})}function d3_geo_equirectangular(e,t){return[e,t]}function d3_geo_identityRotation(e,t){return[e>V?e-j:-V>e?e+j:e,t]}function d3_geo_rotation(e,t,n){return e?t||n?d3_geo_compose(d3_geo_rotationλ(e),d3_geo_rotationφγ(t,n)):d3_geo_rotationλ(e):t||n?d3_geo_rotationφγ(t,n):d3_geo_identityRotation}function d3_geo_forwardRotationλ(e){return function(t,n){return t+=e,[t>V?t-j:-V>t?t+j:t,n]}}function d3_geo_rotationλ(e){var t=d3_geo_forwardRotationλ(e);return t.invert=d3_geo_forwardRotationλ(-e),t}function d3_geo_rotationφγ(e,t){function rotation(e,t){var a=Math.cos(t),s=Math.cos(e)*a,c=Math.sin(e)*a,u=Math.sin(t),l=u*n+s*r;return[Math.atan2(c*i-l*o,s*n-u*r),d3_asin(l*i+c*o)]}var n=Math.cos(e),r=Math.sin(e),i=Math.cos(t),o=Math.sin(t);return rotation.invert=function(e,t){var a=Math.cos(t),s=Math.cos(e)*a,c=Math.sin(e)*a,u=Math.sin(t),l=u*i-c*o;return[Math.atan2(c*i+u*o,s*n+l*r),d3_asin(l*n-s*r)]},rotation}function d3_geo_circleInterpolate(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,o,a,s){var c=a*t;null!=i?(i=d3_geo_circleAngle(n,i),o=d3_geo_circleAngle(n,o),(a>0?o>i:i>o)&&(i+=a*j)):(i=e+a*j,o=e-.5*c);for(var u,l=i;a>0?l>o:o>l;l-=c)s.point((u=d3_geo_spherical([n,-r*Math.cos(l),-r*Math.sin(l)]))[0],u[1])}}function d3_geo_circleAngle(e,t){var n=d3_geo_cartesian(t);n[0]-=e,d3_geo_cartesianNormalize(n);var r=d3_acos(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-I)%(2*Math.PI)}function d3_geo_graticuleX(e,t,n){var r=o.range(e,t-I,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function d3_geo_graticuleY(e,t,n){var r=o.range(e,t-I,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function d3_source(e){return e.source}function d3_target(e){return e.target}function d3_geo_interpolate(e,t,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(r),s=Math.sin(r),c=i*Math.cos(e),u=i*Math.sin(e),l=a*Math.cos(n),p=a*Math.sin(n),f=2*Math.asin(Math.sqrt(d3_haversin(r-t)+i*a*d3_haversin(n-e))),h=1/Math.sin(f),d=f?function(e){var t=Math.sin(e*=f)*h,n=Math.sin(f-e)*h,r=n*c+t*l,i=n*u+t*p,a=n*o+t*s;return[Math.atan2(i,r)*W,Math.atan2(a,Math.sqrt(r*r+i*i))*W]}:function(){return[e*W,t*W]};return d.distance=f,d}function d3_geo_lengthLineStart(){function nextPoint(r,i){var o=Math.sin(i*=F),a=Math.cos(i),s=m((r*=F)-e),c=Math.cos(s);Ke+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=n*o-t*a*c)*s),t*o+n*a*c),e=r,t=o,n=a}var e,t,n;Je.point=function(r,i){e=r*F,t=Math.sin(i*=F),n=Math.cos(i),Je.point=nextPoint},Je.lineEnd=function(){Je.point=Je.lineEnd=d3_noop}}function d3_geo_azimuthal(e,t){function azimuthal(t,n){var r=Math.cos(t),i=Math.cos(n),o=e(r*i);return[o*i*Math.sin(t),o*Math.sin(n)]}return azimuthal.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(e*o,r*a),Math.asin(r&&n*o/r)]},azimuthal}function d3_geo_conicConformal(e,t){function forward(e,t){o>0?-L+I>t&&(t=-L+I):t>L-I&&(t=L-I);var n=o/Math.pow(r(t),i);return[n*Math.sin(i*e),o-n*Math.cos(i*e)]}var n=Math.cos(e),r=function(e){
return Math.tan(V/4+e/2)},i=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(r(t)/r(e)),o=n*Math.pow(r(e),i)/i;return i?(forward.invert=function(e,t){var n=o-t,r=d3_sgn(i)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/i,2*Math.atan(Math.pow(o/r,1/i))-L]},forward):d3_geo_mercator}function d3_geo_conicEquidistant(e,t){function forward(e,t){var n=i-t;return[n*Math.sin(r*e),i-n*Math.cos(r*e)]}var n=Math.cos(e),r=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),i=n/r+e;return m(r)<I?d3_geo_equirectangular:(forward.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/r,i-d3_sgn(r)*Math.sqrt(e*e+n*n)]},forward)}function d3_geo_mercator(e,t){return[e,Math.log(Math.tan(V/4+t/2))]}function d3_geo_mercatorProjection(e){var t,n=d3_geo_projection(e),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=o.apply(n,arguments);if(a===n){if(t=null==e){var s=V*r(),c=i();o([[c[0]-s,c[1]-s],[c[0]+s,c[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}function d3_geo_transverseMercator(e,t){return[Math.log(Math.tan(V/4+t/2)),-e]}function d3_geom_pointX(e){return e[0]}function d3_geom_pointY(e){return e[1]}function d3_geom_hullUpper(e){for(var t=e.length,n=[0,1],r=2,i=2;t>i;i++){for(;r>1&&d3_cross2d(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function d3_geom_hullOrder(e,t){return e[0]-t[0]||e[1]-t[1]}function d3_geom_polygonInside(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function d3_geom_polygonIntersect(e,t,n,r){var i=e[0],o=n[0],a=t[0]-i,s=r[0]-o,c=e[1],u=n[1],l=t[1]-c,p=r[1]-u,f=(s*(c-u)-p*(i-o))/(p*a-s*l);return[i+f*a,c+f*l]}function d3_geom_polygonClosed(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function d3_geom_voronoiBeach(){d3_geom_voronoiRedBlackNode(this),this.edge=this.site=this.circle=null}function d3_geom_voronoiCreateBeach(e){var t=at.pop()||new d3_geom_voronoiBeach;return t.site=e,t}function d3_geom_voronoiDetachBeach(e){d3_geom_voronoiDetachCircle(e),rt.remove(e),at.push(e),d3_geom_voronoiRedBlackNode(e)}function d3_geom_voronoiRemoveBeach(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},o=e.P,a=e.N,s=[e];d3_geom_voronoiDetachBeach(e);for(var c=o;c.circle&&m(n-c.circle.x)<I&&m(r-c.circle.cy)<I;)o=c.P,s.unshift(c),d3_geom_voronoiDetachBeach(c),c=o;s.unshift(c),d3_geom_voronoiDetachCircle(c);for(var u=a;u.circle&&m(n-u.circle.x)<I&&m(r-u.circle.cy)<I;)a=u.N,s.push(u),d3_geom_voronoiDetachBeach(u),u=a;s.push(u),d3_geom_voronoiDetachCircle(u);var l,p=s.length;for(l=1;p>l;++l)u=s[l],c=s[l-1],d3_geom_voronoiSetEdgeEnd(u.edge,c.site,u.site,i);c=s[0],u=s[p-1],u.edge=d3_geom_voronoiCreateEdge(c.site,u.site,null,i),d3_geom_voronoiAttachCircle(c),d3_geom_voronoiAttachCircle(u)}function d3_geom_voronoiAddBeach(e){for(var t,n,r,i,o=e.x,a=e.y,s=rt._;s;)if(r=d3_geom_voronoiLeftBreakPoint(s,a)-o,r>I)s=s.L;else{if(i=o-d3_geom_voronoiRightBreakPoint(s,a),!(i>I)){r>-I?(t=s.P,n=s):i>-I?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var c=d3_geom_voronoiCreateBeach(e);if(rt.insert(t,c),t||n){if(t===n)return d3_geom_voronoiDetachCircle(t),n=d3_geom_voronoiCreateBeach(t.site),rt.insert(c,n),c.edge=n.edge=d3_geom_voronoiCreateEdge(t.site,c.site),d3_geom_voronoiAttachCircle(t),void d3_geom_voronoiAttachCircle(n);if(!n)return void(c.edge=d3_geom_voronoiCreateEdge(t.site,c.site));d3_geom_voronoiDetachCircle(t),d3_geom_voronoiDetachCircle(n);var u=t.site,l=u.x,p=u.y,f=e.x-l,h=e.y-p,d=n.site,g=d.x-l,y=d.y-p,m=2*(f*y-h*g),_=f*f+h*h,v=g*g+y*y,b={x:(y*_-h*v)/m+l,y:(f*v-g*_)/m+p};d3_geom_voronoiSetEdgeEnd(n.edge,u,d,b),c.edge=d3_geom_voronoiCreateEdge(u,e,null,b),n.edge=d3_geom_voronoiCreateEdge(e,d,null,b),d3_geom_voronoiAttachCircle(t),d3_geom_voronoiAttachCircle(n)}}function d3_geom_voronoiLeftBreakPoint(e,t){var n=e.site,r=n.x,i=n.y,o=i-t;if(!o)return r;var a=e.P;if(!a)return-(1/0);n=a.site;var s=n.x,c=n.y,u=c-t;if(!u)return s;var l=s-r,p=1/o-1/u,f=l/u;return p?(-f+Math.sqrt(f*f-2*p*(l*l/(-2*u)-c+u/2+i-o/2)))/p+r:(r+s)/2}function d3_geom_voronoiRightBreakPoint(e,t){var n=e.N;if(n)return d3_geom_voronoiLeftBreakPoint(n,t);var r=e.site;return r.y===t?r.x:1/0}function d3_geom_voronoiCell(e){this.site=e,this.edges=[]}function d3_geom_voronoiCloseCells(e){for(var t,n,r,i,o,a,s,c,u,l,p=e[0][0],f=e[1][0],h=e[0][1],d=e[1][1],g=nt,y=g.length;y--;)if(o=g[y],o&&o.prepare())for(s=o.edges,c=s.length,a=0;c>a;)l=s[a].end(),r=l.x,i=l.y,u=s[++a%c].start(),t=u.x,n=u.y,(m(r-t)>I||m(i-n)>I)&&(s.splice(a,0,new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(o.site,l,m(r-p)<I&&d-i>I?{x:p,y:m(t-p)<I?n:d}:m(i-d)<I&&f-r>I?{x:m(n-d)<I?t:f,y:d}:m(r-f)<I&&i-h>I?{x:f,y:m(t-f)<I?n:h}:m(i-h)<I&&r-p>I?{x:m(n-h)<I?t:p,y:h}:null),o.site,null)),++c)}function d3_geom_voronoiHalfEdgeOrder(e,t){return t.angle-e.angle}function d3_geom_voronoiCircle(){d3_geom_voronoiRedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function d3_geom_voronoiAttachCircle(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i.x,s=i.y,c=r.x-a,u=r.y-s,l=o.x-a,p=o.y-s,f=2*(c*p-u*l);if(!(f>=-k)){var h=c*c+u*u,d=l*l+p*p,g=(p*h-u*d)/f,y=(c*d-l*h)/f,p=y+s,m=st.pop()||new d3_geom_voronoiCircle;m.arc=e,m.site=i,m.x=g+a,m.y=p+Math.sqrt(g*g+y*y),m.cy=p,e.circle=m;for(var _=null,v=ot._;v;)if(m.y<v.y||m.y===v.y&&m.x<=v.x){if(!v.L){_=v.P;break}v=v.L}else{if(!v.R){_=v;break}v=v.R}ot.insert(_,m),_||(it=m)}}}}function d3_geom_voronoiDetachCircle(e){var t=e.circle;t&&(t.P||(it=t.N),ot.remove(t),st.push(t),d3_geom_voronoiRedBlackNode(t),e.circle=null)}function d3_geom_voronoiClipEdges(e){for(var t,n=tt,r=d3_geom_clipLine(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)t=n[i],(!d3_geom_voronoiConnectEdge(t,e)||!r(t)||m(t.a.x-t.b.x)<I&&m(t.a.y-t.b.y)<I)&&(t.a=t.b=null,n.splice(i,1))}function d3_geom_voronoiConnectEdge(e,t){var n=e.b;if(n)return!0;var r,i,o=e.a,a=t[0][0],s=t[1][0],c=t[0][1],u=t[1][1],l=e.l,p=e.r,f=l.x,h=l.y,d=p.x,g=p.y,y=(f+d)/2,m=(h+g)/2;if(g===h){if(a>y||y>=s)return;if(f>d){if(o){if(o.y>=u)return}else o={x:y,y:c};n={x:y,y:u}}else{if(o){if(o.y<c)return}else o={x:y,y:u};n={x:y,y:c}}}else if(r=(f-d)/(g-h),i=m-r*y,-1>r||r>1)if(f>d){if(o){if(o.y>=u)return}else o={x:(c-i)/r,y:c};n={x:(u-i)/r,y:u}}else{if(o){if(o.y<c)return}else o={x:(u-i)/r,y:u};n={x:(c-i)/r,y:c}}else if(g>h){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return e.a=o,e.b=n,!0}function d3_geom_voronoiEdge(e,t){this.l=e,this.r=t,this.a=this.b=null}function d3_geom_voronoiCreateEdge(e,t,n,r){var i=new d3_geom_voronoiEdge(e,t);return tt.push(i),n&&d3_geom_voronoiSetEdgeEnd(i,e,t,n),r&&d3_geom_voronoiSetEdgeEnd(i,t,e,r),nt[e.i].edges.push(new d3_geom_voronoiHalfEdge(i,e,t)),nt[t.i].edges.push(new d3_geom_voronoiHalfEdge(i,t,e)),i}function d3_geom_voronoiCreateBorderEdge(e,t,n){var r=new d3_geom_voronoiEdge(e,null);return r.a=t,r.b=n,tt.push(r),r}function d3_geom_voronoiSetEdgeEnd(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function d3_geom_voronoiHalfEdge(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function d3_geom_voronoiRedBlackTree(){this._=null}function d3_geom_voronoiRedBlackNode(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function d3_geom_voronoiRedBlackRotateLeft(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function d3_geom_voronoiRedBlackRotateRight(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function d3_geom_voronoiRedBlackFirst(e){for(;e.L;)e=e.L;return e}function d3_geom_voronoi(e,t){var n,r,i,o=e.sort(d3_geom_voronoiVertexOrder).pop();for(tt=[],nt=new Array(e.length),rt=new d3_geom_voronoiRedBlackTree,ot=new d3_geom_voronoiRedBlackTree;;)if(i=it,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(nt[o.i]=new d3_geom_voronoiCell(o),d3_geom_voronoiAddBeach(o),n=o.x,r=o.y),o=e.pop();else{if(!i)break;d3_geom_voronoiRemoveBeach(i.arc)}t&&(d3_geom_voronoiClipEdges(t),d3_geom_voronoiCloseCells(t));var a={cells:nt,edges:tt};return rt=ot=tt=nt=null,a}function d3_geom_voronoiVertexOrder(e,t){return t.y-e.y||t.x-e.x}function d3_geom_voronoiTriangleArea(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function d3_geom_quadtreeCompatX(e){return e.x}function d3_geom_quadtreeCompatY(e){return e.y}function d3_geom_quadtreeNode(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function d3_geom_quadtreeVisit(e,t,n,r,i,o){if(!e(t,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),c=t.nodes;c[0]&&d3_geom_quadtreeVisit(e,c[0],n,r,a,s),c[1]&&d3_geom_quadtreeVisit(e,c[1],a,r,i,s),c[2]&&d3_geom_quadtreeVisit(e,c[2],n,s,a,o),c[3]&&d3_geom_quadtreeVisit(e,c[3],a,s,i,o)}}function d3_geom_quadtreeFind(e,t,n,r,i,o,a){var s,c=1/0;return function find(e,u,l,p,f){if(!(u>o||l>a||r>p||i>f)){if(h=e.point){var h,d=t-e.x,g=n-e.y,y=d*d+g*g;if(c>y){var m=Math.sqrt(c=y);r=t-m,i=n-m,o=t+m,a=n+m,s=h}}for(var _=e.nodes,v=.5*(u+p),b=.5*(l+f),C=t>=v,P=n>=b,R=P<<1|C,w=R+4;w>R;++R)if(e=_[3&R])switch(3&R){case 0:find(e,u,l,v,b);break;case 1:find(e,v,l,p,b);break;case 2:find(e,u,b,v,f);break;case 3:find(e,v,b,p,f)}}}(e,r,i,o,a),s}function d3_interpolateRgb(e,t){e=o.rgb(e),t=o.rgb(t);var n=e.r,r=e.g,i=e.b,a=t.r-n,s=t.g-r,c=t.b-i;return function(e){return"#"+d3_rgb_hex(Math.round(n+a*e))+d3_rgb_hex(Math.round(r+s*e))+d3_rgb_hex(Math.round(i+c*e))}}function d3_interpolateObject(e,t){var n,r={},i={};for(n in e)n in t?r[n]=d3_interpolate(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function d3_interpolateNumber(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function d3_interpolateString(e,t){var n,r,i,o=ut.lastIndex=lt.lastIndex=0,a=-1,s=[],c=[];for(e+="",t+="";(n=ut.exec(e))&&(r=lt.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:d3_interpolateNumber(n,r)})),o=lt.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?(t=c[0].x,function(e){return t(e)+""}):function(){return t}:(t=c.length,function(e){for(var n,r=0;t>r;++r)s[(n=c[r]).i]=n.x(e);return s.join("")})}function d3_interpolate(e,t){for(var n,r=o.interpolators.length;--r>=0&&!(n=o.interpolators[r](e,t)););return n}function d3_interpolateArray(e,t){var n,r=[],i=[],o=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;s>n;++n)r.push(d3_interpolate(e[n],t[n]));for(;o>n;++n)i[n]=e[n];for(;a>n;++n)i[n]=t[n];return function(e){for(n=0;s>n;++n)i[n]=r[n](e);return i}}function d3_ease_clamp(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function d3_ease_reverse(e){return function(t){return 1-e(1-t)}}function d3_ease_reflect(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function d3_ease_quad(e){return e*e}function d3_ease_cubic(e){return e*e*e}function d3_ease_cubicInOut(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function d3_ease_poly(e){return function(t){return Math.pow(t,e)}}function d3_ease_sin(e){return 1-Math.cos(e*L)}function d3_ease_exp(e){return Math.pow(2,10*(e-1))}function d3_ease_circle(e){return 1-Math.sqrt(1-e*e)}function d3_ease_elastic(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/j*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*j/t)}}function d3_ease_back(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function d3_ease_bounce(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function d3_interpolateHcl(e,t){e=o.hcl(e),t=o.hcl(t);var n=e.h,r=e.c,i=e.l,a=t.h-n,s=t.c-r,c=t.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?t.c:r),isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:-180>a&&(a+=360),function(e){return d3_hcl_lab(n+a*e,r+s*e,i+c*e)+""}}function d3_interpolateHsl(e,t){e=o.hsl(e),t=o.hsl(t);var n=e.h,r=e.s,i=e.l,a=t.h-n,s=t.s-r,c=t.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?t.s:r),isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:-180>a&&(a+=360),function(e){return d3_hsl_rgb(n+a*e,r+s*e,i+c*e)+""}}function d3_interpolateLab(e,t){e=o.lab(e),t=o.lab(t);var n=e.l,r=e.a,i=e.b,a=t.l-n,s=t.a-r,c=t.b-i;return function(e){return d3_lab_rgb(n+a*e,r+s*e,i+c*e)+""}}function d3_interpolateRound(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function d3_transform(e){var t=[e.a,e.b],n=[e.c,e.d],r=d3_transformNormalize(t),i=d3_transformDot(t,n),o=d3_transformNormalize(d3_transformCombine(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*W,this.translate=[e.e,e.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*W:0}function d3_transformDot(e,t){return e[0]*t[0]+e[1]*t[1]}function d3_transformNormalize(e){var t=Math.sqrt(d3_transformDot(e,e));return t&&(e[0]/=t,e[1]/=t),t}function d3_transformCombine(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function d3_interpolateTransformPop(e){return e.length?e.pop()+",":""}function d3_interpolateTranslate(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:d3_interpolateNumber(e[0],t[0])},{i:i-2,x:d3_interpolateNumber(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}function d3_interpolateRotate(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(d3_interpolateTransformPop(n)+"rotate(",null,")")-2,x:d3_interpolateNumber(e,t)})):t&&n.push(d3_interpolateTransformPop(n)+"rotate("+t+")")}function d3_interpolateSkew(e,t,n,r){e!==t?r.push({i:n.push(d3_interpolateTransformPop(n)+"skewX(",null,")")-2,x:d3_interpolateNumber(e,t)}):t&&n.push(d3_interpolateTransformPop(n)+"skewX("+t+")")}function d3_interpolateScale(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push(d3_interpolateTransformPop(n)+"scale(",null,",",null,")");r.push({i:i-4,x:d3_interpolateNumber(e[0],t[0])},{i:i-2,x:d3_interpolateNumber(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(d3_interpolateTransformPop(n)+"scale("+t+")")}function d3_interpolateTransform(e,t){var n=[],r=[];return e=o.transform(e),t=o.transform(t),d3_interpolateTranslate(e.translate,t.translate,n,r),d3_interpolateRotate(e.rotate,t.rotate,n,r),d3_interpolateSkew(e.skew,t.skew,n,r),d3_interpolateScale(e.scale,t.scale,n,r),e=t=null,function(e){for(var t,i=-1,o=r.length;++i<o;)n[(t=r[i]).i]=t.x(e);return n.join("")}}function d3_uninterpolateNumber(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function d3_uninterpolateClamp(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function d3_layout_bundlePath(e){for(var t=e.source,n=e.target,r=d3_layout_bundleLeastCommonAncestor(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function d3_layout_bundleAncestors(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function d3_layout_bundleLeastCommonAncestor(e,t){if(e===t)return e;for(var n=d3_layout_bundleAncestors(e),r=d3_layout_bundleAncestors(t),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function d3_layout_forceDragstart(e){e.fixed|=2}function d3_layout_forceDragend(e){e.fixed&=-7}function d3_layout_forceMouseover(e){e.fixed|=4,e.px=e.x,e.py=e.y}function d3_layout_forceMouseout(e){e.fixed&=-5}function d3_layout_forceAccumulate(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var o,a=e.nodes,s=a.length,c=-1;++c<s;)o=a[c],null!=o&&(d3_layout_forceAccumulate(o,t,n),e.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=t*n[e.point.index];e.charge+=e.pointCharge=u,r+=u*e.point.x,i+=u*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function d3_layout_hierarchyRebind(e,t){return o.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=d3_layout_hierarchyLinks,e}function d3_layout_hierarchyVisitBefore(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function d3_layout_hierarchyVisitAfter(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(o=e.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(e=r.pop());)t(e)}function d3_layout_hierarchyChildren(e){return e.children}function d3_layout_hierarchyValue(e){return e.value}function d3_layout_hierarchySort(e,t){return t.value-e.value}function d3_layout_hierarchyLinks(e){return o.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function d3_layout_stackX(e){return e.x}function d3_layout_stackY(e){return e.y}function d3_layout_stackOut(e,t,n){e.y0=t,e.y=n}function d3_layout_stackOrderDefault(e){return o.range(e.length)}function d3_layout_stackOffsetZero(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function d3_layout_stackMaxIndex(e){for(var t,n=1,r=0,i=e[0][1],o=e.length;o>n;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function d3_layout_stackReduceSum(e){return e.reduce(d3_layout_stackSum,0)}function d3_layout_stackSum(e,t){return e+t[1]}function d3_layout_histogramBinSturges(e,t){return d3_layout_histogramBinFixed(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function d3_layout_histogramBinFixed(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,o=[];++n<=t;)o[n]=i*n+r;return o}function d3_layout_histogramRange(e){return[o.min(e),o.max(e)]}function d3_layout_packSort(e,t){return e.value-t.value}function d3_layout_packInsert(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function d3_layout_packSplice(e,t){e._pack_next=t,t._pack_prev=e}function d3_layout_packIntersects(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function d3_layout_packSiblings(e){function bound(e){u=Math.min(e.x-e.r,u),l=Math.max(e.x+e.r,l),p=Math.min(e.y-e.r,p),f=Math.max(e.y+e.r,f)}if((t=e.children)&&(c=t.length)){var t,n,r,i,o,a,s,c,u=1/0,l=-(1/0),p=1/0,f=-(1/0);if(t.forEach(d3_layout_packLink),n=t[0],n.x=-n.r,n.y=0,bound(n),c>1&&(r=t[1],r.x=r.r,r.y=0,bound(r),c>2))for(i=t[2],d3_layout_packPlace(n,r,i),bound(i),d3_layout_packInsert(n,i),n._pack_prev=i,d3_layout_packInsert(i,r),r=n._pack_next,o=3;c>o;o++){d3_layout_packPlace(n,r,i=t[o]);var h=0,d=1,g=1;for(a=r._pack_next;a!==r;a=a._pack_next,d++)if(d3_layout_packIntersects(a,i)){h=1;break}if(1==h)for(s=n._pack_prev;s!==a._pack_prev&&!d3_layout_packIntersects(s,i);s=s._pack_prev,g++);h?(g>d||d==g&&r.r<n.r?d3_layout_packSplice(n,r=a):d3_layout_packSplice(n=s,r),o--):(d3_layout_packInsert(n,i),r=i,bound(i))}var y=(u+l)/2,m=(p+f)/2,_=0;for(o=0;c>o;o++)i=t[o],i.x-=y,i.y-=m,_=Math.max(_,i.r+Math.sqrt(i.x*i.x+i.y*i.y));e.r=_,t.forEach(d3_layout_packUnlink)}}function d3_layout_packLink(e){e._pack_next=e._pack_prev=e}function d3_layout_packUnlink(e){delete e._pack_next,delete e._pack_prev}function d3_layout_packTransform(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var o=-1,a=i.length;++o<a;)d3_layout_packTransform(i[o],t,n,r)}function d3_layout_packPlace(e,t,n){var r=e.r+n.r,i=t.x-e.x,o=t.y-e.y;if(r&&(i||o)){var a=t.r+n.r,s=i*i+o*o;a*=a,r*=r;var c=.5+(r-a)/(2*s),u=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=e.x+c*i+u*o,n.y=e.y+c*o-u*i}else n.x=e.x+r,n.y=e.y}function d3_layout_treeSeparation(e,t){return e.parent==t.parent?1:2}function d3_layout_treeLeft(e){var t=e.children;return t.length?t[0]:e.t}function d3_layout_treeRight(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function d3_layout_treeMove(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function d3_layout_treeShift(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)t=i[o],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function d3_layout_treeAncestor(e,t,n){return e.a.parent===t.parent?e.a:n}function d3_layout_clusterY(e){return 1+o.max(e,function(e){return e.y})}function d3_layout_clusterX(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function d3_layout_clusterLeft(e){var t=e.children;return t&&t.length?d3_layout_clusterLeft(t[0]):e}function d3_layout_clusterRight(e){var t,n=e.children;return n&&(t=n.length)?d3_layout_clusterRight(n[t-1]):e}function d3_layout_treemapPadNull(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function d3_layout_treemapPad(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function d3_scaleExtent(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function d3_scaleRange(e){return e.rangeExtent?e.rangeExtent():d3_scaleExtent(e.range())}function d3_scale_bilinear(e,t,n,r){var i=n(e[0],e[1]),o=r(t[0],t[1]);return function(e){return o(i(e))}}function d3_scale_nice(e,t){var n,r=0,i=e.length-1,o=e[r],a=e[i];return o>a&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function d3_scale_niceStep(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:Ct}function d3_scale_polylinear(e,t,n,r){var i=[],a=[],s=0,c=Math.min(e.length,t.length)-1;for(e[c]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<=c;)i.push(n(e[s-1],e[s])),a.push(r(t[s-1],t[s]));return function(t){var n=o.bisect(e,t,1,c)-1;return a[n](i[n](t))}}function d3_scale_linear(e,t,n,r){function rescale(){var a=Math.min(e.length,t.length)>2?d3_scale_polylinear:d3_scale_bilinear,s=r?d3_uninterpolateClamp:d3_uninterpolateNumber;return i=a(e,t,s,n),o=a(t,e,s,d3_interpolate),scale}function scale(e){return i(e)}var i,o;return scale.invert=function(e){return o(e)},scale.domain=function(t){return arguments.length?(e=t.map(Number),rescale()):e},scale.range=function(e){return arguments.length?(t=e,rescale()):t},scale.rangeRound=function(e){return scale.range(e).interpolate(d3_interpolateRound)},scale.clamp=function(e){return arguments.length?(r=e,rescale()):r},scale.interpolate=function(e){return arguments.length?(n=e,rescale()):n},scale.ticks=function(t){return d3_scale_linearTicks(e,t)},scale.tickFormat=function(t,n){return d3_scale_linearTickFormat(e,t,n)},scale.nice=function(t){return d3_scale_linearNice(e,t),rescale()},scale.copy=function(){return d3_scale_linear(e,t,n,r)},rescale()}function d3_scale_linearRebind(e,t){return o.rebind(e,t,"range","rangeRound","interpolate","clamp")}function d3_scale_linearNice(e,t){return d3_scale_nice(e,d3_scale_niceStep(d3_scale_linearTickRange(e,t)[2])),d3_scale_nice(e,d3_scale_niceStep(d3_scale_linearTickRange(e,t)[2])),e}function d3_scale_linearTickRange(e,t){null==t&&(t=10);var n=d3_scaleExtent(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),o=t/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function d3_scale_linearTicks(e,t){return o.range.apply(o,d3_scale_linearTickRange(e,t))}function d3_scale_linearTickFormat(e,t,n){var r=d3_scale_linearTickRange(e,t);if(n){var i=ue.exec(n);if(i.shift(),"s"===i[8]){var a=o.formatPrefix(Math.max(m(r[0]),m(r[1])));return i[7]||(i[7]="."+d3_scale_linearPrecision(a.scale(r[2]))),i[8]="f",n=o.format(i.join("")),function(e){return n(a.scale(e))+a.symbol}}i[7]||(i[7]="."+d3_scale_linearFormatPrecision(i[8],r)),n=i.join("")}else n=",."+d3_scale_linearPrecision(r[2])+"f";return o.format(n)}function d3_scale_linearPrecision(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function d3_scale_linearFormatPrecision(e,t){var n=d3_scale_linearPrecision(t[2]);return e in Pt?Math.abs(n-d3_scale_linearPrecision(Math.max(m(t[0]),m(t[1]))))+ +("e"!==e):n-2*("%"===e)}function d3_scale_log(e,t,n,r){function log(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function pow(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function scale(t){return e(log(t))}return scale.invert=function(t){return pow(e.invert(t))},scale.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(log)),scale):r},scale.base=function(n){return arguments.length?(t=+n,e.domain(r.map(log)),scale):t},scale.nice=function(){var t=d3_scale_nice(r.map(log),n?Math:wt);return e.domain(t),r=t.map(pow),scale},scale.ticks=function(){var e=d3_scaleExtent(r),i=[],o=e[0],a=e[1],s=Math.floor(log(o)),c=Math.ceil(log(a)),u=t%1?2:t;if(isFinite(c-s)){if(n){for(;c>s;s++)for(var l=1;u>l;l++)i.push(pow(s)*l);i.push(pow(s))}else for(i.push(pow(s));s++<c;)for(var l=u-1;l>0;l--)i.push(pow(s)*l);for(s=0;i[s]<o;s++);for(c=i.length;i[c-1]>a;c--);i=i.slice(s,c)}return i},scale.tickFormat=function(e,n){if(!arguments.length)return Rt;arguments.length<2?n=Rt:"function"!=typeof n&&(n=o.format(n));var r=Math.max(1,t*e/scale.ticks().length);return function(e){var i=e/pow(Math.round(log(e)));return t-.5>i*t&&(i*=t),r>=i?n(e):""}},scale.copy=function(){return d3_scale_log(e.copy(),t,n,r)},d3_scale_linearRebind(scale,e)}function d3_scale_pow(e,t,n){function scale(t){return e(r(t))}var r=d3_scale_powPow(t),i=d3_scale_powPow(1/t);return scale.invert=function(t){return i(e.invert(t))},scale.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(r)),scale):n},scale.ticks=function(e){return d3_scale_linearTicks(n,e)},scale.tickFormat=function(e,t){return d3_scale_linearTickFormat(n,e,t)},scale.nice=function(e){return scale.domain(d3_scale_linearNice(n,e))},scale.exponent=function(o){return arguments.length?(r=d3_scale_powPow(t=o),i=d3_scale_powPow(1/t),e.domain(n.map(r)),scale):t},scale.copy=function(){return d3_scale_pow(e.copy(),t,n)},d3_scale_linearRebind(scale,e)}function d3_scale_powPow(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function d3_scale_ordinal(e,t){function scale(i){return r[((n.get(i)||("range"===t.t?n.set(i,e.push(i)):NaN))-1)%r.length]}function steps(t,n){return o.range(e.length).map(function(e){return t+n*e})}var n,r,i;return scale.domain=function(r){if(!arguments.length)return e;e=[],n=new d3_Map;for(var i,o=-1,a=r.length;++o<a;)n.has(i=r[o])||n.set(i,e.push(i));return scale[t.t].apply(scale,t.a)},scale.range=function(e){return arguments.length?(r=e,i=0,t={t:"range",a:arguments},scale):r},scale.rangePoints=function(n,o){arguments.length<2&&(o=0);var a=n[0],s=n[1],c=e.length<2?(a=(a+s)/2,0):(s-a)/(e.length-1+o);return r=steps(a+c*o/2,c),i=0,t={t:"rangePoints",a:arguments},scale},scale.rangeRoundPoints=function(n,o){arguments.length<2&&(o=0);var a=n[0],s=n[1],c=e.length<2?(a=s=Math.round((a+s)/2),0):(s-a)/(e.length-1+o)|0;return r=steps(a+Math.round(c*o/2+(s-a-(e.length-1+o)*c)/2),c),i=0,t={t:"rangeRoundPoints",a:arguments},scale},scale.rangeBands=function(n,o,a){arguments.length<2&&(o=0),arguments.length<3&&(a=o);var s=n[1]<n[0],c=n[s-0],u=n[1-s],l=(u-c)/(e.length-o+2*a);return r=steps(c+l*a,l),s&&r.reverse(),i=l*(1-o),t={t:"rangeBands",a:arguments},scale},scale.rangeRoundBands=function(n,o,a){arguments.length<2&&(o=0),arguments.length<3&&(a=o);var s=n[1]<n[0],c=n[s-0],u=n[1-s],l=Math.floor((u-c)/(e.length-o+2*a));return r=steps(c+Math.round((u-c-(e.length-o)*l)/2),l),s&&r.reverse(),i=Math.round(l*(1-o)),t={t:"rangeRoundBands",a:arguments},scale},scale.rangeBand=function(){return i},scale.rangeExtent=function(){return d3_scaleExtent(t.a[0])},scale.copy=function(){return d3_scale_ordinal(e,t)},scale.domain(e)}function d3_scale_quantile(e,t){function rescale(){var r=0,i=t.length;for(n=[];++r<i;)n[r-1]=o.quantile(e,r/i);return scale}function scale(e){return isNaN(e=+e)?void 0:t[o.bisect(n,e)]}var n;return scale.domain=function(t){return arguments.length?(e=t.map(d3_number).filter(d3_numeric).sort(d3_ascending),rescale()):e},scale.range=function(e){return arguments.length?(t=e,rescale()):t},scale.quantiles=function(){return n},scale.invertExtent=function(r){return r=t.indexOf(r),0>r?[NaN,NaN]:[r>0?n[r-1]:e[0],r<n.length?n[r]:e[e.length-1]]},scale.copy=function(){return d3_scale_quantile(e,t)},rescale()}function d3_scale_quantize(e,t,n){function scale(t){return n[Math.max(0,Math.min(i,Math.floor(r*(t-e))))]}function rescale(){return r=n.length/(t-e),i=n.length-1,scale}var r,i;return scale.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],rescale()):[e,t]},scale.range=function(e){return arguments.length?(n=e,rescale()):n},scale.invertExtent=function(t){return t=n.indexOf(t),t=0>t?NaN:t/r+e,[t,t+1/r]},scale.copy=function(){return d3_scale_quantize(e,t,n)},rescale()}function d3_scale_threshold(e,t){function scale(n){return n>=n?t[o.bisect(e,n)]:void 0}return scale.domain=function(t){return arguments.length?(e=t,scale):e},scale.range=function(e){return arguments.length?(t=e,scale):t},scale.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},scale.copy=function(){return d3_scale_threshold(e,t)},scale}function d3_scale_identity(e){function identity(e){return+e}return identity.invert=identity,identity.domain=identity.range=function(t){return arguments.length?(e=t.map(identity),identity):e},identity.ticks=function(t){return d3_scale_linearTicks(e,t)},identity.tickFormat=function(t,n){return d3_scale_linearTickFormat(e,t,n)},identity.copy=function(){return d3_scale_identity(e)},identity}function d3_zero(){return 0}function d3_svg_arcInnerRadius(e){return e.innerRadius}function d3_svg_arcOuterRadius(e){return e.outerRadius}function d3_svg_arcStartAngle(e){return e.startAngle}function d3_svg_arcEndAngle(e){return e.endAngle}function d3_svg_arcPadAngle(e){return e&&e.padAngle}function d3_svg_arcSweep(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function d3_svg_arcCornerTangents(e,t,n,r,i){var o=e[0]-t[0],a=e[1]-t[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),c=s*a,u=-s*o,l=e[0]+c,p=e[1]+u,f=t[0]+c,h=t[1]+u,d=(l+f)/2,g=(p+h)/2,y=f-l,m=h-p,_=y*y+m*m,v=n-r,b=l*h-f*p,C=(0>m?-1:1)*Math.sqrt(Math.max(0,v*v*_-b*b)),P=(b*m-y*C)/_,R=(-b*y-m*C)/_,w=(b*m+y*C)/_,E=(-b*y+m*C)/_,S=P-d,D=R-g,A=w-d,x=E-g;return S*S+D*D>A*A+x*x&&(P=w,R=E),[[P-c,R-u],[P*n/v,R*n/v]]}function d3_svg_line(e){function line(o){function segment(){c.push("M",i(e(u),a))}for(var s,c=[],u=[],l=-1,p=o.length,f=d3_functor(t),h=d3_functor(n);++l<p;)r.call(this,s=o[l],l)?u.push([+f.call(this,s,l),+h.call(this,s,l)]):u.length&&(segment(),u=[]);return u.length&&segment(),c.length?c.join(""):null}var t=d3_geom_pointX,n=d3_geom_pointY,r=d3_true,i=d3_svg_lineLinear,o=i.key,a=.7;return line.x=function(e){return arguments.length?(t=e,line):t},line.y=function(e){return arguments.length?(n=e,line):n},line.defined=function(e){return arguments.length?(r=e,line):r},line.interpolate=function(e){return arguments.length?(o="function"==typeof e?i=e:(i=Ot.get(e)||d3_svg_lineLinear).key,line):o},line.tension=function(e){return arguments.length?(a=e,line):a},line}function d3_svg_lineLinear(e){return e.length>1?e.join("L"):e+"Z"}function d3_svg_lineLinearClosed(e){return e.join("L")+"Z"}function d3_svg_lineStep(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function d3_svg_lineStepBefore(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function d3_svg_lineStepAfter(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function d3_svg_lineCardinalOpen(e,t){return e.length<4?d3_svg_lineLinear(e):e[1]+d3_svg_lineHermite(e.slice(1,-1),d3_svg_lineCardinalTangents(e,t))}function d3_svg_lineCardinalClosed(e,t){return e.length<3?d3_svg_lineLinearClosed(e):e[0]+d3_svg_lineHermite((e.push(e[0]),e),d3_svg_lineCardinalTangents([e[e.length-2]].concat(e,[e[1]]),t))}function d3_svg_lineCardinal(e,t){return e.length<3?d3_svg_lineLinear(e):e[0]+d3_svg_lineHermite(e,d3_svg_lineCardinalTangents(e,t))}function d3_svg_lineHermite(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return d3_svg_lineLinear(e);var n=e.length!=t.length,r="",i=e[0],o=e[1],a=t[0],s=a,c=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=e[1],c=2),t.length>1){s=t[1],o=e[c],c++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var u=2;u<t.length;u++,c++)o=e[c],s=t[u],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var l=e[c];
r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+l[0]+","+l[1]}return r}function d3_svg_lineCardinalTangents(e,t){for(var n,r=[],i=(1-t)/2,o=e[0],a=e[1],s=1,c=e.length;++s<c;)n=o,o=a,a=e[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function d3_svg_lineBasis(e){if(e.length<3)return d3_svg_lineLinear(e);var t=1,n=e.length,r=e[0],i=r[0],o=r[1],a=[i,i,i,(r=e[1])[0]],s=[o,o,o,r[1]],c=[i,",",o,"L",d3_svg_lineDot4(Mt,a),",",d3_svg_lineDot4(Mt,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),d3_svg_lineBasisBezier(c,a,s);return e.pop(),c.push("L",r),c.join("")}function d3_svg_lineBasisOpen(e){if(e.length<4)return d3_svg_lineLinear(e);for(var t,n=[],r=-1,i=e.length,o=[0],a=[0];++r<3;)t=e[r],o.push(t[0]),a.push(t[1]);for(n.push(d3_svg_lineDot4(Mt,o)+","+d3_svg_lineDot4(Mt,a)),--r;++r<i;)t=e[r],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),d3_svg_lineBasisBezier(n,o,a);return n.join("")}function d3_svg_lineBasisClosed(e){for(var t,n,r=-1,i=e.length,o=i+4,a=[],s=[];++r<4;)n=e[r%i],a.push(n[0]),s.push(n[1]);for(t=[d3_svg_lineDot4(Mt,a),",",d3_svg_lineDot4(Mt,s)],--r;++r<o;)n=e[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),d3_svg_lineBasisBezier(t,a,s);return t.join("")}function d3_svg_lineBundle(e,t){var n=e.length-1;if(n)for(var r,i,o=e[0][0],a=e[0][1],s=e[n][0]-o,c=e[n][1]-a,u=-1;++u<=n;)r=e[u],i=u/n,r[0]=t*r[0]+(1-t)*(o+i*s),r[1]=t*r[1]+(1-t)*(a+i*c);return d3_svg_lineBasis(e)}function d3_svg_lineDot4(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function d3_svg_lineBasisBezier(e,t,n){e.push("C",d3_svg_lineDot4(Tt,t),",",d3_svg_lineDot4(Tt,n),",",d3_svg_lineDot4(Nt,t),",",d3_svg_lineDot4(Nt,n),",",d3_svg_lineDot4(Mt,t),",",d3_svg_lineDot4(Mt,n))}function d3_svg_lineSlope(e,t){return(t[1]-e[1])/(t[0]-e[0])}function d3_svg_lineFiniteDifferences(e){for(var t=0,n=e.length-1,r=[],i=e[0],o=e[1],a=r[0]=d3_svg_lineSlope(i,o);++t<n;)r[t]=(a+(a=d3_svg_lineSlope(i=o,o=e[t+1])))/2;return r[t]=a,r}function d3_svg_lineMonotoneTangents(e){for(var t,n,r,i,o=[],a=d3_svg_lineFiniteDifferences(e),s=-1,c=e.length-1;++s<c;)t=d3_svg_lineSlope(e[s],e[s+1]),m(t)<I?a[s]=a[s+1]=0:(n=a[s]/t,r=a[s+1]/t,i=n*n+r*r,i>9&&(i=3*t/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=c;)i=(e[Math.min(c,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function d3_svg_lineMonotone(e){return e.length<3?d3_svg_lineLinear(e):e[0]+d3_svg_lineHermite(e,d3_svg_lineMonotoneTangents(e))}function d3_svg_lineRadial(e){for(var t,n,r,i=-1,o=e.length;++i<o;)t=e[i],n=t[0],r=t[1]-L,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function d3_svg_area(e){function area(s){function segment(){d.push("M",a(e(y),l),u,c(e(g.reverse()),l),"Z")}for(var p,f,h,d=[],g=[],y=[],m=-1,_=s.length,v=d3_functor(t),b=d3_functor(r),C=t===n?function(){return f}:d3_functor(n),P=r===i?function(){return h}:d3_functor(i);++m<_;)o.call(this,p=s[m],m)?(g.push([f=+v.call(this,p,m),h=+b.call(this,p,m)]),y.push([+C.call(this,p,m),+P.call(this,p,m)])):g.length&&(segment(),g=[],y=[]);return g.length&&segment(),d.length?d.join(""):null}var t=d3_geom_pointX,n=d3_geom_pointX,r=0,i=d3_geom_pointY,o=d3_true,a=d3_svg_lineLinear,s=a.key,c=a,u="L",l=.7;return area.x=function(e){return arguments.length?(t=n=e,area):n},area.x0=function(e){return arguments.length?(t=e,area):t},area.x1=function(e){return arguments.length?(n=e,area):n},area.y=function(e){return arguments.length?(r=i=e,area):i},area.y0=function(e){return arguments.length?(r=e,area):r},area.y1=function(e){return arguments.length?(i=e,area):i},area.defined=function(e){return arguments.length?(o=e,area):o},area.interpolate=function(e){return arguments.length?(s="function"==typeof e?a=e:(a=Ot.get(e)||d3_svg_lineLinear).key,c=a.reverse||a,u=a.closed?"M":"L",area):s},area.tension=function(e){return arguments.length?(l=e,area):l},area}function d3_svg_chordRadius(e){return e.radius}function d3_svg_diagonalProjection(e){return[e.x,e.y]}function d3_svg_diagonalRadialProjection(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-L;return[n*Math.cos(r),n*Math.sin(r)]}}function d3_svg_symbolSize(){return 64}function d3_svg_symbolType(){return"circle"}function d3_svg_symbolCircle(e){var t=Math.sqrt(e/V);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function d3_selection_interruptNS(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function d3_transition(e,t,n){return P(e,Ft),e.namespace=t,e.id=n,e}function d3_transition_tween(e,t,n,r){var i=e.id,o=e.namespace;return d3_selection_each(e,"function"==typeof n?function(e,a,s){e[o][i].tween.set(t,r(n.call(e,e.__data__,a,s)))}:(n=r(n),function(e){e[o][i].tween.set(t,n)}))}function d3_transition_text(e){return null==e&&(e=""),function(){this.textContent=e}}function d3_transitionNamespace(e){return null==e?"__transition__":"__transition_"+e+"__"}function d3_transitionNode(e,t,n,r,i){function schedule(e){var t=p.delay;return a.t=t+o,e>=t?start(e-t):void(a.c=start)}function start(n){var i=l.active,f=l[i];f&&(f.timer.c=null,f.timer.t=NaN,--l.count,delete l[i],f.event&&f.event.interrupt.call(e,e.__data__,f.index));for(var h in l)if(r>+h){var d=l[h];d.timer.c=null,d.timer.t=NaN,--l.count,delete l[h]}a.c=tick,d3_timer(function(){return a.c&&tick(n||1)&&(a.c=null,a.t=NaN),1},0,o),l.active=r,p.event&&p.event.start.call(e,e.__data__,t),u=[],p.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&u.push(r)}),c=p.ease,s=p.duration}function tick(i){for(var o=i/s,a=c(o),f=u.length;f>0;)u[--f].call(e,a);return o>=1?(p.event&&p.event.end.call(e,e.__data__,t),--l.count?delete l[r]:delete e[n],1):void 0}var o,a,s,c,u,l=e[n]||(e[n]={active:0,count:0}),p=l[r];p||(o=i.time,a=d3_timer(schedule,0,o),p=l[r]={tween:new d3_Map,time:o,timer:a,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++l.count)}function d3_svg_axisX(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function d3_svg_axisY(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function d3_time_formatIsoNative(e){return e.toISOString()}function d3_time_scale(e,t,n){function scale(t){return e(t)}function tickMethod(e,n){var r=e[1]-e[0],i=r/n,a=o.bisect(Qt,i);return a==Qt.length?[t.year,d3_scale_linearTickRange(e.map(function(e){return e/31536e6}),n)[2]]:a?t[i/Qt[a-1]<Qt[a]/i?a-1:a]:[Zt,d3_scale_linearTickRange(e,n)[2]]}return scale.invert=function(t){return d3_time_scaleDate(e.invert(t))},scale.domain=function(t){return arguments.length?(e.domain(t),scale):e.domain().map(d3_time_scaleDate)},scale.nice=function(e,t){function skipped(n){return!isNaN(n)&&!e.range(n,d3_time_scaleDate(+n+1),t).length}var n=scale.domain(),r=d3_scaleExtent(n),i=null==e?tickMethod(r,10):"number"==typeof e&&tickMethod(r,e);return i&&(e=i[0],t=i[1]),scale.domain(d3_scale_nice(n,t>1?{floor:function(t){for(;skipped(t=e.floor(t));)t=d3_time_scaleDate(t-1);return t},ceil:function(t){for(;skipped(t=e.ceil(t));)t=d3_time_scaleDate(+t+1);return t}}:e))},scale.ticks=function(e,t){var n=d3_scaleExtent(scale.domain()),r=null==e?tickMethod(n,10):"number"==typeof e?tickMethod(n,e):!e.range&&[{range:e},t];return r&&(e=r[0],t=r[1]),e.range(n[0],d3_time_scaleDate(+n[1]+1),1>t?1:t)},scale.tickFormat=function(){return n},scale.copy=function(){return d3_time_scale(e.copy(),t,n)},d3_scale_linearRebind(scale,e)}function d3_time_scaleDate(e){return new Date(e)}function d3_json(e){return JSON.parse(e.responseText)}function d3_html(e){var t=c.createRange();return t.selectNode(c.body),t.createContextualFragment(e.responseText)}var o={version:"3.5.16"},a=[].slice,s=function(e){return a.call(e)},c=this.document;if(c)try{s(c.documentElement.childNodes)[0].nodeType}catch(u){s=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),c)try{c.createElement("DIV").style.setProperty("opacity",0,"")}catch(l){var p=this.Element.prototype,f=p.setAttribute,h=p.setAttributeNS,d=this.CSSStyleDeclaration.prototype,g=d.setProperty;p.setAttribute=function(e,t){f.call(this,e,t+"")},p.setAttributeNS=function(e,t,n){h.call(this,e,t,n+"")},d.setProperty=function(e,t,n){g.call(this,e,t+"",n)}}o.ascending=d3_ascending,o.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:NaN},o.min=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},o.max=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},o.extent=function(e,t){var n,r,i,o=-1,a=e.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=e[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e[o])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++o<a;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t.call(e,e[o],o))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},o.sum=function(e,t){var n,r=0,i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)d3_numeric(n=+e[o])&&(r+=n);else for(;++o<i;)d3_numeric(n=+t.call(e,e[o],o))&&(r+=n);return r},o.mean=function(e,t){var n,r=0,i=e.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)d3_numeric(n=d3_number(e[o]))?r+=n:--a;else for(;++o<i;)d3_numeric(n=d3_number(t.call(e,e[o],o)))?r+=n:--a;return a?r/a:void 0},o.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],o=n-r;return o?i+o*(e[r]-i):i},o.median=function(e,t){var n,r=[],i=e.length,a=-1;if(1===arguments.length)for(;++a<i;)d3_numeric(n=d3_number(e[a]))&&r.push(n);else for(;++a<i;)d3_numeric(n=d3_number(t.call(e,e[a],a)))&&r.push(n);return r.length?o.quantile(r.sort(d3_ascending),.5):void 0},o.variance=function(e,t){var n,r,i=e.length,o=0,a=0,s=-1,c=0;if(1===arguments.length)for(;++s<i;)d3_numeric(n=d3_number(e[s]))&&(r=n-o,o+=r/++c,a+=r*(n-o));else for(;++s<i;)d3_numeric(n=d3_number(t.call(e,e[s],s)))&&(r=n-o,o+=r/++c,a+=r*(n-o));return c>1?a/(c-1):void 0},o.deviation=function(){var e=o.variance.apply(this,arguments);return e?Math.sqrt(e):e};var y=d3_bisector(d3_ascending);o.bisectLeft=y.left,o.bisect=o.bisectRight=y.right,o.bisector=function(e){return d3_bisector(1===e.length?function(t,n){return d3_ascending(e(t),n)}:e)},o.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,2>o&&(t=0));for(var r,i,o=n-t;o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},o.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},o.pairs=function(e){for(var t,n=0,r=e.length-1,i=e[0],o=new Array(0>r?0:r);r>n;)o[n]=[t=i,i=e[++n]];return o},o.transpose=function(e){if(!(i=e.length))return[];for(var t=-1,n=o.min(e,d3_transposeLength),r=new Array(n);++t<n;)for(var i,a=-1,s=r[t]=new Array(i);++a<i;)s[a]=e[a][t];return r},o.zip=function(){return o.transpose(arguments)},o.keys=function(e){var t=[];for(var n in e)t.push(n);return t},o.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},o.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},o.merge=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--a]=r[t];return n};var m=Math.abs;o.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var r,i=[],o=d3_range_integerScale(m(n)),a=-1;if(e*=o,t*=o,n*=o,0>n)for(;(r=e+n*++a)>t;)i.push(r/o);else for(;(r=e+n*++a)<t;)i.push(r/o);return i},o.map=function(e,t){var n=new d3_Map;if(e instanceof d3_Map)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,i=-1,o=e.length;if(1===arguments.length)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t.call(e,r=e[i],i),r)}else for(var a in e)n.set(a,e[a]);return n};var _="__proto__",v="\x00";d3_class(d3_Map,{has:d3_map_has,get:function(e){return this._[d3_map_escape(e)]},set:function(e,t){return this._[d3_map_escape(e)]=t},remove:d3_map_remove,keys:d3_map_keys,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:d3_map_unescape(t),value:this._[t]});return e},size:d3_map_size,empty:d3_map_empty,forEach:function(e){for(var t in this._)e.call(this,d3_map_unescape(t),this._[t])}}),o.nest=function(){function map(i,o,a){if(a>=r.length)return t?t.call(n,o):e?o.sort(e):o;for(var s,c,u,l,p=-1,f=o.length,h=r[a++],d=new d3_Map;++p<f;)(l=d.get(s=h(c=o[p])))?l.push(c):d.set(s,[c]);return i?(c=i(),u=function(e,t){c.set(e,map(i,t,a))}):(c={},u=function(e,t){c[e]=map(i,t,a)}),d.forEach(u),c}function entries(e,t){if(t>=r.length)return e;var n=[],o=i[t++];return e.forEach(function(e,r){n.push({key:e,values:entries(r,t)})}),o?n.sort(function(e,t){return o(e.key,t.key)}):n}var e,t,n={},r=[],i=[];return n.map=function(e,t){return map(t,e,0)},n.entries=function(e){return entries(map(o.map,e,0),0)},n.key=function(e){return r.push(e),n},n.sortKeys=function(e){return i[r.length-1]=e,n},n.sortValues=function(t){return e=t,n},n.rollup=function(e){return t=e,n},n},o.set=function(e){var t=new d3_Set;if(e)for(var n=0,r=e.length;r>n;++n)t.add(e[n]);return t},d3_class(d3_Set,{has:d3_map_has,add:function(e){return this._[d3_map_escape(e+="")]=!0,e},remove:d3_map_remove,values:d3_map_keys,size:d3_map_size,empty:d3_map_empty,forEach:function(e){for(var t in this._)e.call(this,d3_map_unescape(t))}}),o.behavior={},o.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=d3_rebind(e,t,t[n]);return e};var b=["webkit","ms","moz","Moz","o","O"];o.dispatch=function(){for(var e=new d3_dispatch,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=d3_dispatch_event(e);return e},d3_dispatch.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},o.event=null,o.requote=function(e){return e.replace(C,"\\$&")};var C=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,P={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},R=function(e,t){return t.querySelector(e)},w=function(e,t){return t.querySelectorAll(e)},E=function(e,t){var n=e.matches||e[d3_vendorSymbol(e,"matchesSelector")];return(E=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(R=function(e,t){return Sizzle(e,t)[0]||null},w=Sizzle,E=Sizzle.matchesSelector),o.selection=function(){return o.select(c.documentElement)};var S=o.selection.prototype=[];S.select=function(e){var t,n,r,i,o=[];e=d3_selection_selector(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var c=-1,u=r.length;++c<u;)(i=r[c])?(t.push(n=e.call(i,i.__data__,c,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return d3_selection(o)},S.selectAll=function(e){var t,n,r=[];e=d3_selection_selectorAll(e);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],c=-1,u=a.length;++c<u;)(n=a[c])&&(r.push(t=s(e.call(n,n.__data__,c,i))),t.parentNode=n);return d3_selection(r)};var D="http://www.w3.org/1999/xhtml",A={svg:"http://www.w3.org/2000/svg",xhtml:D,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};o.ns={prefix:A,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),A.hasOwnProperty(n)?{space:A[n],local:e}:e}},S.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=o.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(d3_selection_attr(t,e[t]));return this}return this.each(d3_selection_attr(e,t))},S.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=d3_selection_classes(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!d3_selection_classedRe(e[i]).test(t))return!1;return!0}for(t in e)this.each(d3_selection_classed(t,e[t]));return this}return this.each(d3_selection_classed(e,t))},S.style=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t="");for(n in e)this.each(d3_selection_style(n,e[n],t));return this}if(2>r){var i=this.node();return d3_window(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(d3_selection_style(e,t,n))},S.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(d3_selection_property(t,e[t]));return this}return this.each(d3_selection_property(e,t))},S.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},S.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},S.append=function(e){return e=d3_selection_creator(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},S.insert=function(e,t){return e=d3_selection_creator(e),t=d3_selection_selector(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},S.remove=function(){return this.each(d3_selectionRemove)},S.data=function(e,t){function bind(e,n){var r,i,o,u=e.length,l=n.length,p=Math.min(u,l),f=new Array(l),h=new Array(l),d=new Array(u);if(t){var g,y=new d3_Map,m=new Array(u);for(r=-1;++r<u;)(i=e[r])&&(y.has(g=t.call(i,i.__data__,r))?d[r]=i:y.set(g,i),m[r]=g);for(r=-1;++r<l;)(i=y.get(g=t.call(n,o=n[r],r)))?i!==!0&&(f[r]=i,i.__data__=o):h[r]=d3_selection_dataNode(o),y.set(g,!0);for(r=-1;++r<u;)r in m&&y.get(m[r])!==!0&&(d[r]=e[r])}else{for(r=-1;++r<p;)i=e[r],o=n[r],i?(i.__data__=o,f[r]=i):h[r]=d3_selection_dataNode(o);for(;l>r;++r)h[r]=d3_selection_dataNode(n[r]);for(;u>r;++r)d[r]=e[r]}h.update=f,h.parentNode=f.parentNode=d.parentNode=e.parentNode,a.push(h),s.push(f),c.push(d)}var n,r,i=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(e[i]=r.__data__);return e}var a=d3_selection_enter([]),s=d3_selection([]),c=d3_selection([]);if("function"==typeof e)for(;++i<o;)bind(n=this[i],e.call(n,n.parentNode.__data__,i));else for(;++i<o;)bind(n=this[i],e);return s.enter=function(){return a},s.exit=function(){return c},s},S.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},S.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=d3_selection_filter(e));for(var o=0,a=this.length;a>o;o++){i.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var s=0,c=n.length;c>s;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return d3_selection(i)},S.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},S.sort=function(e){e=d3_selection_sortComparator.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},S.each=function(e){return d3_selection_each(this,function(t,n,r){e.call(t,t.__data__,n,r)})},S.call=function(e){var t=s(arguments);return e.apply(t[0]=this,t),this},S.empty=function(){return!this.node()},S.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null},S.size=function(){var e=0;return d3_selection_each(this,function(){++e}),e};var x=[];o.selection.enter=d3_selection_enter,o.selection.enter.prototype=x,x.append=S.append,x.empty=S.empty,x.node=S.node,x.call=S.call,x.size=S.size,x.select=function(e){for(var t,n,r,i,o,a=[],s=-1,c=this.length;++s<c;){r=(i=this[s]).update,a.push(t=[]),t.parentNode=i.parentNode;for(var u=-1,l=i.length;++u<l;)(o=i[u])?(t.push(r[u]=n=e.call(i.parentNode,o.__data__,u,s)),n.__data__=o.__data__):t.push(null)}return d3_selection(a)},x.insert=function(e,t){return arguments.length<2&&(t=d3_selection_enterInsertBefore(this)),S.insert.call(this,e,t)},o.select=function(e){var t;return"string"==typeof e?(t=[R(e,c)],t.parentNode=c.documentElement):(t=[e],t.parentNode=d3_documentElement(e)),d3_selection([t])},o.selectAll=function(e){var t;return"string"==typeof e?(t=s(w(e,c)),t.parentNode=c.documentElement):(t=s(e),t.parentNode=null),d3_selection([t])},S.on=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t=!1);for(n in e)this.each(d3_selection_on(n,e[n],t));return this}if(2>r)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(d3_selection_on(e,t,n))};var O=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});c&&O.forEach(function(e){"on"+e in c&&O.remove(e)});var T,N=0;o.mouse=function(e){return d3_mousePoint(e,d3_eventSource())};var M=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;o.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=d3_eventSource().changedTouches),t)for(var r,i=0,o=t.length;o>i;++i)if((r=t[i]).identifier===n)return d3_mousePoint(e,r)},o.behavior.drag=function(){function drag(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function dragstart(n,r,i,a,s){return function(){function moved(){var e,t,n=r(p,d);n&&(e=n[0]-_[0],t=n[1]-_[1],h|=e|t,_=n,f({type:"drag",x:n[0]+c[0],y:n[1]+c[1],dx:e,dy:t}))}function ended(){r(p,d)&&(y.on(a+g,null).on(s+g,null),m(h),f({type:"dragend"}))}var c,u=this,l=o.event.target.correspondingElement||o.event.target,p=u.parentNode,f=e.of(u,arguments),h=0,d=n(),g=".drag"+(null==d?"":"-"+d),y=o.select(i(l)).on(a+g,moved).on(s+g,ended),m=d3_event_dragSuppress(l),_=r(p,d);t?(c=t.apply(u,arguments),c=[c.x-_[0],c.y-_[1]]):c=[0,0],f({type:"dragstart"})}}var e=d3_eventDispatch(drag,"drag","dragstart","dragend"),t=null,n=dragstart(d3_noop,o.mouse,d3_window,"mousemove","mouseup"),r=dragstart(d3_behavior_dragTouchId,o.touch,d3_identity,"touchmove","touchend");return drag.origin=function(e){return arguments.length?(t=e,drag):t},o.rebind(drag,e,"on")},o.touches=function(e,t){return arguments.length<2&&(t=d3_eventSource().touches),t?s(t).map(function(t){var n=d3_mousePoint(e,t);return n.identifier=t.identifier,n}):[]};var I=1e-6,k=I*I,V=Math.PI,j=2*V,B=j-I,L=V/2,F=V/180,W=180/V,U=Math.SQRT2,H=2,z=4;o.interpolateZoom=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],s=t[0],c=t[1],u=t[2],l=s-i,p=c-o,f=l*l+p*p;if(k>f)r=Math.log(u/a)/U,n=function(e){return[i+e*l,o+e*p,a*Math.exp(U*e*r)]};else{var h=Math.sqrt(f),d=(u*u-a*a+z*f)/(2*a*H*h),g=(u*u-a*a-z*f)/(2*u*H*h),y=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-y)/U,n=function(e){var t=e*r,n=d3_cosh(y),s=a/(H*h)*(n*d3_tanh(U*t+y)-d3_sinh(y));return[i+s*l,o+s*p,a*n/d3_cosh(U*t+y)]}}return n.duration=1e3*r,n},o.behavior.zoom=function(){function zoom(e){e.on(y,mousedowned).on(G+".zoom",mousewheeled).on("dblclick.zoom",dblclicked).on(v,touchstarted)}function location(e){return[(e[0]-p.x)/p.k,(e[1]-p.y)/p.k]}function point(e){return[e[0]*p.k+p.x,e[1]*p.k+p.y]}function scaleTo(e){p.k=Math.max(h[0],Math.min(h[1],e))}function translateTo(e,t){t=point(t),p.x+=e[0]-t[0],p.y+=e[1]-t[1]}function zoomTo(e,n,r,i){e.__chart__={x:p.x,y:p.y,k:p.k},scaleTo(Math.pow(2,i)),translateTo(t=n,r),e=o.select(e),d>0&&(e=e.transition().duration(d)),e.call(zoom.event)}function rescale(){s&&s.domain(a.range().map(function(e){return(e-p.x)/p.k}).map(a.invert)),l&&l.domain(u.range().map(function(e){return(e-p.y)/p.k}).map(u.invert))}function zoomstarted(e){g++||e({type:"zoomstart"})}function zoomed(e){rescale(),e({type:"zoom",scale:p.k,translate:[p.x,p.y]})}function zoomended(e){--g||(e({type:"zoomend"}),t=null)}function mousedowned(){function moved(){n=1,translateTo(o.mouse(e),i),zoomed(t)}function ended(){r.on(m,null).on(_,null),a(n),zoomended(t)}var e=this,t=b.of(e,arguments),n=0,r=o.select(d3_window(e)).on(m,moved).on(_,ended),i=location(o.mouse(e)),a=d3_event_dragSuppress(e);Lt.call(e),zoomstarted(t)}function touchstarted(){function relocate(){var n=o.touches(t);return e=p.k,n.forEach(function(e){e.identifier in r&&(r[e.identifier]=location(e))}),n}function started(){var e=o.event.target;o.select(e).on(c,moved).on(u,ended),l.push(e);for(var n=o.event.changedTouches,s=0,f=n.length;f>s;++s)r[n[s].identifier]=null;var h=relocate(),d=Date.now();if(1===h.length){if(500>d-i){var g=h[0];zoomTo(t,g,r[g.identifier],Math.floor(Math.log(p.k)/Math.LN2)+1),d3_eventPreventDefault()}i=d}else if(h.length>1){var g=h[0],y=h[1],m=g[0]-y[0],_=g[1]-y[1];a=m*m+_*_}}function moved(){var s,c,u,l,p=o.touches(t);Lt.call(t);for(var f=0,h=p.length;h>f;++f,l=null)if(u=p[f],l=r[u.identifier]){if(c)break;s=u,c=l}if(l){var d=(d=u[0]-s[0])*d+(d=u[1]-s[1])*d,g=a&&Math.sqrt(d/a);s=[(s[0]+u[0])/2,(s[1]+u[1])/2],c=[(c[0]+l[0])/2,(c[1]+l[1])/2],scaleTo(g*e)}i=null,translateTo(s,c),zoomed(n)}function ended(){if(o.event.touches.length){for(var e=o.event.changedTouches,t=0,i=e.length;i>t;++t)delete r[e[t].identifier];for(var a in r)return void relocate()}o.selectAll(l).on(s,null),f.on(y,mousedowned).on(v,touchstarted),h(),zoomended(n)}var e,t=this,n=b.of(t,arguments),r={},a=0,s=".zoom-"+o.event.changedTouches[0].identifier,c="touchmove"+s,u="touchend"+s,l=[],f=o.select(t),h=d3_event_dragSuppress(t);started(),zoomstarted(n),f.on(y,null).on(v,started)}function mousewheeled(){var i=b.of(this,arguments);r?clearTimeout(r):(Lt.call(this),e=location(t=n||o.mouse(this)),zoomstarted(i)),r=setTimeout(function(){r=null,zoomended(i)},50),d3_eventPreventDefault(),scaleTo(Math.pow(2,.002*q())*p.k),translateTo(t,e),zoomed(i)}function dblclicked(){var e=o.mouse(this),t=Math.log(p.k)/Math.LN2;zoomTo(this,e,location(e),o.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var e,t,n,r,i,a,s,u,l,p={x:0,y:0,k:1},f=[960,500],h=K,d=250,g=0,y="mousedown.zoom",m="mousemove.zoom",_="mouseup.zoom",v="touchstart.zoom",b=d3_eventDispatch(zoom,"zoomstart","zoom","zoomend");return G||(G="onwheel"in c?(q=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in c?(q=function(){return o.event.wheelDelta},"mousewheel"):(q=function(){return-o.event.detail},"MozMousePixelScroll")),zoom.event=function(e){e.each(function(){var e=b.of(this,arguments),n=p;jt?o.select(this).transition().each("start.zoom",function(){p=this.__chart__||{x:0,y:0,k:1},zoomstarted(e)}).tween("zoom:zoom",function(){var r=f[0],i=f[1],a=t?t[0]:r/2,s=t?t[1]:i/2,c=o.interpolateZoom([(a-p.x)/p.k,(s-p.y)/p.k,r/p.k],[(a-n.x)/n.k,(s-n.y)/n.k,r/n.k]);return function(t){var n=c(t),i=r/n[2];this.__chart__=p={x:a-n[0]*i,y:s-n[1]*i,k:i},zoomed(e)}}).each("interrupt.zoom",function(){zoomended(e)}).each("end.zoom",function(){zoomended(e)}):(this.__chart__=p,zoomstarted(e),zoomed(e),zoomended(e))})},zoom.translate=function(e){return arguments.length?(p={x:+e[0],y:+e[1],k:p.k},rescale(),zoom):[p.x,p.y]},zoom.scale=function(e){return arguments.length?(p={x:p.x,y:p.y,k:null},scaleTo(+e),rescale(),zoom):p.k},zoom.scaleExtent=function(e){return arguments.length?(h=null==e?K:[+e[0],+e[1]],zoom):h},zoom.center=function(e){return arguments.length?(n=e&&[+e[0],+e[1]],zoom):n},zoom.size=function(e){return arguments.length?(f=e&&[+e[0],+e[1]],zoom):f},zoom.duration=function(e){return arguments.length?(d=+e,zoom):d},zoom.x=function(e){return arguments.length?(s=e,a=e.copy(),p={x:0,y:0,k:1},zoom):s},zoom.y=function(e){return arguments.length?(l=e,u=e.copy(),p={x:0,y:0,k:1},zoom):l},o.rebind(zoom,b,"on")};var q,G,K=[0,1/0];o.color=d3_color,d3_color.prototype.toString=function(){return this.rgb()+""},o.hsl=d3_hsl;var J=d3_hsl.prototype=new d3_color;J.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new d3_hsl(this.h,this.s,this.l/e)},J.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new d3_hsl(this.h,this.s,e*this.l)},J.rgb=function(){return d3_hsl_rgb(this.h,this.s,this.l)},o.hcl=d3_hcl;var Q=d3_hcl.prototype=new d3_color;Q.brighter=function(e){return new d3_hcl(this.h,this.c,Math.min(100,this.l+X*(arguments.length?e:1)))},Q.darker=function(e){return new d3_hcl(this.h,this.c,Math.max(0,this.l-X*(arguments.length?e:1)))},Q.rgb=function(){return d3_hcl_lab(this.h,this.c,this.l).rgb()},o.lab=d3_lab;var X=18,$=.95047,Z=1,Y=1.08883,ee=d3_lab.prototype=new d3_color;ee.brighter=function(e){return new d3_lab(Math.min(100,this.l+X*(arguments.length?e:1)),this.a,this.b)},ee.darker=function(e){return new d3_lab(Math.max(0,this.l-X*(arguments.length?e:1)),this.a,this.b)},ee.rgb=function(){return d3_lab_rgb(this.l,this.a,this.b)},o.rgb=d3_rgb;var te=d3_rgb.prototype=new d3_color;te.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&i>t&&(t=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new d3_rgb(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new d3_rgb(i,i,i)},te.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new d3_rgb(e*this.r,e*this.g,e*this.b)},te.hsl=function(){return d3_rgb_hsl(this.r,this.g,this.b)},te.toString=function(){return"#"+d3_rgb_hex(this.r)+d3_rgb_hex(this.g)+d3_rgb_hex(this.b)};var ne=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,
thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ne.forEach(function(e,t){ne.set(e,d3_rgbNumber(t))}),o.functor=d3_functor,o.xhr=d3_xhrType(d3_identity),o.dsv=function(e,t){function dsv(e,n,r){arguments.length<3&&(r=n,n=null);var i=d3_xhr(e,t,null==n?response:typedResponse(n),r);return i.row=function(e){return arguments.length?i.response(null==(n=e)?response:typedResponse(e)):n},i}function response(e){return dsv.parse(e.responseText)}function typedResponse(e){return function(t){return dsv.parse(t.responseText,e)}}function formatRow(t){return t.map(formatValue).join(e)}function formatValue(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var n=new RegExp('["'+e+"\n]"),r=e.charCodeAt(0);return dsv.parse=function(e,t){var n;return dsv.parseRows(e,function(e,r){if(n)return n(e,r-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");n=t?function(e,n){return t(i(e),n)}:i})},dsv.parseRows=function(e,t){function token(){if(u>=c)return a;if(i)return i=!1,o;var t=u;if(34===e.charCodeAt(t)){for(var n=t;n++<c;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}u=n+2;var s=e.charCodeAt(n+1);return 13===s?(i=!0,10===e.charCodeAt(n+2)&&++u):10===s&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;c>u;){var s=e.charCodeAt(u++),l=1;if(10===s)i=!0;else if(13===s)i=!0,10===e.charCodeAt(u)&&(++u,++l);else if(s!==r)continue;return e.slice(t,u-l)}return e.slice(t)}for(var n,i,o={},a={},s=[],c=e.length,u=0,l=0;(n=token())!==a;){for(var p=[];n!==o&&n!==a;)p.push(n),n=token();t&&null==(p=t(p,l++))||s.push(p)}return s},dsv.format=function(t){if(Array.isArray(t[0]))return dsv.formatRows(t);var n=new d3_Set,r=[];return t.forEach(function(e){for(var t in e)n.has(t)||r.push(n.add(t))}),[r.map(formatValue).join(e)].concat(t.map(function(t){return r.map(function(e){return formatValue(t[e])}).join(e)})).join("\n")},dsv.formatRows=function(e){return e.map(formatRow).join("\n")},dsv},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("	","text/tab-separated-values");var re,ie,oe,ae,se=this[d3_vendorSymbol(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};o.timer=function(){d3_timer.apply(this,arguments)},o.timer.flush=function(){d3_timer_mark(),d3_timer_sweep()},o.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var ce=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(d3_formatPrefix);o.formatPrefix=function(e,t){var n=0;return(e=+e)&&(0>e&&(e*=-1),t&&(e=o.round(e,d3_format_precision(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ce[8+n/3]};var ue=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,le=o.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=o.round(e,d3_format_precision(e,t))).toFixed(Math.max(0,Math.min(20,d3_format_precision(e*(1+1e-15),t))))}}),pe=o.time={},fe=Date;d3_date_utc.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){he.setUTCDate.apply(this._,arguments)},setDay:function(){he.setUTCDay.apply(this._,arguments)},setFullYear:function(){he.setUTCFullYear.apply(this._,arguments)},setHours:function(){he.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){he.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){he.setUTCMinutes.apply(this._,arguments)},setMonth:function(){he.setUTCMonth.apply(this._,arguments)},setSeconds:function(){he.setUTCSeconds.apply(this._,arguments)},setTime:function(){he.setTime.apply(this._,arguments)}};var he=Date.prototype;pe.year=d3_time_interval(function(e){return e=pe.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),pe.years=pe.year.range,pe.years.utc=pe.year.utc.range,pe.day=d3_time_interval(function(e){var t=new fe(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),pe.days=pe.day.range,pe.days.utc=pe.day.utc.range,pe.dayOfYear=function(e){var t=pe.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=pe[e]=d3_time_interval(function(e){return(e=pe.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=pe.year(e).getDay();return Math.floor((pe.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});pe[e+"s"]=n.range,pe[e+"s"].utc=n.utc.range,pe[e+"OfYear"]=function(e){var n=pe.year(e).getDay();return Math.floor((pe.dayOfYear(e)+(n+t)%7)/7)}}),pe.week=pe.sunday,pe.weeks=pe.sunday.range,pe.weeks.utc=pe.sunday.utc.range,pe.weekOfYear=pe.sundayOfYear;var de={"-":"",_:" ",0:"0"},ge=/^\s*\d+/,ye=/^%/;o.locale=function(e){return{numberFormat:d3_locale_numberFormat(e),timeFormat:d3_locale_timeFormat(e)}};var me=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});o.format=me.numberFormat,o.geo={},d3_adder.prototype={s:0,t:0,add:function(e){d3_adderSum(e,this.t,_e),d3_adderSum(_e.s,this.s,this),this.s?this.t+=_e.t:this.s=_e.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var _e=new d3_adder;o.geo.stream=function(e,t){e&&ve.hasOwnProperty(e.type)?ve[e.type](e,t):d3_geo_streamGeometry(e,t)};var ve={Feature:function(e,t){d3_geo_streamGeometry(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)d3_geo_streamGeometry(n[r].geometry,t)}},be={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){d3_geo_streamLine(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)d3_geo_streamLine(n[r],t,0)},Polygon:function(e,t){d3_geo_streamPolygon(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)d3_geo_streamPolygon(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)d3_geo_streamGeometry(n[r],t)}};o.geo.area=function(e){return Ce=0,o.geo.stream(e,Re),Ce};var Ce,Pe=new d3_adder,Re={sphere:function(){Ce+=4*V},point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){Pe.reset(),Re.lineStart=d3_geo_areaRingStart},polygonEnd:function(){var e=2*Pe;Ce+=0>e?4*V+e:e,Re.lineStart=Re.lineEnd=Re.point=d3_noop}};o.geo.bounds=function(){function point(i,o){l.push(p=[e=i,n=i]),t>o&&(t=o),o>r&&(r=o)}function linePoint(o,a){var s=d3_geo_cartesian([o*F,a*F]);if(c){var u=d3_geo_cartesianCross(c,s),l=[u[1],-u[0],0],p=d3_geo_cartesianCross(l,u);d3_geo_cartesianNormalize(p),p=d3_geo_spherical(p);var f=o-i,h=f>0?1:-1,d=p[0]*W*h,g=m(f)>180;if(g^(d>h*i&&h*o>d)){var y=p[1]*W;y>r&&(r=y)}else if(d=(d+360)%360-180,g^(d>h*i&&h*o>d)){var y=-p[1]*W;t>y&&(t=y)}else t>a&&(t=a),a>r&&(r=a);g?i>o?angle(e,o)>angle(e,n)&&(n=o):angle(o,n)>angle(e,n)&&(e=o):n>=e?(e>o&&(e=o),o>n&&(n=o)):o>i?angle(e,o)>angle(e,n)&&(n=o):angle(o,n)>angle(e,n)&&(e=o)}else point(o,a);c=s,i=o}function lineStart(){f.point=linePoint}function lineEnd(){p[0]=e,p[1]=n,f.point=point,c=null}function ringPoint(e,t){if(c){var n=e-i;u+=m(n)>180?n+(n>0?360:-360):n}else a=e,s=t;Re.point(e,t),linePoint(e,t)}function ringStart(){Re.lineStart()}function ringEnd(){ringPoint(a,s),Re.lineEnd(),m(u)>I&&(e=-(n=180)),p[0]=e,p[1]=n,c=null}function angle(e,t){return(t-=e)<0?t+360:t}function compareRanges(e,t){return e[0]-t[0]}function withinRange(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var e,t,n,r,i,a,s,c,u,l,p,f={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){f.point=ringPoint,f.lineStart=ringStart,f.lineEnd=ringEnd,u=0,Re.polygonStart()},polygonEnd:function(){Re.polygonEnd(),f.point=point,f.lineStart=lineStart,f.lineEnd=lineEnd,0>Pe?(e=-(n=180),t=-(r=90)):u>I?r=90:-I>u&&(t=-90),p[0]=e,p[1]=n}};return function(i){r=n=-(e=t=1/0),l=[],o.geo.stream(i,f);var a=l.length;if(a){l.sort(compareRanges);for(var s,c=1,u=l[0],h=[u];a>c;++c)s=l[c],withinRange(s[0],u)||withinRange(s[1],u)?(angle(u[0],s[1])>angle(u[0],u[1])&&(u[1]=s[1]),angle(s[0],u[1])>angle(u[0],u[1])&&(u[0]=s[0])):h.push(u=s);for(var d,s,g=-(1/0),a=h.length-1,c=0,u=h[a];a>=c;u=s,++c)s=h[c],(d=angle(u[1],s[0]))>g&&(g=d,e=s[0],n=u[1])}return l=p=null,e===1/0||t===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,t],[n,r]]}}(),o.geo.centroid=function(e){we=Ee=Se=De=Ae=xe=Oe=Te=Ne=Me=Ie=0,o.geo.stream(e,ke);var t=Ne,n=Me,r=Ie,i=t*t+n*n+r*r;return k>i&&(t=xe,n=Oe,r=Te,I>Ee&&(t=Se,n=De,r=Ae),i=t*t+n*n+r*r,k>i)?[NaN,NaN]:[Math.atan2(n,t)*W,d3_asin(r/Math.sqrt(i))*W]};var we,Ee,Se,De,Ae,xe,Oe,Te,Ne,Me,Ie,ke={sphere:d3_noop,point:d3_geo_centroidPoint,lineStart:d3_geo_centroidLineStart,lineEnd:d3_geo_centroidLineEnd,polygonStart:function(){ke.lineStart=d3_geo_centroidRingStart},polygonEnd:function(){ke.lineStart=d3_geo_centroidLineStart}},Ve=d3_geo_clip(d3_true,d3_geo_clipAntimeridianLine,d3_geo_clipAntimeridianInterpolate,[-V,-V/2]),je=1e9;o.geo.clipExtent=function(){var e,t,n,r,i,o,a={stream:function(e){return i&&(i.valid=!1),i=o(e),i.valid=!0,i},extent:function(s){return arguments.length?(o=d3_geo_clipExtent(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[e,t],[n,r]]}};return a.extent([[0,0],[960,500]])},(o.geo.conicEqualArea=function(){return d3_geo_conic(d3_geo_conicEqualArea)}).raw=d3_geo_conicEqualArea,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){function albersUsa(i){var o=i[0],a=i[1];return e=null,t(o,a),e||(n(o,a),e)||r(o,a),e}var e,t,n,r,i=o.geo.albers(),a=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,n){e=[t,n]}};return albersUsa.invert=function(e){var t=i.scale(),n=i.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&.234>o&&r>=-.425&&-.214>r?a:o>=.166&&.234>o&&r>=-.214&&-.115>r?s:i).invert(e)},albersUsa.stream=function(e){var t=i.stream(e),n=a.stream(e),r=s.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},albersUsa.precision=function(e){return arguments.length?(i.precision(e),a.precision(e),s.precision(e),albersUsa):i.precision()},albersUsa.scale=function(e){return arguments.length?(i.scale(e),a.scale(.35*e),s.scale(e),albersUsa.translate(i.translate())):i.scale()},albersUsa.translate=function(e){if(!arguments.length)return i.translate();var o=i.scale(),u=+e[0],l=+e[1];return t=i.translate(e).clipExtent([[u-.455*o,l-.238*o],[u+.455*o,l+.238*o]]).stream(c).point,n=a.translate([u-.307*o,l+.201*o]).clipExtent([[u-.425*o+I,l+.12*o+I],[u-.214*o-I,l+.234*o-I]]).stream(c).point,r=s.translate([u-.205*o,l+.212*o]).clipExtent([[u-.214*o+I,l+.166*o+I],[u-.115*o-I,l+.234*o-I]]).stream(c).point,albersUsa},albersUsa.scale(1070)};var Be,Le,Fe,We,Ue,He,ze={point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){Le=0,ze.lineStart=d3_geo_pathAreaRingStart},polygonEnd:function(){ze.lineStart=ze.lineEnd=ze.point=d3_noop,Be+=m(Le/2)}},qe={point:d3_geo_pathBoundsPoint,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},Ge={point:d3_geo_pathCentroidPoint,lineStart:d3_geo_pathCentroidLineStart,lineEnd:d3_geo_pathCentroidLineEnd,polygonStart:function(){Ge.lineStart=d3_geo_pathCentroidRingStart},polygonEnd:function(){Ge.point=d3_geo_pathCentroidPoint,Ge.lineStart=d3_geo_pathCentroidLineStart,Ge.lineEnd=d3_geo_pathCentroidLineEnd}};o.geo.path=function(){function path(e){return e&&("function"==typeof a&&r.pointRadius(+a.apply(this,arguments)),i&&i.valid||(i=n(r)),o.geo.stream(e,i)),r.result()}function reset(){return i=null,path}var e,t,n,r,i,a=4.5;return path.area=function(e){return Be=0,o.geo.stream(e,n(ze)),Be},path.centroid=function(e){return Se=De=Ae=xe=Oe=Te=Ne=Me=Ie=0,o.geo.stream(e,n(Ge)),Ie?[Ne/Ie,Me/Ie]:Te?[xe/Te,Oe/Te]:Ae?[Se/Ae,De/Ae]:[NaN,NaN]},path.bounds=function(e){return Ue=He=-(Fe=We=1/0),o.geo.stream(e,n(qe)),[[Fe,We],[Ue,He]]},path.projection=function(t){return arguments.length?(n=(e=t)?t.stream||d3_geo_pathProjectStream(t):d3_identity,reset()):e},path.context=function(e){return arguments.length?(r=null==(t=e)?new d3_geo_pathBuffer:new d3_geo_pathContext(e),"function"!=typeof a&&r.pointRadius(a),reset()):t},path.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(r.pointRadius(+e),+e),path):a},path.projection(o.geo.albersUsa()).context(null)},o.geo.transform=function(e){return{stream:function(t){var n=new d3_geo_transform(t);for(var r in e)n[r]=e[r];return n}}},d3_geo_transform.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},o.geo.projection=d3_geo_projection,o.geo.projectionMutator=d3_geo_projectionMutator,(o.geo.equirectangular=function(){return d3_geo_projection(d3_geo_equirectangular)}).raw=d3_geo_equirectangular.invert=d3_geo_equirectangular,o.geo.rotation=function(e){function forward(t){return t=e(t[0]*F,t[1]*F),t[0]*=W,t[1]*=W,t}return e=d3_geo_rotation(e[0]%360*F,e[1]*F,e.length>2?e[2]*F:0),forward.invert=function(t){return t=e.invert(t[0]*F,t[1]*F),t[0]*=W,t[1]*=W,t},forward},d3_geo_identityRotation.invert=d3_geo_equirectangular,o.geo.circle=function(){function circle(){var e="function"==typeof n?n.apply(this,arguments):n,r=d3_geo_rotation(-e[0]*F,-e[1]*F,0).invert,i=[];return t(null,null,1,{point:function(e,t){i.push(e=r(e,t)),e[0]*=W,e[1]*=W}}),{type:"Polygon",coordinates:[i]}}var e,t,n=[0,0],r=6;return circle.origin=function(e){return arguments.length?(n=e,circle):n},circle.angle=function(n){return arguments.length?(t=d3_geo_circleInterpolate((e=+n)*F,r*F),circle):e},circle.precision=function(n){return arguments.length?(t=d3_geo_circleInterpolate(e*F,(r=+n)*F),circle):r},circle.angle(90)},o.geo.distance=function(e,t){var n,r=(t[0]-e[0])*F,i=e[1]*F,o=t[1]*F,a=Math.sin(r),s=Math.cos(r),c=Math.sin(i),u=Math.cos(i),l=Math.sin(o),p=Math.cos(o);return Math.atan2(Math.sqrt((n=p*a)*n+(n=u*l-c*p*s)*n),c*l+u*p*s)},o.geo.graticule=function(){function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return o.range(Math.ceil(r/g)*g,n,g).map(p).concat(o.range(Math.ceil(c/y)*y,s,y).map(f)).concat(o.range(Math.ceil(t/h)*h,e,h).filter(function(e){return m(e%g)>I}).map(u)).concat(o.range(Math.ceil(a/d)*d,i,d).filter(function(e){return m(e%y)>I}).map(l))}var e,t,n,r,i,a,s,c,u,l,p,f,h=10,d=h,g=90,y=360,_=2.5;return graticule.lines=function(){return lines().map(function(e){return{type:"LineString",coordinates:e}})},graticule.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(f(s).slice(1),p(n).reverse().slice(1),f(c).reverse().slice(1))]}},graticule.extent=function(e){return arguments.length?graticule.majorExtent(e).minorExtent(e):graticule.minorExtent()},graticule.majorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],c=+e[0][1],s=+e[1][1],r>n&&(e=r,r=n,n=e),c>s&&(e=c,c=s,s=e),graticule.precision(_)):[[r,c],[n,s]]},graticule.minorExtent=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],a=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),a>i&&(n=a,a=i,i=n),graticule.precision(_)):[[t,a],[e,i]]},graticule.step=function(e){return arguments.length?graticule.majorStep(e).minorStep(e):graticule.minorStep()},graticule.majorStep=function(e){return arguments.length?(g=+e[0],y=+e[1],graticule):[g,y]},graticule.minorStep=function(e){return arguments.length?(h=+e[0],d=+e[1],graticule):[h,d]},graticule.precision=function(o){return arguments.length?(_=+o,u=d3_geo_graticuleX(a,i,90),l=d3_geo_graticuleY(t,e,_),p=d3_geo_graticuleX(c,s,90),f=d3_geo_graticuleY(r,n,_),graticule):_},graticule.majorExtent([[-180,-90+I],[180,90-I]]).minorExtent([[-180,-80-I],[180,80+I]])},o.geo.greatArc=function(){function greatArc(){return{type:"LineString",coordinates:[e||n.apply(this,arguments),t||r.apply(this,arguments)]}}var e,t,n=d3_source,r=d3_target;return greatArc.distance=function(){return o.geo.distance(e||n.apply(this,arguments),t||r.apply(this,arguments))},greatArc.source=function(t){return arguments.length?(n=t,e="function"==typeof t?null:t,greatArc):n},greatArc.target=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,greatArc):r},greatArc.precision=function(){return arguments.length?greatArc:0},greatArc},o.geo.interpolate=function(e,t){return d3_geo_interpolate(e[0]*F,e[1]*F,t[0]*F,t[1]*F)},o.geo.length=function(e){return Ke=0,o.geo.stream(e,Je),Ke};var Ke,Je={sphere:d3_noop,point:d3_noop,lineStart:d3_geo_lengthLineStart,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop},Qe=d3_geo_azimuthal(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(o.geo.azimuthalEqualArea=function(){return d3_geo_projection(Qe)}).raw=Qe;var Xe=d3_geo_azimuthal(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},d3_identity);(o.geo.azimuthalEquidistant=function(){return d3_geo_projection(Xe)}).raw=Xe,(o.geo.conicConformal=function(){return d3_geo_conic(d3_geo_conicConformal)}).raw=d3_geo_conicConformal,(o.geo.conicEquidistant=function(){return d3_geo_conic(d3_geo_conicEquidistant)}).raw=d3_geo_conicEquidistant;var $e=d3_geo_azimuthal(function(e){return 1/e},Math.atan);(o.geo.gnomonic=function(){return d3_geo_projection($e)}).raw=$e,d3_geo_mercator.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-L]},(o.geo.mercator=function(){return d3_geo_mercatorProjection(d3_geo_mercator)}).raw=d3_geo_mercator;var Ze=d3_geo_azimuthal(function(){return 1},Math.asin);(o.geo.orthographic=function(){return d3_geo_projection(Ze)}).raw=Ze;var Ye=d3_geo_azimuthal(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(o.geo.stereographic=function(){return d3_geo_projection(Ye)}).raw=Ye,d3_geo_transverseMercator.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-L]},(o.geo.transverseMercator=function(){var e=d3_geo_mercatorProjection(d3_geo_transverseMercator),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=d3_geo_transverseMercator,o.geom={},o.geom.hull=function(e){function hull(e){if(e.length<3)return[];var r,i=d3_functor(t),o=d3_functor(n),a=e.length,s=[],c=[];for(r=0;a>r;r++)s.push([+i.call(this,e[r],r),+o.call(this,e[r],r),r]);for(s.sort(d3_geom_hullOrder),r=0;a>r;r++)c.push([s[r][0],-s[r][1]]);var u=d3_geom_hullUpper(s),l=d3_geom_hullUpper(c),p=l[0]===u[0],f=l[l.length-1]===u[u.length-1],h=[];for(r=u.length-1;r>=0;--r)h.push(e[s[u[r]][2]]);for(r=+p;r<l.length-f;++r)h.push(e[s[l[r]][2]]);return h}var t=d3_geom_pointX,n=d3_geom_pointY;return arguments.length?hull(e):(hull.x=function(e){return arguments.length?(t=e,hull):t},hull.y=function(e){return arguments.length?(n=e,hull):n},hull)},o.geom.polygon=function(e){return P(e,et),e};var et=o.geom.polygon.prototype=[];et.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},et.centroid=function(e){var t,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o*e,a*e]},et.clip=function(e){for(var t,n,r,i,o,a,s=d3_geom_polygonClosed(e),c=-1,u=this.length-d3_geom_polygonClosed(this),l=this[u-1];++c<u;){for(t=e.slice(),e.length=0,i=this[c],o=t[(r=t.length-s)-1],n=-1;++n<r;)a=t[n],d3_geom_polygonInside(a,l,i)?(d3_geom_polygonInside(o,l,i)||e.push(d3_geom_polygonIntersect(o,a,l,i)),e.push(a)):d3_geom_polygonInside(o,l,i)&&e.push(d3_geom_polygonIntersect(o,a,l,i)),o=a;s&&e.push(e[0]),l=i}return e};var tt,nt,rt,it,ot,at=[],st=[];d3_geom_voronoiCell.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(d3_geom_voronoiHalfEdgeOrder),t.length},d3_geom_voronoiHalfEdge.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},d3_geom_voronoiRedBlackTree.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=d3_geom_voronoiRedBlackFirst(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(d3_geom_voronoiRedBlackRotateLeft(this,n),e=n,n=e.U),n.C=!1,r.C=!0,d3_geom_voronoiRedBlackRotateRight(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(d3_geom_voronoiRedBlackRotateRight(this,n),e=n,n=e.U),n.C=!1,r.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?d3_geom_voronoiRedBlackFirst(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,d3_geom_voronoiRedBlackRotateRight(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,d3_geom_voronoiRedBlackRotateLeft(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,d3_geom_voronoiRedBlackRotateRight(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,d3_geom_voronoiRedBlackRotateRight(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},o.geom.voronoi=function(e){function voronoi(e){var t=new Array(e.length),n=o[0][0],r=o[0][1],i=o[1][0],a=o[1][1];return d3_geom_voronoi(sites(e),o).cells.forEach(function(o,s){var c=o.edges,u=o.site,l=t[s]=c.length?c.map(function(e){var t=e.start();return[t.x,t.y]}):u.x>=n&&u.x<=i&&u.y>=r&&u.y<=a?[[n,a],[i,a],[i,r],[n,r]]:[];l.point=e[s]}),t}function sites(e){return e.map(function(e,t){return{x:Math.round(r(e,t)/I)*I,y:Math.round(i(e,t)/I)*I,i:t}})}var t=d3_geom_pointX,n=d3_geom_pointY,r=t,i=n,o=ct;return e?voronoi(e):(voronoi.links=function(e){return d3_geom_voronoi(sites(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},voronoi.triangles=function(e){var t=[];return d3_geom_voronoi(sites(e)).cells.forEach(function(n,r){for(var i,o,a=n.site,s=n.edges.sort(d3_geom_voronoiHalfEdgeOrder),c=-1,u=s.length,l=s[u-1].edge,p=l.l===a?l.r:l.l;++c<u;)i=l,o=p,l=s[c].edge,p=l.l===a?l.r:l.l,r<o.i&&r<p.i&&d3_geom_voronoiTriangleArea(a,o,p)<0&&t.push([e[r],e[o.i],e[p.i]])}),t},voronoi.x=function(e){return arguments.length?(r=d3_functor(t=e),voronoi):t},voronoi.y=function(e){return arguments.length?(i=d3_functor(n=e),voronoi):n},voronoi.clipExtent=function(e){return arguments.length?(o=null==e?ct:e,voronoi):o===ct?null:o},voronoi.size=function(e){return arguments.length?voronoi.clipExtent(e&&[[0,0],e]):o===ct?null:o&&o[1]},voronoi)};var ct=[[-1e6,-1e6],[1e6,1e6]];o.geom.delaunay=function(e){return o.geom.voronoi().triangles(e)},o.geom.quadtree=function(e,t,n,r,i){function quadtree(e){function insert(e,t,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var c=e.x,u=e.y;if(null!=c)if(m(c-n)+m(u-r)<.01)insertChild(e,t,n,r,i,o,a,s);else{var l=e.point;e.x=e.y=e.point=null,insertChild(e,l,c,u,i,o,a,s),insertChild(e,t,n,r,i,o,a,s)}else e.x=n,e.y=r,e.point=t}else insertChild(e,t,n,r,i,o,a,s)}function insertChild(e,t,n,r,i,o,a,s){var c=.5*(i+a),u=.5*(o+s),l=n>=c,p=r>=u,f=p<<1|l;e.leaf=!1,e=e.nodes[f]||(e.nodes[f]=d3_geom_quadtreeNode()),l?i=c:a=c,p?o=u:s=u,insert(e,t,n,r,i,o,a,s)}var c,u,l,p,f,h,d,g,y,_=d3_functor(a),v=d3_functor(s);if(null!=t)h=t,d=n,g=r,y=i;else if(g=y=-(h=d=1/0),u=[],l=[],f=e.length,o)for(p=0;f>p;++p)c=e[p],c.x<h&&(h=c.x),c.y<d&&(d=c.y),c.x>g&&(g=c.x),c.y>y&&(y=c.y),u.push(c.x),l.push(c.y);else for(p=0;f>p;++p){var b=+_(c=e[p],p),C=+v(c,p);h>b&&(h=b),d>C&&(d=C),b>g&&(g=b),C>y&&(y=C),u.push(b),l.push(C)}var P=g-h,R=y-d;P>R?y=d+P:g=h+R;var w=d3_geom_quadtreeNode();if(w.add=function(e){insert(w,e,+_(e,++p),+v(e,p),h,d,g,y)},w.visit=function(e){d3_geom_quadtreeVisit(e,w,h,d,g,y)},w.find=function(e){return d3_geom_quadtreeFind(w,e[0],e[1],h,d,g,y)},p=-1,null==t){for(;++p<f;)insert(w,e[p],u[p],l[p],h,d,g,y);--p}else e.forEach(w.add);return u=l=e=c=null,w}var o,a=d3_geom_pointX,s=d3_geom_pointY;return(o=arguments.length)?(a=d3_geom_quadtreeCompatX,s=d3_geom_quadtreeCompatY,3===o&&(i=n,r=t,n=t=0),quadtree(e)):(quadtree.x=function(e){return arguments.length?(a=e,quadtree):a},quadtree.y=function(e){return arguments.length?(s=e,quadtree):s},quadtree.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),quadtree):null==t?null:[[t,n],[r,i]]},quadtree.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),quadtree):null==t?null:[r-t,i-n]},quadtree)},o.interpolateRgb=d3_interpolateRgb,o.interpolateObject=d3_interpolateObject,o.interpolateNumber=d3_interpolateNumber,o.interpolateString=d3_interpolateString;var ut=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lt=new RegExp(ut.source,"g");o.interpolate=d3_interpolate,o.interpolators=[function(e,t){var n=typeof t;return("string"===n?ne.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?d3_interpolateRgb:d3_interpolateString:t instanceof d3_color?d3_interpolateRgb:Array.isArray(t)?d3_interpolateArray:"object"===n&&isNaN(t)?d3_interpolateObject:d3_interpolateNumber)(e,t)}],o.interpolateArray=d3_interpolateArray;var pt=function(){return d3_identity},ft=o.map({linear:pt,poly:d3_ease_poly,quad:function(){return d3_ease_quad},cubic:function(){return d3_ease_cubic},sin:function(){return d3_ease_sin},exp:function(){return d3_ease_exp},circle:function(){return d3_ease_circle},elastic:d3_ease_elastic,back:d3_ease_back,bounce:function(){return d3_ease_bounce}}),ht=o.map({"in":d3_identity,out:d3_ease_reverse,"in-out":d3_ease_reflect,"out-in":function(e){return d3_ease_reflect(d3_ease_reverse(e))}});o.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=ft.get(n)||pt,r=ht.get(r)||d3_identity,d3_ease_clamp(r(n.apply(null,a.call(arguments,1))))},o.interpolateHcl=d3_interpolateHcl,o.interpolateHsl=d3_interpolateHsl,o.interpolateLab=d3_interpolateLab,o.interpolateRound=d3_interpolateRound,o.transform=function(e){var t=c.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new d3_transform(n?n.matrix:dt)})(e)},d3_transform.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var dt={a:1,b:0,c:0,d:1,e:0,f:0};o.interpolateTransform=d3_interpolateTransform,o.layout={},o.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(d3_layout_bundlePath(e[n]));return t}},o.layout.chord=function(){function relayout(){var c,l,p,f,h,d={},g=[],y=o.range(r),m=[];for(e=[],t=[],c=0,f=-1;++f<r;){for(l=0,h=-1;++h<r;)l+=n[f][h];g.push(l),m.push(o.range(r)),c+=l}for(i&&y.sort(function(e,t){return i(g[e],g[t])}),a&&m.forEach(function(e,t){e.sort(function(e,r){return a(n[t][e],n[t][r])})}),c=(j-u*r)/c,l=0,f=-1;++f<r;){for(p=l,h=-1;++h<r;){var _=y[f],v=m[_][h],b=n[_][v],C=l,P=l+=b*c;d[_+"-"+v]={index:_,subindex:v,startAngle:C,endAngle:P,value:b}}t[_]={index:_,startAngle:p,endAngle:l,value:g[_]},l+=u}for(f=-1;++f<r;)for(h=f-1;++h<r;){var R=d[f+"-"+h],w=d[h+"-"+f];(R.value||w.value)&&e.push(R.value<w.value?{source:w,target:R}:{source:R,target:w})}s&&resort()}function resort(){e.sort(function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var e,t,n,r,i,a,s,c={},u=0;return c.matrix=function(i){return arguments.length?(r=(n=i)&&n.length,e=t=null,c):n},c.padding=function(n){return arguments.length?(u=n,e=t=null,c):u},c.sortGroups=function(n){return arguments.length?(i=n,e=t=null,c):i},c.sortSubgroups=function(t){return arguments.length?(a=t,e=null,c):a},c.sortChords=function(t){return arguments.length?(s=t,e&&resort(),c):s},c.chords=function(){return e||relayout(),e},c.groups=function(){return t||relayout(),t},c},o.layout.force=function(){function repulse(e){return function(t,n,r,i){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,s=i-n,c=o*o+a*a;if(c>s*s/y){if(d>c){var u=t.charge/c;e.px-=o*u,e.py-=a*u}return!0}if(t.point&&c&&d>c){var u=t.pointCharge/c;e.px-=o*u,e.py-=a*u}}return!t.charge}}function dragmove(e){e.px=o.event.x,e.py=o.event.y,s.resume()}var e,t,n,r,i,a,s={},c=o.dispatch("start","tick","end"),u=[1,1],l=.9,p=gt,f=yt,h=-30,d=mt,g=.1,y=.64,m=[],_=[];return s.tick=function(){if((n*=.99)<.005)return e=null,c.end({type:"end",alpha:n=0}),!0;var t,s,p,f,d,y,v,b,C,P=m.length,R=_.length;for(s=0;R>s;++s)p=_[s],f=p.source,d=p.target,b=d.x-f.x,C=d.y-f.y,(y=b*b+C*C)&&(y=n*i[s]*((y=Math.sqrt(y))-r[s])/y,b*=y,C*=y,d.x-=b*(v=f.weight+d.weight?f.weight/(f.weight+d.weight):.5),d.y-=C*v,f.x+=b*(v=1-v),f.y+=C*v);if((v=n*g)&&(b=u[0]/2,C=u[1]/2,s=-1,v))for(;++s<P;)p=m[s],p.x+=(b-p.x)*v,p.y+=(C-p.y)*v;if(h)for(d3_layout_forceAccumulate(t=o.geom.quadtree(m),n,a),s=-1;++s<P;)(p=m[s]).fixed||t.visit(repulse(p));for(s=-1;++s<P;)p=m[s],p.fixed?(p.x=p.px,p.y=p.py):(p.x-=(p.px-(p.px=p.x))*l,p.y-=(p.py-(p.py=p.y))*l);c.tick({type:"tick",alpha:n})},s.nodes=function(e){return arguments.length?(m=e,s):m},s.links=function(e){return arguments.length?(_=e,s):_},s.size=function(e){return arguments.length?(u=e,s):u},s.linkDistance=function(e){return arguments.length?(p="function"==typeof e?e:+e,s):p},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(f="function"==typeof e?e:+e,s):f},s.friction=function(e){return arguments.length?(l=+e,s):l},s.charge=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.chargeDistance=function(e){return arguments.length?(d=e*e,s):Math.sqrt(d)},s.gravity=function(e){return arguments.length?(g=+e,s):g},s.theta=function(e){return arguments.length?(y=e*e,
s):Math.sqrt(y)},s.alpha=function(t){return arguments.length?(t=+t,n?t>0?n=t:(e.c=null,e.t=NaN,e=null,c.end({type:"end",alpha:n=0})):t>0&&(c.start({type:"start",alpha:n=t}),e=d3_timer(s.tick)),s):n},s.start=function(){function position(n,r){if(!t){for(t=new Array(o),u=0;o>u;++u)t[u]=[];for(u=0;c>u;++u){var i=_[u];t[i.source.index].push(i.target),t[i.target.index].push(i.source)}}for(var a,s=t[e],u=-1,l=s.length;++u<l;)if(!isNaN(a=s[u][n]))return a;return Math.random()*r}var e,t,n,o=m.length,c=_.length,l=u[0],d=u[1];for(e=0;o>e;++e)(n=m[e]).index=e,n.weight=0;for(e=0;c>e;++e)n=_[e],"number"==typeof n.source&&(n.source=m[n.source]),"number"==typeof n.target&&(n.target=m[n.target]),++n.source.weight,++n.target.weight;for(e=0;o>e;++e)n=m[e],isNaN(n.x)&&(n.x=position("x",l)),isNaN(n.y)&&(n.y=position("y",d)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"==typeof p)for(e=0;c>e;++e)r[e]=+p.call(this,_[e],e);else for(e=0;c>e;++e)r[e]=p;if(i=[],"function"==typeof f)for(e=0;c>e;++e)i[e]=+f.call(this,_[e],e);else for(e=0;c>e;++e)i[e]=f;if(a=[],"function"==typeof h)for(e=0;o>e;++e)a[e]=+h.call(this,m[e],e);else for(e=0;o>e;++e)a[e]=h;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return t||(t=o.behavior.drag().origin(d3_identity).on("dragstart.force",d3_layout_forceDragstart).on("drag.force",dragmove).on("dragend.force",d3_layout_forceDragend)),arguments.length?void this.on("mouseover.force",d3_layout_forceMouseover).on("mouseout.force",d3_layout_forceMouseout).call(t):t},o.rebind(s,c,"on")};var gt=20,yt=1,mt=1/0;o.layout.hierarchy=function(){function hierarchy(r){var i,o=[r],a=[];for(r.depth=0;null!=(i=o.pop());)if(a.push(i),(c=t.call(hierarchy,i,i.depth))&&(s=c.length)){for(var s,c,u;--s>=0;)o.push(u=c[s]),u.parent=i,u.depth=i.depth+1;n&&(i.value=0),i.children=c}else n&&(i.value=+n.call(hierarchy,i,i.depth)||0),delete i.children;return d3_layout_hierarchyVisitAfter(r,function(t){var r,i;e&&(r=t.children)&&r.sort(e),n&&(i=t.parent)&&(i.value+=t.value)}),a}var e=d3_layout_hierarchySort,t=d3_layout_hierarchyChildren,n=d3_layout_hierarchyValue;return hierarchy.sort=function(t){return arguments.length?(e=t,hierarchy):e},hierarchy.children=function(e){return arguments.length?(t=e,hierarchy):t},hierarchy.value=function(e){return arguments.length?(n=e,hierarchy):n},hierarchy.revalue=function(e){return n&&(d3_layout_hierarchyVisitBefore(e,function(e){e.children&&(e.value=0)}),d3_layout_hierarchyVisitAfter(e,function(e){var t;e.children||(e.value=+n.call(hierarchy,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)})),e},hierarchy},o.layout.partition=function(){function position(e,t,n,r){var i=e.children;if(e.x=t,e.y=e.depth*r,e.dx=n,e.dy=r,i&&(o=i.length)){var o,a,s,c=-1;for(n=e.value?n/e.value:0;++c<o;)position(a=i[c],t,s=a.value*n,r),t+=s}}function depth(e){var t=e.children,n=0;if(t&&(r=t.length))for(var r,i=-1;++i<r;)n=Math.max(n,depth(t[i]));return 1+n}function partition(n,r){var i=e.call(this,n,r);return position(i[0],0,t[0],t[1]/depth(i[0])),i}var e=o.layout.hierarchy(),t=[1,1];return partition.size=function(e){return arguments.length?(t=e,partition):t},d3_layout_hierarchyRebind(partition,e)},o.layout.pie=function(){function pie(a){var s,c=a.length,u=a.map(function(t,n){return+e.call(pie,t,n)}),l=+("function"==typeof n?n.apply(this,arguments):n),p=("function"==typeof r?r.apply(this,arguments):r)-l,f=Math.min(Math.abs(p)/c,+("function"==typeof i?i.apply(this,arguments):i)),h=f*(0>p?-1:1),d=o.sum(u),g=d?(p-c*h)/d:0,y=o.range(c),m=[];return null!=t&&y.sort(t===_t?function(e,t){return u[t]-u[e]}:function(e,n){return t(a[e],a[n])}),y.forEach(function(e){m[e]={data:a[e],value:s=u[e],startAngle:l,endAngle:l+=s*g+h,padAngle:f}}),m}var e=Number,t=_t,n=0,r=j,i=0;return pie.value=function(t){return arguments.length?(e=t,pie):e},pie.sort=function(e){return arguments.length?(t=e,pie):t},pie.startAngle=function(e){return arguments.length?(n=e,pie):n},pie.endAngle=function(e){return arguments.length?(r=e,pie):r},pie.padAngle=function(e){return arguments.length?(i=e,pie):i},pie};var _t={};o.layout.stack=function(){function stack(s,c){if(!(f=s.length))return s;var u=s.map(function(t,n){return e.call(stack,t,n)}),l=u.map(function(e){return e.map(function(e,t){return[i.call(stack,e,t),a.call(stack,e,t)]})}),p=t.call(stack,l,c);u=o.permute(u,p),l=o.permute(l,p);var f,h,d,g,y=n.call(stack,l,c),m=u[0].length;for(d=0;m>d;++d)for(r.call(stack,u[0][d],g=y[d],l[0][d][1]),h=1;f>h;++h)r.call(stack,u[h][d],g+=l[h-1][d][1],l[h][d][1]);return s}var e=d3_identity,t=d3_layout_stackOrderDefault,n=d3_layout_stackOffsetZero,r=d3_layout_stackOut,i=d3_layout_stackX,a=d3_layout_stackY;return stack.values=function(t){return arguments.length?(e=t,stack):e},stack.order=function(e){return arguments.length?(t="function"==typeof e?e:vt.get(e)||d3_layout_stackOrderDefault,stack):t},stack.offset=function(e){return arguments.length?(n="function"==typeof e?e:bt.get(e)||d3_layout_stackOffsetZero,stack):n},stack.x=function(e){return arguments.length?(i=e,stack):i},stack.y=function(e){return arguments.length?(a=e,stack):a},stack.out=function(e){return arguments.length?(r=e,stack):r},stack};var vt=o.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(d3_layout_stackMaxIndex),a=e.map(d3_layout_stackReduceSum),s=o.range(r).sort(function(e,t){return i[e]-i[t]}),c=0,u=0,l=[],p=[];for(t=0;r>t;++t)n=s[t],u>c?(c+=a[n],l.push(n)):(u+=a[n],p.push(n));return p.reverse().concat(l)},reverse:function(e){return o.range(e.length).reverse()},"default":d3_layout_stackOrderDefault}),bt=o.map({silhouette:function(e){var t,n,r,i=e.length,o=e[0].length,a=[],s=0,c=[];for(n=0;o>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];r>s&&(s=r),a.push(r)}for(n=0;o>n;++n)c[n]=(s-a[n])/2;return c},wiggle:function(e){var t,n,r,i,o,a,s,c,u,l=e.length,p=e[0],f=p.length,h=[];for(h[0]=c=u=0,n=1;f>n;++n){for(t=0,i=0;l>t;++t)i+=e[t][n][1];for(t=0,o=0,s=p[n][0]-p[n-1][0];l>t;++t){for(r=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);t>r;++r)a+=(e[r][n][1]-e[r][n-1][1])/s;o+=a*e[t][n][1]}h[n]=c-=i?o/i*s:0,u>c&&(u=c)}for(n=0;f>n;++n)h[n]-=u;return h},expand:function(e){var t,n,r,i=e.length,o=e[0].length,a=1/i,s=[];for(n=0;o>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];if(r)for(t=0;i>t;t++)e[t][n][1]/=r;else for(t=0;i>t;t++)e[t][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:d3_layout_stackOffsetZero});o.layout.histogram=function(){function histogram(i,a){for(var s,c,u=[],l=i.map(t,this),p=n.call(this,l,a),f=r.call(this,p,l,a),a=-1,h=l.length,d=f.length-1,g=e?1:1/h;++a<d;)s=u[a]=[],s.dx=f[a+1]-(s.x=f[a]),s.y=0;if(d>0)for(a=-1;++a<h;)c=l[a],c>=p[0]&&c<=p[1]&&(s=u[o.bisect(f,c,1,d)-1],s.y+=g,s.push(i[a]));return u}var e=!0,t=Number,n=d3_layout_histogramRange,r=d3_layout_histogramBinSturges;return histogram.value=function(e){return arguments.length?(t=e,histogram):t},histogram.range=function(e){return arguments.length?(n=d3_functor(e),histogram):n},histogram.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return d3_layout_histogramBinFixed(t,e)}:d3_functor(e),histogram):r},histogram.frequency=function(t){return arguments.length?(e=!!t,histogram):e},histogram},o.layout.pack=function(){function pack(i,o){var a=t.call(this,i,o),s=a[0],c=r[0],u=r[1],l=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,d3_layout_hierarchyVisitAfter(s,function(e){e.r=+l(e.value)}),d3_layout_hierarchyVisitAfter(s,d3_layout_packSiblings),n){var p=n*(e?1:Math.max(2*s.r/c,2*s.r/u))/2;d3_layout_hierarchyVisitAfter(s,function(e){e.r+=p}),d3_layout_hierarchyVisitAfter(s,d3_layout_packSiblings),d3_layout_hierarchyVisitAfter(s,function(e){e.r-=p})}return d3_layout_packTransform(s,c/2,u/2,e?1:1/Math.max(2*s.r/c,2*s.r/u)),a}var e,t=o.layout.hierarchy().sort(d3_layout_packSort),n=0,r=[1,1];return pack.size=function(e){return arguments.length?(r=e,pack):r},pack.radius=function(t){return arguments.length?(e=null==t||"function"==typeof t?t:+t,pack):e},pack.padding=function(e){return arguments.length?(n=+e,pack):n},d3_layout_hierarchyRebind(pack,t)},o.layout.tree=function(){function tree(i,o){var a=e.call(this,i,o),s=a[0],c=wrapTree(s);if(d3_layout_hierarchyVisitAfter(c,firstWalk),c.parent.m=-c.z,d3_layout_hierarchyVisitBefore(c,secondWalk),r)d3_layout_hierarchyVisitBefore(s,sizeNode);else{var u=s,l=s,p=s;d3_layout_hierarchyVisitBefore(s,function(e){e.x<u.x&&(u=e),e.x>l.x&&(l=e),e.depth>p.depth&&(p=e)});var f=t(u,l)/2-u.x,h=n[0]/(l.x+t(l,u)/2+f),d=n[1]/(p.depth||1);d3_layout_hierarchyVisitBefore(s,function(e){e.x=(e.x+f)*h,e.y=e.depth*d})}return a}function wrapTree(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,o=t.children,a=0,s=o.length;s>a;++a)r.push((o[a]=i={_:o[a],parent:t,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function firstWalk(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n.length){d3_layout_treeShift(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=apportion(e,i,e.parent.A||r[0])}function secondWalk(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function apportion(e,n,r){if(n){for(var i,o=e,a=e,s=n,c=o.parent.children[0],u=o.m,l=a.m,p=s.m,f=c.m;s=d3_layout_treeRight(s),o=d3_layout_treeLeft(o),s&&o;)c=d3_layout_treeLeft(c),a=d3_layout_treeRight(a),a.a=e,i=s.z+p-o.z-u+t(s._,o._),i>0&&(d3_layout_treeMove(d3_layout_treeAncestor(s,e,r),e,i),u+=i,l+=i),p+=s.m,u+=o.m,f+=c.m,l+=a.m;s&&!d3_layout_treeRight(a)&&(a.t=s,a.m+=p-l),o&&!d3_layout_treeLeft(c)&&(c.t=o,c.m+=u-f,r=e)}return r}function sizeNode(e){e.x*=n[0],e.y=e.depth*n[1]}var e=o.layout.hierarchy().sort(null).value(null),t=d3_layout_treeSeparation,n=[1,1],r=null;return tree.separation=function(e){return arguments.length?(t=e,tree):t},tree.size=function(e){return arguments.length?(r=null==(n=e)?sizeNode:null,tree):r?null:n},tree.nodeSize=function(e){return arguments.length?(r=null==(n=e)?null:sizeNode,tree):r?n:null},d3_layout_hierarchyRebind(tree,e)},o.layout.cluster=function(){function cluster(i,o){var a,s=e.call(this,i,o),c=s[0],u=0;d3_layout_hierarchyVisitAfter(c,function(e){var n=e.children;n&&n.length?(e.x=d3_layout_clusterX(n),e.y=d3_layout_clusterY(n)):(e.x=a?u+=t(e,a):0,e.y=0,a=e)});var l=d3_layout_clusterLeft(c),p=d3_layout_clusterRight(c),f=l.x-t(l,p)/2,h=p.x+t(p,l)/2;return d3_layout_hierarchyVisitAfter(c,r?function(e){e.x=(e.x-c.x)*n[0],e.y=(c.y-e.y)*n[1]}:function(e){e.x=(e.x-f)/(h-f)*n[0],e.y=(1-(c.y?e.y/c.y:1))*n[1]}),s}var e=o.layout.hierarchy().sort(null).value(null),t=d3_layout_treeSeparation,n=[1,1],r=!1;return cluster.separation=function(e){return arguments.length?(t=e,cluster):t},cluster.size=function(e){return arguments.length?(r=null==(n=e),cluster):r?null:n},cluster.nodeSize=function(e){return arguments.length?(r=null!=(n=e),cluster):r?n:null},d3_layout_hierarchyRebind(cluster,e)},o.layout.treemap=function(){function scale(e,t){for(var n,r,i=-1,o=e.length;++i<o;)r=(n=e[i]).value*(0>t?0:t),n.area=isNaN(r)||0>=r?0:r}function squarify(e){var t=e.children;if(t&&t.length){var n,r,i,o=a(e),s=[],u=t.slice(),l=1/0,p="slice"===c?o.dx:"dice"===c?o.dy:"slice-dice"===c?1&e.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(scale(u,o.dx*o.dy/e.value),s.area=0;(i=u.length)>0;)s.push(n=u[i-1]),s.area+=n.area,"squarify"!==c||(r=worst(s,p))<=l?(u.pop(),l=r):(s.area-=s.pop().area,position(s,p,o,!1),p=Math.min(o.dx,o.dy),s.length=s.area=0,l=1/0);s.length&&(position(s,p,o,!0),s.length=s.area=0),t.forEach(squarify)}}function stickify(e){var t=e.children;if(t&&t.length){var n,r=a(e),i=t.slice(),o=[];for(scale(i,r.dx*r.dy/e.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(position(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);t.forEach(stickify)}}function worst(e,t){for(var n,r=e.area,i=0,o=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(o>n&&(o=n),n>i&&(i=n));return r*=r,t*=t,r?Math.max(t*i*u/r,r/(t*o*u)):1/0}function position(e,t,r,i){var o,a=-1,s=e.length,c=r.x,u=r.y,l=t?n(e.area/t):0;if(t==r.dx){for((i||l>r.dy)&&(l=r.dy);++a<s;)o=e[a],o.x=c,o.y=u,o.dy=l,c+=o.dx=Math.min(r.x+r.dx-c,l?n(o.area/l):0);o.z=!0,o.dx+=r.x+r.dx-c,r.y+=l,r.dy-=l}else{for((i||l>r.dx)&&(l=r.dx);++a<s;)o=e[a],o.x=c,o.y=u,o.dx=l,u+=o.dy=Math.min(r.y+r.dy-u,l?n(o.area/l):0);o.z=!1,o.dy+=r.y+r.dy-u,r.x+=l,r.dx-=l}}function treemap(n){var i=e||t(n),o=i[0];return o.x=o.y=0,o.value?(o.dx=r[0],o.dy=r[1]):o.dx=o.dy=0,e&&t.revalue(o),scale([o],o.dx*o.dy/o.value),(e?stickify:squarify)(o),s&&(e=i),i}var e,t=o.layout.hierarchy(),n=Math.round,r=[1,1],i=null,a=d3_layout_treemapPadNull,s=!1,c="squarify",u=.5*(1+Math.sqrt(5));return treemap.size=function(e){return arguments.length?(r=e,treemap):r},treemap.padding=function(e){function padFunction(t){var n=e.call(treemap,t,t.depth);return null==n?d3_layout_treemapPadNull(t):d3_layout_treemapPad(t,"number"==typeof n?[n,n,n,n]:n)}function padConstant(t){return d3_layout_treemapPad(t,e)}if(!arguments.length)return i;var t;return a=null==(i=e)?d3_layout_treemapPadNull:"function"==(t=typeof e)?padFunction:"number"===t?(e=[e,e,e,e],padConstant):padConstant,treemap},treemap.round=function(e){return arguments.length?(n=e?Math.round:Number,treemap):n!=Number},treemap.sticky=function(t){return arguments.length?(s=t,e=null,treemap):s},treemap.ratio=function(e){return arguments.length?(u=e,treemap):u},treemap.mode=function(e){return arguments.length?(c=e+"",treemap):c},d3_layout_hierarchyRebind(treemap,t)},o.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=o.random.normal.apply(o,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=o.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},o.scale={};var Ct={floor:d3_identity,ceil:d3_identity};o.scale.linear=function(){return d3_scale_linear([0,1],[0,1],d3_interpolate,!1)};var Pt={s:1,g:1,p:1,r:1,e:1};o.scale.log=function(){return d3_scale_log(o.scale.linear().domain([0,1]),10,!0,[1,10])};var Rt=o.format(".0e"),wt={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};o.scale.pow=function(){return d3_scale_pow(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return d3_scale_ordinal([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(Et)},o.scale.category20=function(){return o.scale.ordinal().range(St)},o.scale.category20b=function(){return o.scale.ordinal().range(Dt)},o.scale.category20c=function(){return o.scale.ordinal().range(At)};var Et=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(d3_rgbString),St=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(d3_rgbString),Dt=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(d3_rgbString),At=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(d3_rgbString);o.scale.quantile=function(){return d3_scale_quantile([],[])},o.scale.quantize=function(){return d3_scale_quantize(0,1,[0,1])},o.scale.threshold=function(){return d3_scale_threshold([.5],[0,1])},o.scale.identity=function(){return d3_scale_identity([0,1])},o.svg={},o.svg.arc=function(){function arc(){var s=Math.max(0,+e.apply(this,arguments)),c=Math.max(0,+t.apply(this,arguments)),u=i.apply(this,arguments)-L,l=o.apply(this,arguments)-L,p=Math.abs(l-u),f=u>l?0:1;if(s>c&&(h=c,c=s,s=h),p>=B)return circleSegment(c,f)+(s?circleSegment(s,1-f):"")+"Z";var h,d,g,y,m,_,v,b,C,P,R,w,E=0,S=0,D=[];if((y=(+a.apply(this,arguments)||0)/2)&&(g=r===xt?Math.sqrt(s*s+c*c):+r.apply(this,arguments),f||(S*=-1),c&&(S=d3_asin(g/c*Math.sin(y))),s&&(E=d3_asin(g/s*Math.sin(y)))),c){m=c*Math.cos(u+S),_=c*Math.sin(u+S),v=c*Math.cos(l-S),b=c*Math.sin(l-S);var A=Math.abs(l-u-2*S)<=V?0:1;if(S&&d3_svg_arcSweep(m,_,v,b)===f^A){var x=(u+l)/2;m=c*Math.cos(x),_=c*Math.sin(x),v=b=null}}else m=_=0;if(s){C=s*Math.cos(l-E),P=s*Math.sin(l-E),R=s*Math.cos(u+E),w=s*Math.sin(u+E);var O=Math.abs(u-l+2*E)<=V?0:1;if(E&&d3_svg_arcSweep(C,P,R,w)===1-f^O){var T=(u+l)/2;C=s*Math.cos(T),P=s*Math.sin(T),R=w=null}}else C=P=0;if(p>I&&(h=Math.min(Math.abs(c-s)/2,+n.apply(this,arguments)))>.001){d=c>s^f?0:1;var N=h,M=h;if(V>p){var k=null==R?[C,P]:null==v?[m,_]:d3_geom_polygonIntersect([m,_],[R,w],[v,b],[C,P]),j=m-k[0],F=_-k[1],W=v-k[0],U=b-k[1],H=1/Math.sin(Math.acos((j*W+F*U)/(Math.sqrt(j*j+F*F)*Math.sqrt(W*W+U*U)))/2),z=Math.sqrt(k[0]*k[0]+k[1]*k[1]);M=Math.min(h,(s-z)/(H-1)),N=Math.min(h,(c-z)/(H+1))}if(null!=v){var q=d3_svg_arcCornerTangents(null==R?[C,P]:[R,w],[m,_],c,N,f),G=d3_svg_arcCornerTangents([v,b],[C,P],c,N,f);h===N?D.push("M",q[0],"A",N,",",N," 0 0,",d," ",q[1],"A",c,",",c," 0 ",1-f^d3_svg_arcSweep(q[1][0],q[1][1],G[1][0],G[1][1]),",",f," ",G[1],"A",N,",",N," 0 0,",d," ",G[0]):D.push("M",q[0],"A",N,",",N," 0 1,",d," ",G[0])}else D.push("M",m,",",_);if(null!=R){var K=d3_svg_arcCornerTangents([m,_],[R,w],s,-M,f),J=d3_svg_arcCornerTangents([C,P],null==v?[m,_]:[v,b],s,-M,f);h===M?D.push("L",J[0],"A",M,",",M," 0 0,",d," ",J[1],"A",s,",",s," 0 ",f^d3_svg_arcSweep(J[1][0],J[1][1],K[1][0],K[1][1]),",",1-f," ",K[1],"A",M,",",M," 0 0,",d," ",K[0]):D.push("L",J[0],"A",M,",",M," 0 0,",d," ",K[0])}else D.push("L",C,",",P)}else D.push("M",m,",",_),null!=v&&D.push("A",c,",",c," 0 ",A,",",f," ",v,",",b),D.push("L",C,",",P),null!=R&&D.push("A",s,",",s," 0 ",O,",",1-f," ",R,",",w);return D.push("Z"),D.join("")}function circleSegment(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var e=d3_svg_arcInnerRadius,t=d3_svg_arcOuterRadius,n=d3_zero,r=xt,i=d3_svg_arcStartAngle,o=d3_svg_arcEndAngle,a=d3_svg_arcPadAngle;return arc.innerRadius=function(t){return arguments.length?(e=d3_functor(t),arc):e},arc.outerRadius=function(e){return arguments.length?(t=d3_functor(e),arc):t},arc.cornerRadius=function(e){return arguments.length?(n=d3_functor(e),arc):n},arc.padRadius=function(e){return arguments.length?(r=e==xt?xt:d3_functor(e),arc):r},arc.startAngle=function(e){return arguments.length?(i=d3_functor(e),arc):i},arc.endAngle=function(e){return arguments.length?(o=d3_functor(e),arc):o},arc.padAngle=function(e){return arguments.length?(a=d3_functor(e),arc):a},arc.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-L;return[Math.cos(r)*n,Math.sin(r)*n]},arc};var xt="auto";o.svg.line=function(){return d3_svg_line(d3_identity)};var Ot=o.map({linear:d3_svg_lineLinear,"linear-closed":d3_svg_lineLinearClosed,step:d3_svg_lineStep,"step-before":d3_svg_lineStepBefore,"step-after":d3_svg_lineStepAfter,basis:d3_svg_lineBasis,"basis-open":d3_svg_lineBasisOpen,"basis-closed":d3_svg_lineBasisClosed,bundle:d3_svg_lineBundle,cardinal:d3_svg_lineCardinal,"cardinal-open":d3_svg_lineCardinalOpen,"cardinal-closed":d3_svg_lineCardinalClosed,monotone:d3_svg_lineMonotone});Ot.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Tt=[0,2/3,1/3,0],Nt=[0,1/3,2/3,0],Mt=[0,1/6,2/3,1/6];o.svg.line.radial=function(){var e=d3_svg_line(d3_svg_lineRadial);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},d3_svg_lineStepBefore.reverse=d3_svg_lineStepAfter,d3_svg_lineStepAfter.reverse=d3_svg_lineStepBefore,o.svg.area=function(){return d3_svg_area(d3_identity)},o.svg.area.radial=function(){var e=d3_svg_area(d3_svg_lineRadial);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},o.svg.chord=function(){function chord(n,r){var i=subgroup(this,e,n,r),o=subgroup(this,t,n,r);return"M"+i.p0+arc(i.r,i.p1,i.a1-i.a0)+(equals(i,o)?curve(i.r,i.p1,i.r,i.p0):curve(i.r,i.p1,o.r,o.p0)+arc(o.r,o.p1,o.a1-o.a0)+curve(o.r,o.p1,i.r,i.p0))+"Z"}function subgroup(e,t,o,a){var s=t.call(e,o,a),c=n.call(e,s,a),u=r.call(e,s,a)-L,l=i.call(e,s,a)-L;return{r:c,a0:u,a1:l,p0:[c*Math.cos(u),c*Math.sin(u)],p1:[c*Math.cos(l),c*Math.sin(l)]}}function equals(e,t){return e.a0==t.a0&&e.a1==t.a1}function arc(e,t,n){return"A"+e+","+e+" 0 "+ +(n>V)+",1 "+t}function curve(e,t,n,r){return"Q 0,0 "+r}var e=d3_source,t=d3_target,n=d3_svg_chordRadius,r=d3_svg_arcStartAngle,i=d3_svg_arcEndAngle;return chord.radius=function(e){return arguments.length?(n=d3_functor(e),chord):n},chord.source=function(t){return arguments.length?(e=d3_functor(t),chord):e},chord.target=function(e){return arguments.length?(t=d3_functor(e),chord):t},chord.startAngle=function(e){return arguments.length?(r=d3_functor(e),chord):r},chord.endAngle=function(e){return arguments.length?(i=d3_functor(e),chord):i},chord},o.svg.diagonal=function(){function diagonal(r,i){var o=e.call(this,r,i),a=t.call(this,r,i),s=(o.y+a.y)/2,c=[o,{x:o.x,y:s},{x:a.x,y:s},a];return c=c.map(n),"M"+c[0]+"C"+c[1]+" "+c[2]+" "+c[3]}var e=d3_source,t=d3_target,n=d3_svg_diagonalProjection;return diagonal.source=function(t){return arguments.length?(e=d3_functor(t),diagonal):e},diagonal.target=function(e){return arguments.length?(t=d3_functor(e),diagonal):t},diagonal.projection=function(e){return arguments.length?(n=e,diagonal):n},diagonal},o.svg.diagonal.radial=function(){var e=o.svg.diagonal(),t=d3_svg_diagonalProjection,n=e.projection;return e.projection=function(e){return arguments.length?n(d3_svg_diagonalRadialProjection(t=e)):t},e},o.svg.symbol=function(){function symbol(n,r){return(It.get(e.call(this,n,r))||d3_svg_symbolCircle)(t.call(this,n,r))}var e=d3_svg_symbolType,t=d3_svg_symbolSize;return symbol.type=function(t){return arguments.length?(e=d3_functor(t),symbol):e},symbol.size=function(e){return arguments.length?(t=d3_functor(e),symbol):t},symbol};var It=o.map({circle:d3_svg_symbolCircle,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Vt)),n=t*Vt;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/kt),n=t*kt/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/kt),n=t*kt/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});o.svg.symbolTypes=It.keys();var kt=Math.sqrt(3),Vt=Math.tan(30*F);S.transition=function(e){for(var t,n,r=jt||++Wt,i=d3_transitionNamespace(e),o=[],a=Bt||{time:Date.now(),ease:d3_ease_cubicInOut,delay:0,duration:250},s=-1,c=this.length;++s<c;){o.push(t=[]);for(var u=this[s],l=-1,p=u.length;++l<p;)(n=u[l])&&d3_transitionNode(n,l,i,r,a),t.push(n)}return d3_transition(o,i,r)},S.interrupt=function(e){return this.each(null==e?Lt:d3_selection_interruptNS(d3_transitionNamespace(e)))};var jt,Bt,Lt=d3_selection_interruptNS(d3_transitionNamespace()),Ft=[],Wt=0;Ft.call=S.call,Ft.empty=S.empty,Ft.node=S.node,Ft.size=S.size,o.transition=function(e,t){return e&&e.transition?jt?e.transition(t):e:o.selection().transition(e)},o.transition.prototype=Ft,Ft.select=function(e){var t,n,r,i=this.id,o=this.namespace,a=[];e=d3_selection_selector(e);for(var s=-1,c=this.length;++s<c;){a.push(t=[]);for(var u=this[s],l=-1,p=u.length;++l<p;)(r=u[l])&&(n=e.call(r,r.__data__,l,s))?("__data__"in r&&(n.__data__=r.__data__),d3_transitionNode(n,l,o,i,r[o][i]),t.push(n)):t.push(null)}return d3_transition(a,o,i)},Ft.selectAll=function(e){var t,n,r,i,o,a=this.id,s=this.namespace,c=[];e=d3_selection_selectorAll(e);for(var u=-1,l=this.length;++u<l;)for(var p=this[u],f=-1,h=p.length;++f<h;)if(r=p[f]){o=r[s][a],n=e.call(r,r.__data__,f,u),c.push(t=[]);for(var d=-1,g=n.length;++d<g;)(i=n[d])&&d3_transitionNode(i,d,s,a,o),t.push(i)}return d3_transition(c,s,a)},Ft.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=d3_selection_filter(e));for(var o=0,a=this.length;a>o;o++){i.push(t=[]);for(var n=this[o],s=0,c=n.length;c>s;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return d3_transition(i,this.namespace,this.id)},Ft.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):d3_selection_each(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},Ft.attr=function(e,t){function attrNull(){this.removeAttribute(r)}function attrNullNS(){this.removeAttributeNS(r.space,r.local)}function attrTween(e){return null==e?attrNull:(e+="",function(){var t,i=this.getAttribute(r);return i!==e&&(t=n(i,e),function(e){this.setAttribute(r,t(e))})})}function attrTweenNS(e){return null==e?attrNullNS:(e+="",function(){var t,i=this.getAttributeNS(r.space,r.local);return i!==e&&(t=n(i,e),function(e){this.setAttributeNS(r.space,r.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var n="transform"==e?d3_interpolateTransform:d3_interpolate,r=o.ns.qualify(e);return d3_transition_tween(this,"attr."+e,t,r.local?attrTweenNS:attrTween)},Ft.attrTween=function(e,t){function attrTween(e,r){var i=t.call(this,e,r,this.getAttribute(n));return i&&function(e){this.setAttribute(n,i(e))}}function attrTweenNS(e,r){var i=t.call(this,e,r,this.getAttributeNS(n.space,n.local));return i&&function(e){this.setAttributeNS(n.space,n.local,i(e))}}var n=o.ns.qualify(e);return this.tween("attr."+e,n.local?attrTweenNS:attrTween)},Ft.style=function(e,t,n){function styleNull(){this.style.removeProperty(e)}function styleString(t){return null==t?styleNull:(t+="",function(){var r,i=d3_window(this).getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=d3_interpolate(i,t),function(t){this.style.setProperty(e,r(t),n)})})}var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return d3_transition_tween(this,"style."+e,t,styleString)},Ft.styleTween=function(e,t,n){function styleTween(r,i){var o=t.call(this,r,i,d3_window(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,styleTween)},Ft.text=function(e){return d3_transition_tween(this,"text",e,d3_transition_text)},Ft.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Ft.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=o.ease.apply(o,arguments)),d3_selection_each(this,function(r){r[n][t].ease=e}))},Ft.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:d3_selection_each(this,"function"==typeof e?function(r,i,o){r[n][t].delay=+e.call(r,r.__data__,i,o)}:(e=+e,function(r){r[n][t].delay=e}))},Ft.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:d3_selection_each(this,"function"==typeof e?function(r,i,o){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,o))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Ft.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Bt,a=jt;try{jt=n,d3_selection_each(this,function(t,i,o){Bt=t[r][n],e.call(t,t.__data__,i,o)})}finally{Bt=i,jt=a}}else d3_selection_each(this,function(i){var a=i[r][n];(a.event||(a.event=o.dispatch("start","end","interrupt"))).on(e,t)});return this},Ft.transition=function(){for(var e,t,n,r,i=this.id,o=++Wt,a=this.namespace,s=[],c=0,u=this.length;u>c;c++){s.push(e=[]);for(var t=this[c],l=0,p=t.length;p>l;l++)(n=t[l])&&(r=n[a][i],d3_transitionNode(n,l,a,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),e.push(n)}return d3_transition(s,a,o)},o.svg.axis=function(){function axis(s){s.each(function(){var s,l=o.select(this),p=this.__chart__||t,f=this.__chart__=t.copy(),h=null==u?f.ticks?f.ticks.apply(f,c):f.domain():u,d=null==e?f.tickFormat?f.tickFormat.apply(f,c):d3_identity:e,g=l.selectAll(".tick").data(h,f),y=g.enter().insert("g",".domain").attr("class","tick").style("opacity",I),m=o.transition(g.exit()).style("opacity",I).remove(),_=o.transition(g.order()).style("opacity",1),v=Math.max(r,0)+a,b=d3_scaleRange(f),C=l.selectAll(".domain").data([0]),P=(C.enter().append("path").attr("class","domain"),o.transition(C));y.append("line"),y.append("text");var R,w,E,S,D=y.select("line"),A=_.select("line"),x=g.select("text").text(d),O=y.select("text"),T=_.select("text"),N="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(s=d3_svg_axisX,R="x",E="y",w="x2",S="y2",x.attr("dy",0>N?"0em":".71em").style("text-anchor","middle"),P.attr("d","M"+b[0]+","+N*i+"V0H"+b[1]+"V"+N*i)):(s=d3_svg_axisY,R="y",E="x",w="y2",S="x2",x.attr("dy",".32em").style("text-anchor",0>N?"end":"start"),P.attr("d","M"+N*i+","+b[0]+"H0V"+b[1]+"H"+N*i)),D.attr(S,N*r),O.attr(E,N*v),A.attr(w,0).attr(S,N*r),T.attr(R,0).attr(E,N*v),f.rangeBand){var M=f,k=M.rangeBand()/2;p=f=function(e){return M(e)+k}}else p.rangeBand?p=f:m.call(s,f,p);y.call(s,p,f),_.call(s,f,f)})}var e,t=o.scale.linear(),n=Ut,r=6,i=6,a=3,c=[10],u=null;return axis.scale=function(e){return arguments.length?(t=e,axis):t},axis.orient=function(e){return arguments.length?(n=e in Ht?e+"":Ut,axis):n},axis.ticks=function(){return arguments.length?(c=s(arguments),axis):c},axis.tickValues=function(e){return arguments.length?(u=e,axis):u},axis.tickFormat=function(t){return arguments.length?(e=t,axis):e},axis.tickSize=function(e){var t=arguments.length;return t?(r=+e,i=+arguments[t-1],axis):r},axis.innerTickSize=function(e){return arguments.length?(r=+e,axis):r},axis.outerTickSize=function(e){return arguments.length?(i=+e,axis):i},axis.tickPadding=function(e){return arguments.length?(a=+e,axis):a},axis.tickSubdivide=function(){return arguments.length&&axis},axis};var Ut="bottom",Ht={top:1,right:1,bottom:1,left:1};o.svg.brush=function(){function brush(e){e.each(function(){var e=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",brushstart).on("touchstart.brush",brushstart),t=e.selectAll(".background").data([0]);t.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=e.selectAll(".resize").data(l,d3_identity);n.exit().remove(),n.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return zt[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",brush.empty()?"none":null);var a,s=o.transition(e),c=o.transition(t);r&&(a=d3_scaleRange(r),c.attr("x",a[0]).attr("width",a[1]-a[0]),redrawX(s)),i&&(a=d3_scaleRange(i),c.attr("y",a[0]).attr("height",a[1]-a[0]),redrawY(s)),redraw(s)})}function redraw(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+a[+/e$/.test(e)]+","+s[+/^s/.test(e)]+")"})}function redrawX(e){e.select(".extent").attr("x",a[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",a[1]-a[0])}function redrawY(e){e.select(".extent").attr("y",s[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function brushstart(){function keydown(){32==o.event.keyCode&&(v||(l=null,C[0]-=a[1],C[1]-=s[1],v=2),d3_eventPreventDefault())}function keyup(){32==o.event.keyCode&&2==v&&(C[0]+=a[1],C[1]+=s[1],v=0,d3_eventPreventDefault())}function brushmove(){var e=o.mouse(f),t=!1;p&&(e[0]+=p[0],
e[1]+=p[1]),v||(o.event.altKey?(l||(l=[(a[0]+a[1])/2,(s[0]+s[1])/2]),C[0]=a[+(e[0]<l[0])],C[1]=s[+(e[1]<l[1])]):l=null),m&&move1(e,r,0)&&(redrawX(g),t=!0),_&&move1(e,i,1)&&(redrawY(g),t=!0),t&&(redraw(g),d({type:"brush",mode:v?"move":"resize"}))}function move1(n,r,i){var o,p,f=d3_scaleRange(r),h=f[0],d=f[1],g=C[i],y=i?s:a,m=y[1]-y[0];return v&&(h-=g,d-=m+g),o=(i?u:c)?Math.max(h,Math.min(d,n[i])):n[i],v?p=(o+=g)+m:(l&&(g=Math.max(h,Math.min(d,2*l[i]-o))),o>g?(p=o,o=g):p=g),y[0]!=o||y[1]!=p?(i?t=null:e=null,y[0]=o,y[1]=p,!0):void 0}function brushend(){brushmove(),g.style("pointer-events","all").selectAll(".resize").style("display",brush.empty()?"none":null),o.select("body").style("cursor",null),P.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),b(),d({type:"brushend"})}var l,p,f=this,h=o.select(o.event.target),d=n.of(f,arguments),g=o.select(f),y=h.datum(),m=!/^(n|s)$/.test(y)&&r,_=!/^(e|w)$/.test(y)&&i,v=h.classed("extent"),b=d3_event_dragSuppress(f),C=o.mouse(f),P=o.select(d3_window(f)).on("keydown.brush",keydown).on("keyup.brush",keyup);if(o.event.changedTouches?P.on("touchmove.brush",brushmove).on("touchend.brush",brushend):P.on("mousemove.brush",brushmove).on("mouseup.brush",brushend),g.interrupt().selectAll("*").interrupt(),v)C[0]=a[0]-C[0],C[1]=s[0]-C[1];else if(y){var R=+/w$/.test(y),w=+/^n/.test(y);p=[a[1-R]-C[0],s[1-w]-C[1]],C[0]=a[R],C[1]=s[w]}else o.event.altKey&&(l=C.slice());g.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",h.style("cursor")),d({type:"brushstart"}),brushmove()}var e,t,n=d3_eventDispatch(brush,"brushstart","brush","brushend"),r=null,i=null,a=[0,0],s=[0,0],c=!0,u=!0,l=qt[0];return brush.event=function(r){r.each(function(){var r=n.of(this,arguments),i={x:a,y:s,i:e,j:t},c=this.__chart__||i;this.__chart__=i,jt?o.select(this).transition().each("start.brush",function(){e=c.i,t=c.j,a=c.x,s=c.y,r({type:"brushstart"})}).tween("brush:brush",function(){var n=d3_interpolateArray(a,i.x),o=d3_interpolateArray(s,i.y);return e=t=null,function(e){a=i.x=n(e),s=i.y=o(e),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){e=i.i,t=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},brush.x=function(e){return arguments.length?(r=e,l=qt[!r<<1|!i],brush):r},brush.y=function(e){return arguments.length?(i=e,l=qt[!r<<1|!i],brush):i},brush.clamp=function(e){return arguments.length?(r&&i?(c=!!e[0],u=!!e[1]):r?c=!!e:i&&(u=!!e),brush):r&&i?[c,u]:r?c:i?u:null},brush.extent=function(n){var o,c,u,l,p;return arguments.length?(r&&(o=n[0],c=n[1],i&&(o=o[0],c=c[0]),e=[o,c],r.invert&&(o=r(o),c=r(c)),o>c&&(p=o,o=c,c=p),o==a[0]&&c==a[1]||(a=[o,c])),i&&(u=n[0],l=n[1],r&&(u=u[1],l=l[1]),t=[u,l],i.invert&&(u=i(u),l=i(l)),u>l&&(p=u,u=l,l=p),u==s[0]&&l==s[1]||(s=[u,l])),brush):(r&&(e?(o=e[0],c=e[1]):(o=a[0],c=a[1],r.invert&&(o=r.invert(o),c=r.invert(c)),o>c&&(p=o,o=c,c=p))),i&&(t?(u=t[0],l=t[1]):(u=s[0],l=s[1],i.invert&&(u=i.invert(u),l=i.invert(l)),u>l&&(p=u,u=l,l=p))),r&&i?[[o,u],[c,l]]:r?[o,c]:i&&[u,l])},brush.clear=function(){return brush.empty()||(a=[0,0],s=[0,0],e=t=null),brush},brush.empty=function(){return!!r&&a[0]==a[1]||!!i&&s[0]==s[1]},o.rebind(brush,n,"on")};var zt={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},qt=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Gt=pe.format=me.timeFormat,Kt=Gt.utc,Jt=Kt("%Y-%m-%dT%H:%M:%S.%LZ");Gt.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?d3_time_formatIsoNative:Jt,d3_time_formatIsoNative.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},d3_time_formatIsoNative.toString=Jt.toString,pe.second=d3_time_interval(function(e){return new fe(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),pe.seconds=pe.second.range,pe.seconds.utc=pe.second.utc.range,pe.minute=d3_time_interval(function(e){return new fe(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),pe.minutes=pe.minute.range,pe.minutes.utc=pe.minute.utc.range,pe.hour=d3_time_interval(function(e){var t=e.getTimezoneOffset()/60;return new fe(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),pe.hours=pe.hour.range,pe.hours.utc=pe.hour.utc.range,pe.month=d3_time_interval(function(e){return e=pe.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),pe.months=pe.month.range,pe.months.utc=pe.month.utc.range;var Qt=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Xt=[[pe.second,1],[pe.second,5],[pe.second,15],[pe.second,30],[pe.minute,1],[pe.minute,5],[pe.minute,15],[pe.minute,30],[pe.hour,1],[pe.hour,3],[pe.hour,6],[pe.hour,12],[pe.day,1],[pe.day,2],[pe.week,1],[pe.month,1],[pe.month,3],[pe.year,1]],$t=Gt.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",d3_true]]),Zt={range:function(e,t,n){return o.range(Math.ceil(e/n)*n,+t,n).map(d3_time_scaleDate)},floor:d3_identity,ceil:d3_identity};Xt.year=pe.year,pe.scale=function(){return d3_time_scale(o.scale.linear(),Xt,$t)};var Yt=Xt.map(function(e){return[e[0].utc,e[1]]}),en=Kt.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",d3_true]]);Yt.year=pe.year.utc,pe.scale.utc=function(){return d3_time_scale(o.scale.linear(),Yt,en)},o.text=d3_xhrType(function(e){return e.responseText}),o.json=function(e,t){return d3_xhr(e,"application/json",d3_json,t)},o.html=function(e,t){return d3_xhr(e,"text/html",d3_html,t)},o.xml=d3_xhrType(function(e){return e.responseXML}),this.d3=o,r=o,i="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==i&&(e.exports=i))}()},function(e,t,n){var r;(function(e,i){(function(){function baseCompareAscending(e,t){if(e!==t){var n=null===e,r=e===o,i=e===e,a=null===t,s=t===o,c=t===t;if(e>t&&!a||!i||n&&!s&&c||r&&c)return 1;if(t>e&&!n||!c||a&&!r&&i||s&&i)return-1}return 0}function baseFindIndex(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function baseIndexOf(e,t,n){if(t!==t)return indexOfNaN(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function baseIsFunction(e){return"function"==typeof e||!1}function baseToString(e){return null==e?"":e+""}function charsLeftIndex(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function charsRightIndex(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function compareAscending(e,t){return baseCompareAscending(e.criteria,t.criteria)||e.index-t.index}function compareMultiple(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var c=baseCompareAscending(i[r],o[r]);if(c){if(r>=s)return c;var u=n[r];return c*("asc"===u||u===!0?1:-1)}}return e.index-t.index}function deburrLetter(e){return we[e]}function escapeHtmlChar(e){return Ee[e]}function escapeRegExpChar(e,t,n){return t?e=Ae[e]:n&&(e=xe[e]),"\\"+e}function escapeStringChar(e){return"\\"+xe[e]}function indexOfNaN(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function isObjectLike(e){return!!e&&"object"==typeof e}function isSpace(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function replaceHolders(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)e[n]===t&&(e[n]=w,o[++i]=n);return o}function sortedUniq(e,t){for(var n,r=-1,i=e.length,o=-1,a=[];++r<i;){var s=e[r],c=t?t(s,r,e):s;r&&n===c||(n=c,a[++o]=s)}return a}function trimmedLeftIndex(e){for(var t=-1,n=e.length;++t<n&&isSpace(e.charCodeAt(t)););return t}function trimmedRightIndex(e){for(var t=e.length;t--&&isSpace(e.charCodeAt(t)););return t}function unescapeHtmlChar(e){return Se[e]}function runInContext(e){function lodash(e){if(isObjectLike(e)&&!ln(e)&&!(e instanceof LazyWrapper)){if(e instanceof LodashWrapper)return e;if(Te.call(e,"__chain__")&&Te.call(e,"__wrapped__"))return wrapperClone(e)}return new LodashWrapper(e)}function baseLodash(){}function LodashWrapper(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function LazyWrapper(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=at,this.__views__=[]}function lazyClone(){var e=new LazyWrapper(this.__wrapped__);return e.__actions__=arrayCopy(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=arrayCopy(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=arrayCopy(this.__views__),e}function lazyReverse(){if(this.__filtered__){var e=new LazyWrapper(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function lazyValue(){var e=this.__wrapped__.value(),t=this.__dir__,n=ln(e),r=0>t,i=n?e.length:0,o=getView(0,i,this.__views__),a=o.start,s=o.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,p=l.length,f=0,h=tt(c,this.__takeCount__);if(!n||b>i||i==c&&h==c)return baseWrapperValue(r&&n?e.reverse():e,this.__actions__);var d=[];e:for(;c--&&h>f;){u+=t;for(var g=-1,y=e[u];++g<p;){var m=l[g],_=m.iteratee,v=m.type,R=_(y);if(v==P)y=R;else if(!R){if(v==C)continue e;break e}}d[f++]=y}return d}function MapCache(){this.__data__={}}function mapDelete(e){return this.has(e)&&delete this.__data__[e]}function mapGet(e){return"__proto__"==e?o:this.__data__[e]}function mapHas(e){return"__proto__"!=e&&Te.call(this.__data__,e)}function mapSet(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function SetCache(e){var t=e?e.length:0;for(this.data={hash:Qe(null),set:new He};t--;)this.push(e[t])}function cacheIndexOf(e,t){var n=e.data,r="string"==typeof t||isObject(t)?n.set.has(t):n.hash[t];return r?0:-1}function cachePush(e){var t=this.data;"string"==typeof e||isObject(e)?t.set.add(e):t.hash[e]=!0}function arrayConcat(e,n){for(var r=-1,i=e.length,o=-1,a=n.length,s=t(i+a);++r<i;)s[r]=e[r];for(;++o<a;)s[r++]=n[o];return s}function arrayCopy(e,n){var r=-1,i=e.length;for(n||(n=t(i));++r<i;)n[r]=e[r];return n}function arrayEach(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function arrayEachRight(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function arrayEvery(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function arrayExtremum(e,t,n,r){for(var i=-1,o=e.length,a=r,s=a;++i<o;){var c=e[i],u=+t(c);n(u,a)&&(a=u,s=c)}return s}function arrayFilter(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[++i]=a)}return o}function arrayMap(e,n){for(var r=-1,i=e.length,o=t(i);++r<i;)o[r]=n(e[r],r,e);return o}function arrayPush(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function arrayReduce(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function arrayReduceRight(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function arraySome(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function arraySum(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}function assignDefaults(e,t){return e===o?t:e}function assignOwnDefaults(e,t,n,r){return e!==o&&Te.call(r,n)?e:t}function assignWith(e,t,n){for(var r=-1,i=Cn(t),a=i.length;++r<a;){var s=i[r],c=e[s],u=n(c,t[s],s,e,t);(u===u?u===c:c!==c)&&(c!==o||s in e)||(e[s]=u)}return e}function baseAssign(e,t){return null==t?e:baseCopy(t,Cn(t),e)}function baseAt(e,n){for(var r=-1,i=null==e,a=!i&&isArrayLike(e),s=a?e.length:0,c=n.length,u=t(c);++r<c;){var l=n[r];a?u[r]=isIndex(l,s)?e[l]:o:u[r]=i?o:e[l]}return u}function baseCopy(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}function baseCallback(e,t,n){var r=typeof e;return"function"==r?t===o?e:bindCallback(e,t,n):null==e?identity:"object"==r?baseMatches(e):t===o?property(e):baseMatchesProperty(e,t)}function baseClone(e,t,n,r,i,a,s){var c;if(n&&(c=i?n(e,r,i):n(e)),c!==o)return c;if(!isObject(e))return e;var u=ln(e);if(u){if(c=initCloneArray(e),!t)return arrayCopy(e,c)}else{var l=Me.call(e),p=l==O;if(l!=M&&l!=E&&(!p||i))return Re[l]?initCloneByTag(e,l,t):i?e:{};if(c=initCloneObject(p?{}:e),!t)return baseAssign(c,e)}a||(a=[]),s||(s=[]);for(var f=a.length;f--;)if(a[f]==e)return s[f];return a.push(e),s.push(c),(u?arrayEach:baseForOwn)(e,function(r,i){c[i]=baseClone(r,t,n,i,e,a,s)}),c}function baseDelay(e,t,n){if("function"!=typeof e)throw new Se(R);return ze(function(){e.apply(o,n)},t)}function baseDifference(e,t){var n=e?e.length:0,r=[];if(!n)return r;var i=-1,o=getIndexOf(),a=o==baseIndexOf,s=a&&t.length>=b?createCache(t):null,c=t.length;s&&(o=cacheIndexOf,a=!1,t=s);e:for(;++i<n;){var u=e[i];if(a&&u===u){for(var l=c;l--;)if(t[l]===u)continue e;r.push(u)}else o(t,u,0)<0&&r.push(u)}return r}function baseEvery(e,t){var n=!0;return yt(e,function(e,r,i){return n=!!t(e,r,i)}),n}function baseExtremum(e,t,n,r){var i=r,o=i;return yt(e,function(e,a,s){var c=+t(e,a,s);(n(c,i)||c===r&&c===o)&&(i=c,o=e)}),o}function baseFill(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===o||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e}function baseFilter(e,t){var n=[];return yt(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function baseFind(e,t,n,r){var i;return n(e,function(e,n,o){return t(e,n,o)?(i=r?n:e,!1):void 0}),i}function baseFlatten(e,t,n,r){r||(r=[]);for(var i=-1,o=e.length;++i<o;){var a=e[i];isObjectLike(a)&&isArrayLike(a)&&(n||ln(a)||isArguments(a))?t?baseFlatten(a,t,n,r):arrayPush(r,a):n||(r[r.length]=a)}return r}function baseForIn(e,t){return _t(e,t,keysIn)}function baseForOwn(e,t){return _t(e,t,Cn)}function baseForOwnRight(e,t){return vt(e,t,Cn)}function baseFunctions(e,t){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];isFunction(e[a])&&(o[++i]=a)}return o}function baseGet(e,t,n){if(null!=e){n!==o&&n in toObject(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&i>r;)e=e[t[r++]];return r&&r==i?e:o}}function baseIsEqual(e,t,n,r,i,o){return e===t?!0:null==e||null==t||!isObject(e)&&!isObjectLike(t)?e!==e&&t!==t:baseIsEqualDeep(e,t,baseIsEqual,n,r,i,o)}function baseIsEqualDeep(e,t,n,r,i,o,a){var s=ln(e),c=ln(t),u=S,l=S;s||(u=Me.call(e),u==E?u=M:u!=M&&(s=isTypedArray(e))),c||(l=Me.call(t),l==E?l=M:l!=M&&(c=isTypedArray(t)));var p=u==M,f=l==M,h=u==l;if(h&&!s&&!p)return equalByTag(e,t,u);if(!i){var d=p&&Te.call(e,"__wrapped__"),g=f&&Te.call(t,"__wrapped__");if(d||g)return n(d?e.value():e,g?t.value():t,r,i,o,a)}if(!h)return!1;o||(o=[]),a||(a=[]);for(var y=o.length;y--;)if(o[y]==e)return a[y]==t;o.push(e),a.push(t);var m=(s?equalArrays:equalObjects)(e,t,n,r,i,o,a);return o.pop(),a.pop(),m}function baseIsMatch(e,t,n){var r=t.length,i=r,a=!n;if(null==e)return!i;for(e=toObject(e);r--;){var s=t[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<i;){s=t[r];var c=s[0],u=e[c],l=s[1];if(a&&s[2]){if(u===o&&!(c in e))return!1}else{var p=n?n(u,l,c):o;if(!(p===o?baseIsEqual(l,u,n,!0):p))return!1}}return!0}function baseMap(e,n){var r=-1,i=isArrayLike(e)?t(e.length):[];return yt(e,function(e,t,o){i[++r]=n(e,t,o)}),i}function baseMatches(e){var t=getMatchData(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==o||n in toObject(e))}}return function(e){return baseIsMatch(e,t)}}function baseMatchesProperty(e,t){var n=ln(e),r=isKey(e)&&isStrictComparable(t),i=e+"";return e=toPath(e),function(a){if(null==a)return!1;var s=i;if(a=toObject(a),(n||!r)&&!(s in a)){if(a=1==e.length?a:baseGet(a,baseSlice(e,0,-1)),null==a)return!1;s=last(e),a=toObject(a)}return a[s]===t?t!==o||s in a:baseIsEqual(t,a[s],o,!0)}}function baseMerge(e,t,n,r,i){if(!isObject(e))return e;var a=isArrayLike(t)&&(ln(t)||isTypedArray(t)),s=a?o:Cn(t);return arrayEach(s||t,function(c,u){if(s&&(u=c,c=t[u]),isObjectLike(c))r||(r=[]),i||(i=[]),baseMergeDeep(e,t,u,baseMerge,n,r,i);else{var l=e[u],p=n?n(l,c,u,e,t):o,f=p===o;f&&(p=c),p===o&&(!a||u in e)||!f&&(p===p?p===l:l!==l)||(e[u]=p)}}),e}function baseMergeDeep(e,t,n,r,i,a,s){for(var c=a.length,u=t[n];c--;)if(a[c]==u)return void(e[n]=s[c]);var l=e[n],p=i?i(l,u,n,e,t):o,f=p===o;f&&(p=u,isArrayLike(u)&&(ln(u)||isTypedArray(u))?p=ln(l)?l:isArrayLike(l)?arrayCopy(l):[]:isPlainObject(u)||isArguments(u)?p=isArguments(l)?toPlainObject(l):isPlainObject(l)?l:{}:f=!1),a.push(u),s.push(p),f?e[n]=r(p,u,i,a,s):(p===p?p!==l:l===l)&&(e[n]=p)}function baseProperty(e){return function(t){return null==t?o:t[e]}}function basePropertyDeep(e){var t=e+"";return e=toPath(e),function(n){return baseGet(n,e,t)}}function basePullAt(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&isIndex(r)){var i=r;qe.call(e,r,1)}}return e}function baseRandom(e,t){return e+Xe(it()*(t-e+1))}function baseReduce(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function baseSlice(e,n,r){var i=-1,a=e.length;n=null==n?0:+n||0,0>n&&(n=-n>a?0:a+n),r=r===o||r>a?a:+r||0,0>r&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var s=t(a);++i<a;)s[i]=e[i+n];return s}function baseSome(e,t){var n;return yt(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function baseSortBy(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function baseSortByOrder(e,t,n){var r=getCallback(),i=-1;t=arrayMap(t,function(e){return r(e)});var o=baseMap(e,function(e){var n=arrayMap(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return baseSortBy(o,function(e,t){return compareMultiple(e,t,n)})}function baseSum(e,t){var n=0;return yt(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function baseUniq(e,t){var n=-1,r=getIndexOf(),i=e.length,o=r==baseIndexOf,a=o&&i>=b,s=a?createCache():null,c=[];s?(r=cacheIndexOf,o=!1):(a=!1,s=t?[]:c);e:for(;++n<i;){var u=e[n],l=t?t(u,n,e):u;if(o&&u===u){for(var p=s.length;p--;)if(s[p]===l)continue e;t&&s.push(l),c.push(u)}else r(s,l,0)<0&&((t||a)&&s.push(l),c.push(u))}return c}function baseValues(e,n){for(var r=-1,i=n.length,o=t(i);++r<i;)o[r]=e[n[r]];return o}function baseWhile(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?baseSlice(e,r?0:o,r?o+1:i):baseSlice(e,r?o+1:0,r?i:o)}function baseWrapperValue(e,t){var n=e;n instanceof LazyWrapper&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var o=t[r];n=o.func.apply(o.thisArg,arrayPush([n],o.args))}return n}function binaryIndex(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&ut>=i){for(;i>r;){var o=r+i>>>1,a=e[o];(n?t>=a:t>a)&&null!==a?r=o+1:i=o}return i}return binaryIndexBy(e,t,identity,n)}function binaryIndexBy(e,t,n,r){t=n(t);for(var i=0,a=e?e.length:0,s=t!==t,c=null===t,u=t===o;a>i;){var l=Xe((i+a)/2),p=n(e[l]),f=p!==o,h=p===p;if(s)var d=h||r;else d=c?h&&f&&(r||null!=p):u?h&&(r||f):null==p?!1:r?t>=p:t>p;d?i=l+1:a=l}return tt(a,ct)}function bindCallback(e,t,n){if("function"!=typeof e)return identity;if(t===o)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}function bufferClone(e){var t=new Be(e.byteLength),n=new Ge(t);return n.set(new Ge(e)),t}function composeArgs(e,n,r){for(var i=r.length,o=-1,a=et(e.length-i,0),s=-1,c=n.length,u=t(c+a);++s<c;)u[s]=n[s];for(;++o<i;)u[r[o]]=e[o];for(;a--;)u[s++]=e[o++];return u}function composeArgsRight(e,n,r){for(var i=-1,o=r.length,a=-1,s=et(e.length-o,0),c=-1,u=n.length,l=t(s+u);++a<s;)l[a]=e[a];for(var p=a;++c<u;)l[p+c]=n[c];for(;++i<o;)l[p+r[i]]=e[a++];return l}function createAggregator(e,t){return function(n,r,i){var o=t?t():{};if(r=getCallback(r,i,3),ln(n))for(var a=-1,s=n.length;++a<s;){var c=n[a];e(o,c,r(c,a,n),n)}else yt(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function createAssigner(e){return restParam(function(t,n){var r=-1,i=null==t?0:n.length,a=i>2?n[i-2]:o,s=i>2?n[2]:o,c=i>1?n[i-1]:o;for("function"==typeof a?(a=bindCallback(a,c,5),i-=2):(a="function"==typeof c?c:o,i-=a?1:0),s&&isIterateeCall(n[0],n[1],s)&&(a=3>i?o:a,i=1);++r<i;){var u=n[r];u&&e(t,u,a)}return t})}function createBaseEach(e,t){return function(n,r){var i=n?Pt(n):0;if(!isLength(i))return e(n,r);for(var o=t?i:-1,a=toObject(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function createBaseFor(e){return function(t,n,r){for(var i=toObject(t),o=r(t),a=o.length,s=e?a:-1;e?s--:++s<a;){var c=o[s];if(n(i[c],c,i)===!1)break}return t}}function createBindWrapper(e,t){function wrapper(){var r=this&&this!==ke&&this instanceof wrapper?n:e;return r.apply(t,arguments)}var n=createCtorWrapper(e);return wrapper}function createCache(e){return Qe&&He?new SetCache(e):null}function createCompounder(e){return function(t){for(var n=-1,r=words(deburr(t)),i=r.length,o="";++n<i;)o=e(o,r[n],n);return o}}function createCtorWrapper(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=dt(e.prototype),r=e.apply(n,t);return isObject(r)?r:n}}function createCurry(e){function curryFunc(t,n,r){r&&isIterateeCall(t,n,r)&&(n=o);var i=createWrapper(t,e,o,o,o,o,o,n);return i.placeholder=curryFunc.placeholder,i}return curryFunc}function createDefaults(e,t){return restParam(function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(o,n))})}function createExtremum(e,t){return function(n,r,i){if(i&&isIterateeCall(n,r,i)&&(r=o),r=getCallback(r,i,3),1==r.length){n=ln(n)?n:toIterable(n);var a=arrayExtremum(n,r,e,t);if(!n.length||a!==t)return a}return baseExtremum(n,r,e,t)}}function createFind(e,t){return function(n,r,i){if(r=getCallback(r,i,3),ln(n)){var a=baseFindIndex(n,r,t);return a>-1?n[a]:o}return baseFind(n,r,e)}}function createFindIndex(e){return function(t,n,r){return t&&t.length?(n=getCallback(n,r,3),baseFindIndex(t,n,e)):-1}}function createFindKey(e){return function(t,n,r){return n=getCallback(n,r,3),baseFind(t,n,e,!0)}}function createFlow(e){return function(){for(var n,r=arguments.length,i=e?r:-1,a=0,s=t(r);e?i--:++i<r;){var c=s[a++]=arguments[i];if("function"!=typeof c)throw new Se(R);!n&&LodashWrapper.prototype.thru&&"wrapper"==getFuncName(c)&&(n=new LodashWrapper([],!0))}for(i=n?-1:r;++i<r;){c=s[i];var u=getFuncName(c),p="wrapper"==u?Ct(c):o;n=p&&isLaziable(p[0])&&p[1]==(d|l|f|g)&&!p[4].length&&1==p[9]?n[getFuncName(p[0])].apply(n,p[3]):1==c.length&&isLaziable(c)?n[u]():n.thru(c)}return function(){var e=arguments,t=e[0];if(n&&1==e.length&&ln(t)&&t.length>=b)return n.plant(t).value();for(var i=0,o=r?s[i].apply(this,e):t;++i<r;)o=s[i].call(this,o);return o}}}function createForEach(e,t){return function(n,r,i){return"function"==typeof r&&i===o&&ln(n)?e(n,r):t(n,bindCallback(r,i,3))}}function createForIn(e){return function(t,n,r){return"function"==typeof n&&r===o||(n=bindCallback(n,r,3)),e(t,n,keysIn)}}function createForOwn(e){return function(t,n,r){return"function"==typeof n&&r===o||(n=bindCallback(n,r,3)),e(t,n)}}function createObjectMapper(e){return function(t,n,r){var i={};return n=getCallback(n,r,3),baseForOwn(t,function(t,r,o){var a=n(t,r,o);r=e?a:r,t=e?t:a,i[r]=t}),i}}function createPadDir(e){return function(t,n,r){return t=baseToString(t),(e?t:"")+createPadding(t,n,r)+(e?"":t)}}function createPartial(e){var t=restParam(function(n,r){var i=replaceHolders(r,t.placeholder);return createWrapper(n,e,o,r,i)});return t}function createReduce(e,t){return function(n,r,i,a){var s=arguments.length<3;return"function"==typeof r&&a===o&&ln(n)?e(n,r,i,s):baseReduce(n,getCallback(r,a,4),i,s,t)}}function createHybridWrapper(e,n,r,i,a,g,y,m,_,v){function wrapper(){for(var u=arguments.length,l=u,p=t(u);l--;)p[l]=arguments[l];if(i&&(p=composeArgs(p,i,a)),g&&(p=composeArgsRight(p,g,y)),R||E){var d=wrapper.placeholder,D=replaceHolders(p,d);if(u-=D.length,v>u){var A=m?arrayCopy(m):o,x=et(v-u,0),O=R?D:o,T=R?o:D,N=R?p:o,M=R?o:p;n|=R?f:h,n&=~(R?h:f),w||(n&=~(s|c));var I=[e,n,r,N,O,M,T,A,_,x],k=createHybridWrapper.apply(o,I);return isLaziable(e)&&Rt(k,I),k.placeholder=d,k}}var V=C?r:this,j=P?V[e]:e;return m&&(p=reorder(p,m)),b&&_<p.length&&(p.length=_),this&&this!==ke&&this instanceof wrapper&&(j=S||createCtorWrapper(e)),j.apply(V,p)}var b=n&d,C=n&s,P=n&c,R=n&l,w=n&u,E=n&p,S=P?o:createCtorWrapper(e);return wrapper}function createPadding(e,t,n){var r=e.length;if(t=+t,r>=t||!Ze(t))return"";var i=t-r;return n=null==n?" ":n+"",repeat(n,Je(i/n.length)).slice(0,i)}function createPartialWrapper(e,n,r,i){function wrapper(){for(var n=-1,s=arguments.length,c=-1,u=i.length,l=t(u+s);++c<u;)l[c]=i[c];for(;s--;)l[c++]=arguments[++n];var p=this&&this!==ke&&this instanceof wrapper?a:e;return p.apply(o?r:this,l)}var o=n&s,a=createCtorWrapper(e);return wrapper}function createRound(e){var t=T[e];return function(e,n){return n=n===o?0:+n||0,n?(n=We(10,n),t(e*n)/n):t(e)}}function createSortedIndex(e){return function(t,n,r,i){var o=getCallback(r);return null==r&&o===baseCallback?binaryIndex(t,n,e):binaryIndexBy(t,n,o(r,i,1),e)}}function createWrapper(e,t,n,r,i,a,u,l){var p=t&c;if(!p&&"function"!=typeof e)throw new Se(R);var d=r?r.length:0;if(d||(t&=~(f|h),r=i=o),d-=i?i.length:0,t&h){var g=r,y=i;r=i=o}var m=p?o:Ct(e),_=[e,t,n,r,i,g,y,a,u,l];if(m&&(mergeData(_,m),t=_[1],l=_[9]),_[9]=null==l?p?0:e.length:et(l-d,0)||0,t==s)var v=createBindWrapper(_[0],_[2]);else v=t!=f&&t!=(s|f)||_[4].length?createHybridWrapper.apply(o,_):createPartialWrapper.apply(o,_);var b=m?bt:Rt;return b(v,_)}function equalArrays(e,t,n,r,i,a,s){var c=-1,u=e.length,l=t.length;if(u!=l&&!(i&&l>u))return!1;for(;++c<u;){var p=e[c],f=t[c],h=r?r(i?f:p,i?p:f,c):o;if(h!==o){if(h)continue;return!1}if(i){if(!arraySome(t,function(e){return p===e||n(p,e,r,i,a,s)}))return!1}else if(p!==f&&!n(p,f,r,i,a,s))return!1}return!0}function equalByTag(e,t,n){switch(n){case D:case A:return+e==+t;case x:return e.name==t.name&&e.message==t.message;case N:return e!=+e?t!=+t:e==+t;case I:case V:return e==t+""}return!1}function equalObjects(e,t,n,r,i,a,s){var c=Cn(e),u=c.length,l=Cn(t),p=l.length;if(u!=p&&!i)return!1;for(var f=u;f--;){var h=c[f];if(!(i?h in t:Te.call(t,h)))return!1}for(var d=i;++f<u;){h=c[f];var g=e[h],y=t[h],m=r?r(i?y:g,i?g:y,h):o;if(!(m===o?n(g,y,r,i,a,s):m))return!1;d||(d="constructor"==h)}if(!d){var _=e.constructor,v=t.constructor;if(_!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof v&&v instanceof v))return!1}return!0}function getCallback(e,t,n){var r=lodash.callback||callback;return r=r===callback?baseCallback:r,n?r(e,t,n):r}function getFuncName(e){for(var t=e.name,n=ht[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function getIndexOf(e,t,n){var r=lodash.indexOf||indexOf;return r=r===indexOf?baseIndexOf:r,e?r(e,t,n):r}function getMatchData(e){for(var t=pairs(e),n=t.length;n--;)t[n][2]=isStrictComparable(t[n][1]);return t}function getNative(e,t){var n=null==e?o:e[t];return isNative(n)?n:o}function getView(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=tt(t,e+a);break;case"takeRight":e=et(e,t-a)}}return{start:e,end:t}}function initCloneArray(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Te.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function initCloneObject(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=j),new t}function initCloneByTag(e,t,n){var r=e.constructor;switch(t){case B:return bufferClone(e);case D:case A:return new r(+e);case L:case F:case W:case U:case H:case z:case q:case G:case K:var i=e.buffer;return new r(n?bufferClone(i):i,e.byteOffset,e.length);case N:case V:return new r(e);case I:var o=new r(e.source,fe.exec(e));o.lastIndex=e.lastIndex}return o}function invokePath(e,t,n){null==e||isKey(t,e)||(t=toPath(t),e=1==t.length?e:baseGet(e,baseSlice(t,0,-1)),t=last(t));var r=null==e?e:e[t];return null==r?o:r.apply(e,n)}function isArrayLike(e){return null!=e&&isLength(Pt(e))}function isIndex(e,t){return e="number"==typeof e||ge.test(e)?+e:-1,t=null==t?pt:t,e>-1&&e%1==0&&t>e}function isIterateeCall(e,t,n){if(!isObject(n))return!1;var r=typeof t;if("number"==r?isArrayLike(n)&&isIndex(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function isKey(e,t){var n=typeof e;if("string"==n&&oe.test(e)||"number"==n)return!0;if(ln(e))return!1;var r=!ie.test(e);return r||null!=t&&e in toObject(t)}function isLaziable(e){var t=getFuncName(e);if(!(t in LazyWrapper.prototype))return!1;var n=lodash[t];if(e===n)return!0;var r=Ct(n);return!!r&&e===r[0]}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&pt>=e}function isStrictComparable(e){return e===e&&!isObject(e)}function mergeData(e,t){var n=e[1],r=t[1],i=n|r,o=d>i,a=r==d&&n==l||r==d&&n==g&&e[7].length<=t[8]||r==(d|g)&&n==l;if(!o&&!a)return e;r&s&&(e[2]=t[2],i|=n&s?0:u);var c=t[3];if(c){var p=e[3];e[3]=p?composeArgs(p,c,t[4]):arrayCopy(c),e[4]=p?replaceHolders(e[3],w):arrayCopy(t[4])}return c=t[5],c&&(p=e[5],e[5]=p?composeArgsRight(p,c,t[6]):arrayCopy(c),e[6]=p?replaceHolders(e[5],w):arrayCopy(t[6])),c=t[7],c&&(e[7]=arrayCopy(c)),r&d&&(e[8]=null==e[8]?t[8]:tt(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function mergeDefaults(e,t){return e===o?t:pn(e,t,mergeDefaults)}function pickByArray(e,t){e=toObject(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}function pickByCallback(e,t){var n={};return baseForIn(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function reorder(e,t){for(var n=e.length,r=tt(t.length,n),i=arrayCopy(e);r--;){var a=t[r];e[r]=isIndex(a,n)?i[a]:o}return e}function shimKeys(e){for(var t=keysIn(e),n=t.length,r=n&&e.length,i=!!r&&isLength(r)&&(ln(e)||isArguments(e)),o=-1,a=[];++o<n;){var s=t[o];(i&&isIndex(s,r)||Te.call(e,s))&&a.push(s)}return a}function toIterable(e){return null==e?[]:isArrayLike(e)?isObject(e)?e:j(e):values(e)}function toObject(e){return isObject(e)?e:j(e)}function toPath(e){if(ln(e))return e;var t=[];return baseToString(e).replace(ae,function(e,n,r,i){t.push(r?i.replace(le,"$1"):n||e)}),t}function wrapperClone(e){return e instanceof LazyWrapper?e.clone():new LodashWrapper(e.__wrapped__,e.__chain__,arrayCopy(e.__actions__))}function chunk(e,n,r){n=(r?isIterateeCall(e,n,r):null==n)?1:et(Xe(n)||1,1);for(var i=0,o=e?e.length:0,a=-1,s=t(Je(o/n));o>i;)s[++a]=baseSlice(e,i,i+=n);return s}function compact(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i}function drop(e,t,n){var r=e?e.length:0;return r?((n?isIterateeCall(e,t,n):null==t)&&(t=1),baseSlice(e,0>t?0:t)):[]}function dropRight(e,t,n){var r=e?e.length:0;return r?((n?isIterateeCall(e,t,n):null==t)&&(t=1),t=r-(+t||0),baseSlice(e,0,0>t?0:t)):[]}function dropRightWhile(e,t,n){return e&&e.length?baseWhile(e,getCallback(t,n,3),!0,!0):[]}function dropWhile(e,t,n){return e&&e.length?baseWhile(e,getCallback(t,n,3),!0):[]}function fill(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&isIterateeCall(e,t,n)&&(n=0,r=i),baseFill(e,t,n,r)):[]}function first(e){return e?e[0]:o}function flatten(e,t,n){var r=e?e.length:0;return n&&isIterateeCall(e,t,n)&&(t=!1),
r?baseFlatten(e,t):[]}function flattenDeep(e){var t=e?e.length:0;return t?baseFlatten(e,!0):[]}function indexOf(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?et(r+n,0):n;else if(n){var i=binaryIndex(e,t);return r>i&&(t===t?t===e[i]:e[i]!==e[i])?i:-1}return baseIndexOf(e,t,n||0)}function initial(e){return dropRight(e,1)}function last(e){var t=e?e.length:0;return t?e[t-1]:o}function lastIndexOf(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?et(r+n,0):tt(n||0,r-1))+1;else if(n){i=binaryIndex(e,t,!0)-1;var o=e[i];return(t===t?t===o:o!==o)?i:-1}if(t!==t)return indexOfNaN(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function pull(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=getIndexOf(),i=e.length;++n<i;)for(var o=0,a=e[n];(o=r(t,a,o))>-1;)qe.call(t,o,1);return t}function remove(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,o=[],a=e.length;for(t=getCallback(t,n,3);++i<a;){var s=e[i];t(s,i,e)&&(r.push(s),o.push(i))}return basePullAt(e,o),r}function rest(e){return drop(e,1)}function slice(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&isIterateeCall(e,t,n)&&(t=0,n=r),baseSlice(e,t,n)):[]}function take(e,t,n){var r=e?e.length:0;return r?((n?isIterateeCall(e,t,n):null==t)&&(t=1),baseSlice(e,0,0>t?0:t)):[]}function takeRight(e,t,n){var r=e?e.length:0;return r?((n?isIterateeCall(e,t,n):null==t)&&(t=1),t=r-(+t||0),baseSlice(e,0>t?0:t)):[]}function takeRightWhile(e,t,n){return e&&e.length?baseWhile(e,getCallback(t,n,3),!1,!0):[]}function takeWhile(e,t,n){return e&&e.length?baseWhile(e,getCallback(t,n,3)):[]}function uniq(e,t,n,r){var i=e?e.length:0;if(!i)return[];null!=t&&"boolean"!=typeof t&&(r=n,n=isIterateeCall(e,t,r)?o:t,t=!1);var a=getCallback();return null==n&&a===baseCallback||(n=a(n,r,3)),t&&getIndexOf()==baseIndexOf?sortedUniq(e,n):baseUniq(e,n)}function unzip(e){if(!e||!e.length)return[];var n=-1,r=0;e=arrayFilter(e,function(e){return isArrayLike(e)?(r=et(e.length,r),!0):void 0});for(var i=t(r);++n<r;)i[n]=arrayMap(e,baseProperty(n));return i}function unzipWith(e,t,n){var r=e?e.length:0;if(!r)return[];var i=unzip(e);return null==t?i:(t=bindCallback(t,n,4),arrayMap(i,function(e){return arrayReduce(e,t,o,!0)}))}function xor(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(isArrayLike(n))var r=r?arrayPush(baseDifference(r,n),baseDifference(n,r)):n}return r?baseUniq(r):[]}function zipObject(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||ln(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function chain(e){var t=lodash(e);return t.__chain__=!0,t}function tap(e,t,n){return t.call(n,e),e}function thru(e,t,n){return t.call(n,e)}function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperPlant(e){for(var t,n=this;n instanceof baseLodash;){var r=wrapperClone(n);t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function wrapperReverse(){var e=this.__wrapped__,t=function(e){return n&&n.__dir__<0?e:e.reverse()};if(e instanceof LazyWrapper){var n=e;return this.__actions__.length&&(n=new LazyWrapper(this)),n=n.reverse(),n.__actions__.push({func:thru,args:[t],thisArg:o}),new LodashWrapper(n,this.__chain__)}return this.thru(t)}function wrapperToString(){return this.value()+""}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}function every(e,t,n){var r=ln(e)?arrayEvery:baseEvery;return n&&isIterateeCall(e,t,n)&&(t=o),"function"==typeof t&&n===o||(t=getCallback(t,n,3)),r(e,t)}function filter(e,t,n){var r=ln(e)?arrayFilter:baseFilter;return t=getCallback(t,n,3),r(e,t)}function findWhere(e,t){return Bt(e,baseMatches(t))}function includes(e,t,n,r){var i=e?Pt(e):0;return isLength(i)||(e=values(e),i=e.length),n="number"!=typeof n||r&&isIterateeCall(t,n,r)?0:0>n?et(i+n,0):n||0,"string"==typeof e||!ln(e)&&isString(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&getIndexOf(e,t,n)>-1}function map(e,t,n){var r=ln(e)?arrayMap:baseMap;return t=getCallback(t,n,3),r(e,t)}function pluck(e,t){return map(e,property(t))}function reject(e,t,n){var r=ln(e)?arrayFilter:baseFilter;return t=getCallback(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function sample(e,t,n){if(n?isIterateeCall(e,t,n):null==t){e=toIterable(e);var r=e.length;return r>0?e[baseRandom(0,r-1)]:o}var i=-1,a=toArray(e),r=a.length,s=r-1;for(t=tt(0>t?0:+t||0,r);++i<t;){var c=baseRandom(i,s),u=a[c];a[c]=a[i],a[i]=u}return a.length=t,a}function shuffle(e){return sample(e,at)}function size(e){var t=e?Pt(e):0;return isLength(t)?t:Cn(e).length}function some(e,t,n){var r=ln(e)?arraySome:baseSome;return n&&isIterateeCall(e,t,n)&&(t=o),"function"==typeof t&&n===o||(t=getCallback(t,n,3)),r(e,t)}function sortBy(e,t,n){if(null==e)return[];n&&isIterateeCall(e,t,n)&&(t=o);var r=-1;t=getCallback(t,n,3);var i=baseMap(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return baseSortBy(i,compareAscending)}function sortByOrder(e,t,n,r){return null==e?[]:(r&&isIterateeCall(t,n,r)&&(n=o),ln(t)||(t=null==t?[]:[t]),ln(n)||(n=null==n?[]:[n]),baseSortByOrder(e,t,n))}function where(e,t){return filter(e,baseMatches(t))}function after(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Se(R);var n=e;e=t,t=n}return e=Ze(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function ary(e,t,n){return n&&isIterateeCall(e,t,n)&&(t=o),t=e&&null==t?e.length:et(+t||0,0),createWrapper(e,d,o,o,o,o,t)}function before(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Se(R);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=o),n}}function debounce(e,t,n){function cancel(){u&&Le(u),i&&Le(i),p=0,i=u=l=o}function complete(t,n){n&&Le(n),i=u=l=o,t&&(p=Qt(),a=e.apply(c,r),u||i||(r=c=o))}function delayed(){var e=t-(Qt()-s);0>=e||e>t?complete(l,i):u=ze(delayed,e)}function maxDelayed(){complete(h,u)}function debounced(){if(r=arguments,s=Qt(),c=this,l=h&&(u||!d),f===!1)var n=d&&!u;else{i||d||(p=s);var g=f-(s-p),y=0>=g||g>f;y?(i&&(i=Le(i)),p=s,a=e.apply(c,r)):i||(i=ze(maxDelayed,g))}return y&&u?u=Le(u):u||t===f||(u=ze(delayed,t)),n&&(y=!0,a=e.apply(c,r)),!y||u||i||(r=c=o),a}var r,i,a,s,c,u,l,p=0,f=!1,h=!0;if("function"!=typeof e)throw new Se(R);if(t=0>t?0:+t||0,n===!0){var d=!0;h=!1}else isObject(n)&&(d=!!n.leading,f="maxWait"in n&&et(+n.maxWait||0,t),h="trailing"in n?!!n.trailing:h);return debounced.cancel=cancel,debounced}function memoize(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Se(R);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new memoize.Cache,n}function negate(e){if("function"!=typeof e)throw new Se(R);return function(){return!e.apply(this,arguments)}}function once(e){return before(2,e)}function restParam(e,n){if("function"!=typeof e)throw new Se(R);return n=et(n===o?e.length-1:+n||0,0),function(){for(var r=arguments,i=-1,o=et(r.length-n,0),a=t(o);++i<o;)a[i]=r[n+i];switch(n){case 0:return e.call(this,a);case 1:return e.call(this,r[0],a);case 2:return e.call(this,r[0],r[1],a)}var s=t(n+1);for(i=-1;++i<n;)s[i]=r[i];return s[n]=a,e.apply(this,s)}}function spread(e){if("function"!=typeof e)throw new Se(R);return function(t){return e.apply(this,t)}}function throttle(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Se(R);return n===!1?r=!1:isObject(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),debounce(e,t,{leading:r,maxWait:+t,trailing:i})}function wrap(e,t){return t=null==t?identity:t,createWrapper(t,f,o,[e],[])}function clone(e,t,n,r){return t&&"boolean"!=typeof t&&isIterateeCall(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?baseClone(e,t,bindCallback(n,r,1)):baseClone(e,t)}function cloneDeep(e,t,n){return"function"==typeof t?baseClone(e,!0,bindCallback(t,n,1)):baseClone(e,!0)}function gt(e,t){return e>t}function gte(e,t){return e>=t}function isArguments(e){return isObjectLike(e)&&isArrayLike(e)&&Te.call(e,"callee")&&!Ue.call(e,"callee")}function isBoolean(e){return e===!0||e===!1||isObjectLike(e)&&Me.call(e)==D}function isDate(e){return isObjectLike(e)&&Me.call(e)==A}function isElement(e){return!!e&&1===e.nodeType&&isObjectLike(e)&&!isPlainObject(e)}function isEmpty(e){return null==e?!0:isArrayLike(e)&&(ln(e)||isString(e)||isArguments(e)||isObjectLike(e)&&isFunction(e.splice))?!e.length:!Cn(e).length}function isEqual(e,t,n,r){n="function"==typeof n?bindCallback(n,r,3):o;var i=n?n(e,t):o;return i===o?baseIsEqual(e,t,n):!!i}function isError(e){return isObjectLike(e)&&"string"==typeof e.message&&Me.call(e)==x}function isFinite(e){return"number"==typeof e&&Ze(e)}function isFunction(e){return isObject(e)&&Me.call(e)==O}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function isMatch(e,t,n,r){return n="function"==typeof n?bindCallback(n,r,3):o,baseIsMatch(e,getMatchData(t),n)}function isNaN(e){return isNumber(e)&&e!=+e}function isNative(e){return null==e?!1:isFunction(e)?je.test(Oe.call(e)):isObjectLike(e)&&de.test(e)}function isNull(e){return null===e}function isNumber(e){return"number"==typeof e||isObjectLike(e)&&Me.call(e)==N}function isPlainObject(e){var t;if(!isObjectLike(e)||Me.call(e)!=M||isArguments(e)||!Te.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return baseForIn(e,function(e,t){n=t}),n===o||Te.call(e,n)}function isRegExp(e){return isObject(e)&&Me.call(e)==I}function isString(e){return"string"==typeof e||isObjectLike(e)&&Me.call(e)==V}function isTypedArray(e){return isObjectLike(e)&&isLength(e.length)&&!!Pe[Me.call(e)]}function isUndefined(e){return e===o}function lt(e,t){return t>e}function lte(e,t){return t>=e}function toArray(e){var t=e?Pt(e):0;return isLength(t)?t?arrayCopy(e):[]:values(e)}function toPlainObject(e){return baseCopy(e,keysIn(e))}function create(e,t,n){var r=dt(e);return n&&isIterateeCall(e,t,n)&&(t=o),t?baseAssign(r,t):r}function functions(e){return baseFunctions(e,keysIn(e))}function get(e,t,n){var r=null==e?o:baseGet(e,toPath(t),t+"");return r===o?n:r}function has(e,t){if(null==e)return!1;var n=Te.call(e,t);if(!n&&!isKey(t)){if(t=toPath(t),e=1==t.length?e:baseGet(e,baseSlice(t,0,-1)),null==e)return!1;t=last(t),n=Te.call(e,t)}return n||isLength(e.length)&&isIndex(t,e.length)&&(ln(e)||isArguments(e))}function invert(e,t,n){n&&isIterateeCall(e,t,n)&&(t=o);for(var r=-1,i=Cn(e),a=i.length,s={};++r<a;){var c=i[r],u=e[c];t?Te.call(s,u)?s[u].push(c):s[u]=[c]:s[u]=c}return s}function keysIn(e){if(null==e)return[];isObject(e)||(e=j(e));var n=e.length;n=n&&isLength(n)&&(ln(e)||isArguments(e))&&n||0;for(var r=e.constructor,i=-1,o="function"==typeof r&&r.prototype===e,a=t(n),s=n>0;++i<n;)a[i]=i+"";for(var c in e)s&&isIndex(c,n)||"constructor"==c&&(o||!Te.call(e,c))||a.push(c);return a}function pairs(e){e=toObject(e);for(var n=-1,r=Cn(e),i=r.length,o=t(i);++n<i;){var a=r[n];o[n]=[a,e[a]]}return o}function result(e,t,n){var r=null==e?o:e[t];return r===o&&(null==e||isKey(t,e)||(t=toPath(t),e=1==t.length?e:baseGet(e,baseSlice(t,0,-1)),r=null==e?o:e[last(t)]),r=r===o?n:r),isFunction(r)?r.call(e):r}function set(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||isKey(t,e)?[r]:toPath(t);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var c=t[i];isObject(s)&&(i==a?s[c]=n:null==s[c]&&(s[c]=isIndex(t[i+1])?[]:{})),s=s[c]}return e}function transform(e,t,n,r){var i=ln(e)||isTypedArray(e);if(t=getCallback(t,r,4),null==n)if(i||isObject(e)){var a=e.constructor;n=i?ln(e)?new a:[]:dt(isFunction(a)?a.prototype:o)}else n={};return(i?arrayEach:baseForOwn)(e,function(e,r,i){return t(n,e,r,i)}),n}function values(e){return baseValues(e,Cn(e))}function valuesIn(e){return baseValues(e,keysIn(e))}function inRange(e,t,n){return t=+t||0,n===o?(n=t,t=0):n=+n||0,e>=tt(t,n)&&e<et(t,n)}function random(e,t,n){n&&isIterateeCall(e,t,n)&&(t=n=o);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var a=it();return tt(e+a*(t-e+Fe("1e-"+((a+"").length-1))),t)}return baseRandom(e,t)}function capitalize(e){return e=baseToString(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function deburr(e){return e=baseToString(e),e&&e.replace(ye,deburrLetter).replace(ue,"")}function endsWith(e,t,n){e=baseToString(e),t+="";var r=e.length;return n=n===o?r:tt(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function escape(e){return e=baseToString(e),e&&ee.test(e)?e.replace(Z,escapeHtmlChar):e}function escapeRegExp(e){return e=baseToString(e),e&&ce.test(e)?e.replace(se,escapeRegExpChar):e||"(?:)"}function pad(e,t,n){e=baseToString(e),t=+t;var r=e.length;if(r>=t||!Ze(t))return e;var i=(t-r)/2,o=Xe(i),a=Je(i);return n=createPadding("",a,n),n.slice(0,o)+e+n}function parseInt(e,t,n){return(n?isIterateeCall(e,t,n):null==t)?t=0:t&&(t=+t),e=trim(e),rt(e,t||(he.test(e)?16:10))}function repeat(e,t){var n="";if(e=baseToString(e),t=+t,1>t||!e||!Ze(t))return n;do t%2&&(n+=e),t=Xe(t/2),e+=e;while(t);return n}function startsWith(e,t,n){return e=baseToString(e),n=null==n?0:tt(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function template(e,t,n){var r=lodash.templateSettings;n&&isIterateeCall(e,t,n)&&(t=n=o),e=baseToString(e),t=assignWith(baseAssign({},n||t),r,assignOwnDefaults);var a,s,c=assignWith(baseAssign({},t.imports),r.imports,assignOwnDefaults),u=Cn(c),l=baseValues(c,u),p=0,f=t.interpolate||me,h="__p += '",d=we((t.escape||me).source+"|"+f.source+"|"+(f===re?pe:me).source+"|"+(t.evaluate||me).source+"|$","g"),g="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Ce+"]")+"\n";e.replace(d,function(t,n,r,i,o,c){return r||(r=i),h+=e.slice(p,c).replace(_e,escapeStringChar),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),o&&(s=!0,h+="';\n"+o+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),p=c+t.length,t}),h+="';\n";var y=t.variable;y||(h="with (obj) {\n"+h+"\n}\n"),h=(s?h.replace(J,""):h).replace(Q,"$1").replace(X,"$1;"),h="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Nn(function(){return i(u,g+"return "+h).apply(o,l)});if(m.source=h,isError(m))throw m;return m}function trim(e,t,n){var r=e;return(e=baseToString(e))?(n?isIterateeCall(r,t,n):null==t)?e.slice(trimmedLeftIndex(e),trimmedRightIndex(e)+1):(t+="",e.slice(charsLeftIndex(e,t),charsRightIndex(e,t)+1)):e}function trimLeft(e,t,n){var r=e;return e=baseToString(e),e?(n?isIterateeCall(r,t,n):null==t)?e.slice(trimmedLeftIndex(e)):e.slice(charsLeftIndex(e,t+"")):e}function trimRight(e,t,n){var r=e;return e=baseToString(e),e?(n?isIterateeCall(r,t,n):null==t)?e.slice(0,trimmedRightIndex(e)+1):e.slice(0,charsRightIndex(e,t+"")+1):e}function trunc(e,t,n){n&&isIterateeCall(e,t,n)&&(t=o);var r=y,i=m;if(null!=t)if(isObject(t)){var a="separator"in t?t.separator:a;r="length"in t?+t.length||0:r,i="omission"in t?baseToString(t.omission):i}else r=+t||0;if(e=baseToString(e),r>=e.length)return e;var s=r-i.length;if(1>s)return i;var c=e.slice(0,s);if(null==a)return c+i;if(isRegExp(a)){if(e.slice(s).search(a)){var u,l,p=e.slice(0,s);for(a.global||(a=we(a.source,(fe.exec(a)||"")+"g")),a.lastIndex=0;u=a.exec(p);)l=u.index;c=c.slice(0,null==l?s:l)}}else if(e.indexOf(a,s)!=s){var f=c.lastIndexOf(a);f>-1&&(c=c.slice(0,f))}return c+i}function unescape(e){return e=baseToString(e),e&&Y.test(e)?e.replace($,unescapeHtmlChar):e}function words(e,t,n){return n&&isIterateeCall(e,t,n)&&(t=o),e=baseToString(e),e.match(t||ve)||[]}function callback(e,t,n){return n&&isIterateeCall(e,t,n)&&(t=o),isObjectLike(e)?matches(e):baseCallback(e,t)}function constant(e){return function(){return e}}function identity(e){return e}function matches(e){return baseMatches(baseClone(e,!0))}function matchesProperty(e,t){return baseMatchesProperty(e,baseClone(t,!0))}function mixin(e,t,n){if(null==n){var r=isObject(t),i=r?Cn(t):o,a=i&&i.length?baseFunctions(t,i):o;(a?a.length:r)||(a=!1,n=t,t=e,e=this)}a||(a=baseFunctions(t,Cn(t)));var s=!0,c=-1,u=isFunction(e),l=a.length;n===!1?s=!1:isObject(n)&&"chain"in n&&(s=n.chain);for(;++c<l;){var p=a[c],f=t[p];e[p]=f,u&&(e.prototype[p]=function(t){return function(){var n=this.__chain__;if(s||n){var r=e(this.__wrapped__),i=r.__actions__=arrayCopy(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,arrayPush([this.value()],arguments))}}(f))}return e}function noConflict(){return ke._=Ie,this}function noop(){}function property(e){return isKey(e)?baseProperty(e):basePropertyDeep(e)}function propertyOf(e){return function(t){return baseGet(e,toPath(t),t+"")}}function range(e,n,r){r&&isIterateeCall(e,n,r)&&(n=r=o),e=+e||0,r=null==r?1:+r||0,null==n?(n=e,e=0):n=+n||0;for(var i=-1,a=et(Je((n-e)/(r||1)),0),s=t(a);++i<a;)s[i]=e,e+=r;return s}function times(e,n,r){if(e=Xe(e),1>e||!Ze(e))return[];var i=-1,o=t(tt(e,st));for(n=bindCallback(n,r,1);++i<e;)st>i?o[i]=n(i):n(i);return o}function uniqueId(e){var t=++Ne;return baseToString(e)+t}function add(e,t){return(+e||0)+(+t||0)}function sum(e,t,n){return n&&isIterateeCall(e,t,n)&&(t=o),t=getCallback(t,n,3),1==t.length?arraySum(ln(e)?e:toIterable(e),t):baseSum(e,t)}e=e?Ve.defaults(ke.Object(),e,Ve.pick(ke,be)):ke;var t=e.Array,n=e.Date,r=e.Error,i=e.Function,T=e.Math,k=e.Number,j=e.Object,we=e.RegExp,Ee=e.String,Se=e.TypeError,De=t.prototype,Ae=j.prototype,xe=Ee.prototype,Oe=i.prototype.toString,Te=Ae.hasOwnProperty,Ne=0,Me=Ae.toString,Ie=ke._,je=we("^"+Oe.call(Te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=e.ArrayBuffer,Le=e.clearTimeout,Fe=e.parseFloat,We=T.pow,Ue=Ae.propertyIsEnumerable,He=getNative(e,"Set"),ze=e.setTimeout,qe=De.splice,Ge=e.Uint8Array,Ke=getNative(e,"WeakMap"),Je=T.ceil,Qe=getNative(j,"create"),Xe=T.floor,$e=getNative(t,"isArray"),Ze=e.isFinite,Ye=getNative(j,"keys"),et=T.max,tt=T.min,nt=getNative(n,"now"),rt=e.parseInt,it=T.random,ot=k.NEGATIVE_INFINITY,at=k.POSITIVE_INFINITY,st=4294967295,ct=st-1,ut=st>>>1,pt=9007199254740991,ft=Ke&&new Ke,ht={};lodash.support={};lodash.templateSettings={escape:te,evaluate:ne,interpolate:re,variable:"",imports:{_:lodash}};var dt=function(){function object(){}return function(e){if(isObject(e)){object.prototype=e;var t=new object;object.prototype=o}return t||{}}}(),yt=createBaseEach(baseForOwn),mt=createBaseEach(baseForOwnRight,!0),_t=createBaseFor(),vt=createBaseFor(!0),bt=ft?function(e,t){return ft.set(e,t),e}:identity,Ct=ft?function(e){return ft.get(e)}:noop,Pt=baseProperty("length"),Rt=function(){var e=0,t=0;return function(n,r){var i=Qt(),o=v-(i-t);if(t=i,o>0){if(++e>=_)return n}else e=0;return bt(n,r)}}(),wt=restParam(function(e,t){return isObjectLike(e)&&isArrayLike(e)?baseDifference(e,baseFlatten(t,!1,!0)):[]}),Et=createFindIndex(),St=createFindIndex(!0),Dt=restParam(function(e){for(var n=e.length,r=n,i=t(p),o=getIndexOf(),a=o==baseIndexOf,s=[];r--;){var c=e[r]=isArrayLike(c=e[r])?c:[];i[r]=a&&c.length>=120?createCache(r&&c):null}var u=e[0],l=-1,p=u?u.length:0,f=i[0];e:for(;++l<p;)if(c=u[l],(f?cacheIndexOf(f,c):o(s,c,0))<0){for(var r=n;--r;){var h=i[r];if((h?cacheIndexOf(h,c):o(e[r],c,0))<0)continue e}f&&f.push(c),s.push(c)}return s}),At=restParam(function(e,t){t=baseFlatten(t);var n=baseAt(e,t);return basePullAt(e,t.sort(baseCompareAscending)),n}),xt=createSortedIndex(),Ot=createSortedIndex(!0),Tt=restParam(function(e){return baseUniq(baseFlatten(e,!1,!0))}),Nt=restParam(function(e,t){return isArrayLike(e)?baseDifference(e,t):[]}),Mt=restParam(unzip),It=restParam(function(e){var t=e.length,n=t>2?e[t-2]:o,r=t>1?e[t-1]:o;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):o,r=o),e.length=t,unzipWith(e,n,r)}),kt=restParam(function(e){return e=baseFlatten(e),this.thru(function(t){return arrayConcat(ln(t)?t:[toObject(t)],e)})}),Vt=restParam(function(e,t){return baseAt(e,baseFlatten(t))}),jt=createAggregator(function(e,t,n){Te.call(e,n)?++e[n]:e[n]=1}),Bt=createFind(yt),Lt=createFind(mt,!0),Ft=createForEach(arrayEach,yt),Wt=createForEach(arrayEachRight,mt),Ut=createAggregator(function(e,t,n){Te.call(e,n)?e[n].push(t):e[n]=[t]}),Ht=createAggregator(function(e,t,n){e[n]=t}),zt=restParam(function(e,n,r){var i=-1,a="function"==typeof n,s=isKey(n),c=isArrayLike(e)?t(e.length):[];return yt(e,function(e){var t=a?n:s&&null!=e?e[n]:o;c[++i]=t?t.apply(e,r):invokePath(e,n,r)}),c}),qt=createAggregator(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Gt=createReduce(arrayReduce,yt),Kt=createReduce(arrayReduceRight,mt),Jt=restParam(function(e,t){if(null==e)return[];var n=t[2];return n&&isIterateeCall(t[0],t[1],n)&&(t.length=1),baseSortByOrder(e,baseFlatten(t),[])}),Qt=nt||function(){return(new n).getTime()},Xt=restParam(function(e,t,n){var r=s;if(n.length){var i=replaceHolders(n,Xt.placeholder);r|=f}return createWrapper(e,r,t,n,i)}),$t=restParam(function(e,t){t=t.length?baseFlatten(t):functions(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=createWrapper(e[i],s,e)}return e}),Zt=restParam(function(e,t,n){var r=s|c;if(n.length){var i=replaceHolders(n,Zt.placeholder);r|=f}return createWrapper(t,r,e,n,i)}),Yt=createCurry(l),en=createCurry(p),tn=restParam(function(e,t){return baseDelay(e,1,t)}),nn=restParam(function(e,t,n){return baseDelay(e,t,n)}),rn=createFlow(),on=createFlow(!0),an=restParam(function(e,t){if(t=baseFlatten(t),"function"!=typeof e||!arrayEvery(t,baseIsFunction))throw new Se(R);var n=t.length;return restParam(function(r){for(var i=tt(r.length,n);i--;)r[i]=t[i](r[i]);return e.apply(this,r)})}),sn=createPartial(f),cn=createPartial(h),un=restParam(function(e,t){return createWrapper(e,g,o,o,o,baseFlatten(t))}),ln=$e||function(e){return isObjectLike(e)&&isLength(e.length)&&Me.call(e)==S},pn=createAssigner(baseMerge),fn=createAssigner(function(e,t,n){return n?assignWith(e,t,n):baseAssign(e,t)}),hn=createDefaults(fn,assignDefaults),dn=createDefaults(pn,mergeDefaults),gn=createFindKey(baseForOwn),yn=createFindKey(baseForOwnRight),mn=createForIn(_t),_n=createForIn(vt),vn=createForOwn(baseForOwn),bn=createForOwn(baseForOwnRight),Cn=Ye?function(e){var t=null==e?o:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&isArrayLike(e)?shimKeys(e):isObject(e)?Ye(e):[]}:shimKeys,Pn=createObjectMapper(!0),Rn=createObjectMapper(),wn=restParam(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=arrayMap(baseFlatten(t),Ee);return pickByArray(e,baseDifference(keysIn(e),t))}var n=bindCallback(t[0],t[1],3);return pickByCallback(e,function(e,t,r){return!n(e,t,r)})}),En=restParam(function(e,t){return null==e?{}:"function"==typeof t[0]?pickByCallback(e,bindCallback(t[0],t[1],3)):pickByArray(e,baseFlatten(t))}),Sn=createCompounder(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Dn=createCompounder(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),An=createPadDir(),xn=createPadDir(!0),On=createCompounder(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Tn=createCompounder(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Nn=restParam(function(e,t){try{return e.apply(o,t)}catch(n){return isError(n)?n:new r(n)}}),Mn=restParam(function(e,t){return function(n){return invokePath(n,e,t)}}),In=restParam(function(e,t){return function(n){return invokePath(e,n,t)}}),kn=createRound("ceil"),Vn=createRound("floor"),jn=createExtremum(gt,ot),Bn=createExtremum(lt,at),Ln=createRound("round");return lodash.prototype=baseLodash.prototype,LodashWrapper.prototype=dt(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=dt(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,MapCache.prototype.delete=mapDelete,MapCache.prototype.get=mapGet,MapCache.prototype.has=mapHas,MapCache.prototype.set=mapSet,SetCache.prototype.push=cachePush,memoize.Cache=MapCache,lodash.after=after,lodash.ary=ary,lodash.assign=fn,lodash.at=Vt,lodash.before=before,lodash.bind=Xt,lodash.bindAll=$t,lodash.bindKey=Zt,lodash.callback=callback,lodash.chain=chain,lodash.chunk=chunk,lodash.compact=compact,lodash.constant=constant,lodash.countBy=jt,lodash.create=create,lodash.curry=Yt,lodash.curryRight=en,lodash.debounce=debounce,lodash.defaults=hn,lodash.defaultsDeep=dn,lodash.defer=tn,lodash.delay=nn,lodash.difference=wt,lodash.drop=drop,lodash.dropRight=dropRight,lodash.dropRightWhile=dropRightWhile,lodash.dropWhile=dropWhile,lodash.fill=fill,lodash.filter=filter,lodash.flatten=flatten,lodash.flattenDeep=flattenDeep,lodash.flow=rn,lodash.flowRight=on,lodash.forEach=Ft,lodash.forEachRight=Wt,lodash.forIn=mn,lodash.forInRight=_n,lodash.forOwn=vn,lodash.forOwnRight=bn,lodash.functions=functions,lodash.groupBy=Ut,lodash.indexBy=Ht,lodash.initial=initial,lodash.intersection=Dt,lodash.invert=invert,lodash.invoke=zt,lodash.keys=Cn,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=Pn,lodash.mapValues=Rn,lodash.matches=matches,lodash.matchesProperty=matchesProperty,lodash.memoize=memoize,lodash.merge=pn,lodash.method=Mn,lodash.methodOf=In,lodash.mixin=mixin,lodash.modArgs=an,lodash.negate=negate,lodash.omit=wn,lodash.once=once,lodash.pairs=pairs,lodash.partial=sn,lodash.partialRight=cn,lodash.partition=qt,lodash.pick=En,lodash.pluck=pluck,lodash.property=property,lodash.propertyOf=propertyOf,lodash.pull=pull,lodash.pullAt=At,lodash.range=range,lodash.rearg=un,lodash.reject=reject,lodash.remove=remove,lodash.rest=rest,lodash.restParam=restParam,lodash.set=set,lodash.shuffle=shuffle,lodash.slice=slice,lodash.sortBy=sortBy,lodash.sortByAll=Jt,lodash.sortByOrder=sortByOrder,lodash.spread=spread,lodash.take=take,lodash.takeRight=takeRight,lodash.takeRightWhile=takeRightWhile,lodash.takeWhile=takeWhile,lodash.tap=tap,lodash.throttle=throttle,lodash.thru=thru,lodash.times=times,lodash.toArray=toArray,lodash.toPlainObject=toPlainObject,lodash.transform=transform,lodash.union=Tt,lodash.uniq=uniq,lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.values=values,lodash.valuesIn=valuesIn,lodash.where=where,lodash.without=Nt,lodash.wrap=wrap,lodash.xor=xor,lodash.zip=Mt,lodash.zipObject=zipObject,lodash.zipWith=It,lodash.backflow=on,lodash.collect=map,lodash.compose=on,lodash.each=Ft,lodash.eachRight=Wt,lodash.extend=fn,lodash.iteratee=callback,lodash.methods=functions,lodash.object=zipObject,lodash.select=filter,lodash.tail=rest,lodash.unique=uniq,mixin(lodash,lodash),lodash.add=add,lodash.attempt=Nn,lodash.camelCase=Sn,lodash.capitalize=capitalize,lodash.ceil=kn,lodash.clone=clone,lodash.cloneDeep=cloneDeep,lodash.deburr=deburr,lodash.endsWith=endsWith,lodash.escape=escape,lodash.escapeRegExp=escapeRegExp,lodash.every=every,lodash.find=Bt,lodash.findIndex=Et,lodash.findKey=gn,lodash.findLast=Lt,lodash.findLastIndex=St,lodash.findLastKey=yn,lodash.findWhere=findWhere,lodash.first=first,lodash.floor=Vn,lodash.get=get,lodash.gt=gt,lodash.gte=gte,lodash.has=has,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.inRange=inRange,lodash.isArguments=isArguments,lodash.isArray=ln,lodash.isBoolean=isBoolean,lodash.isDate=isDate,lodash.isElement=isElement,lodash.isEmpty=isEmpty,lodash.isEqual=isEqual,lodash.isError=isError,lodash.isFinite=isFinite,lodash.isFunction=isFunction,lodash.isMatch=isMatch,lodash.isNaN=isNaN,lodash.isNative=isNative,lodash.isNull=isNull,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isString=isString,lodash.isTypedArray=isTypedArray,lodash.isUndefined=isUndefined,lodash.kebabCase=Dn,lodash.last=last,lodash.lastIndexOf=lastIndexOf,lodash.lt=lt,lodash.lte=lte,lodash.max=jn,lodash.min=Bn,lodash.noConflict=noConflict,lodash.noop=noop,lodash.now=Qt,lodash.pad=pad,lodash.padLeft=An,lodash.padRight=xn,lodash.parseInt=parseInt,lodash.random=random,lodash.reduce=Gt,lodash.reduceRight=Kt,lodash.repeat=repeat,lodash.result=result,lodash.round=Ln,lodash.runInContext=runInContext,lodash.size=size,lodash.snakeCase=On,lodash.some=some,lodash.sortedIndex=xt,lodash.sortedLastIndex=Ot,lodash.startCase=Tn,lodash.startsWith=startsWith,lodash.sum=sum,lodash.template=template,lodash.trim=trim,lodash.trimLeft=trimLeft,lodash.trimRight=trimRight,lodash.trunc=trunc,lodash.unescape=unescape,lodash.uniqueId=uniqueId,lodash.words=words,lodash.all=every,lodash.any=some,lodash.contains=includes,lodash.eq=isEqual,lodash.detect=Bt,lodash.foldl=Gt,lodash.foldr=Kt,lodash.head=first,lodash.include=includes,lodash.inject=Gt,mixin(lodash,function(){var e={};return baseForOwn(lodash,function(t,n){lodash.prototype[n]||(e[n]=t)}),e}(),!1),lodash.sample=sample,lodash.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return sample(t,e)}):sample(this.value())},lodash.VERSION=a,arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){lodash[e].placeholder=lodash}),arrayEach(["drop","take"],function(e,t){LazyWrapper.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new LazyWrapper(this);n=null==n?1:et(Xe(n)||0,0);var i=this.clone();return r?i.__takeCount__=tt(i.__takeCount__,n):i.__views__.push({size:n,type:e+(i.__dir__<0?"Right":"")}),i},LazyWrapper.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),arrayEach(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n!=P;LazyWrapper.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:getCallback(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),arrayEach(["first","last"],function(e,t){var n="take"+(t?"Right":"");LazyWrapper.prototype[e]=function(){return this[n](1).value()[0]}}),arrayEach(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");LazyWrapper.prototype[e]=function(){return this.__filtered__?new LazyWrapper(this):this[n](1)}}),arrayEach(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?baseMatches:property;LazyWrapper.prototype[e]=function(e){return this[n](r(e))}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.reject=function(e,t){return e=getCallback(e,t,1),this.filter(function(t){return!e(t)})},LazyWrapper.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||0>t)?new LazyWrapper(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n)},LazyWrapper.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(at)},baseForOwn(LazyWrapper.prototype,function(e,t){var n=/^(?:filter|map|reject)|While$/.test(t),r=/^(?:first|last)$/.test(t),i=lodash[r?"take"+("last"==t?"Right":""):t];i&&(lodash.prototype[t]=function(){var t=r?[1]:arguments,a=this.__chain__,s=this.__wrapped__,c=!!this.__actions__.length,u=s instanceof LazyWrapper,l=t[0],p=u||ln(s);p&&n&&"function"==typeof l&&1!=l.length&&(u=p=!1);var f=function(e){return r&&a?i(e,1)[0]:i.apply(o,arrayPush([e],t))},h={func:thru,args:[f],thisArg:o},d=u&&!c;if(r&&!a)return d?(s=s.clone(),s.__actions__.push(h),e.call(s)):i.call(o,this.value())[0];if(!r&&p){s=d?s:new LazyWrapper(this);var g=e.apply(s,t);return g.__actions__.push(h),new LodashWrapper(g,a)}return this.thru(f)})}),arrayEach(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?xe:De)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(e);lodash.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),baseForOwn(LazyWrapper.prototype,function(e,t){var n=lodash[t];if(n){var r=n.name,i=ht[r]||(ht[r]=[]);i.push({name:t,func:n})}}),ht[createHybridWrapper(o,c).name]=[{name:"wrapper",func:o}],LazyWrapper.prototype.clone=lazyClone,LazyWrapper.prototype.reverse=lazyReverse,
LazyWrapper.prototype.value=lazyValue,lodash.prototype.chain=wrapperChain,lodash.prototype.commit=wrapperCommit,lodash.prototype.concat=kt,lodash.prototype.plant=wrapperPlant,lodash.prototype.reverse=wrapperReverse,lodash.prototype.toString=wrapperToString,lodash.prototype.run=lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue,lodash.prototype.collect=lodash.prototype.map,lodash.prototype.head=lodash.prototype.first,lodash.prototype.select=lodash.prototype.filter,lodash.prototype.tail=lodash.prototype.rest,lodash}var o,a="3.10.1",s=1,c=2,u=4,l=8,p=16,f=32,h=64,d=128,g=256,y=30,m="...",_=150,v=16,b=200,C=1,P=2,R="Expected a function",w="__lodash_placeholder__",E="[object Arguments]",S="[object Array]",D="[object Boolean]",A="[object Date]",x="[object Error]",O="[object Function]",T="[object Map]",N="[object Number]",M="[object Object]",I="[object RegExp]",k="[object Set]",V="[object String]",j="[object WeakMap]",B="[object ArrayBuffer]",L="[object Float32Array]",F="[object Float64Array]",W="[object Int8Array]",U="[object Int16Array]",H="[object Int32Array]",z="[object Uint8Array]",q="[object Uint8ClampedArray]",G="[object Uint16Array]",K="[object Uint32Array]",J=/\b__p \+= '';/g,Q=/\b(__p \+=) '' \+/g,X=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$=/&(?:amp|lt|gt|quot|#39|#96);/g,Z=/[&<>"'`]/g,Y=RegExp($.source),ee=RegExp(Z.source),te=/<%-([\s\S]+?)%>/g,ne=/<%([\s\S]+?)%>/g,re=/<%=([\s\S]+?)%>/g,ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,oe=/^\w*$/,ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,se=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,ce=RegExp(se.source),ue=/[\u0300-\u036f\ufe20-\ufe23]/g,le=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fe=/\w*$/,he=/^0[xX]/,de=/^\[object .+?Constructor\]$/,ge=/^\d+$/,ye=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,me=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,ve=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),be=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Ce=-1,Pe={};Pe[L]=Pe[F]=Pe[W]=Pe[U]=Pe[H]=Pe[z]=Pe[q]=Pe[G]=Pe[K]=!0,Pe[E]=Pe[S]=Pe[B]=Pe[D]=Pe[A]=Pe[x]=Pe[O]=Pe[T]=Pe[N]=Pe[M]=Pe[I]=Pe[k]=Pe[V]=Pe[j]=!1;var Re={};Re[E]=Re[S]=Re[B]=Re[D]=Re[A]=Re[L]=Re[F]=Re[W]=Re[U]=Re[H]=Re[N]=Re[M]=Re[I]=Re[V]=Re[z]=Re[q]=Re[G]=Re[K]=!0,Re[x]=Re[O]=Re[T]=Re[k]=Re[j]=!1;var we={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Se={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},De={"function":!0,object:!0},Ae={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},xe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Oe=De[typeof t]&&t&&!t.nodeType&&t,Te=De[typeof e]&&e&&!e.nodeType&&e,Ne=Oe&&Te&&"object"==typeof i&&i&&i.Object&&i,Me=De[typeof self]&&self&&self.Object&&self,Ie=De[typeof window]&&window&&window.Object&&window,ke=(Te&&Te.exports===Oe&&Oe,Ne||Ie!==(this&&this.window)&&Ie||Me||this),Ve=runInContext();ke._=Ve,r=function(){return Ve}.call(t,n,t,e),!(r!==o&&(e.exports=r))}).call(this)}).call(t,n(318)(e),function(){return this}())}]);
//# sourceMappingURL=vendor.49253688df59cedfb280.bundle.map